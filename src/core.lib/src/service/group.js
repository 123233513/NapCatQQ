function _0x56f1(){const _0x349cf0=['20pnsNUV','24WTeilR','78896czPiLE','listener','groupCode','infos','kRjeq','gIanV','addKernelGroupListener','set','20495gGVrRP','8388ugJFbr','forEach','getNextMemberList','378278EUMQER','assign','has','kernelService','8cDaAwO','then','get','addGroupListener','2511981MrnAgt','uin','NodeIKernelGroupListener','onMemberInfoChange','map','sceneId','GroupService\x20already\x20initialized!','11PAqPXX','5834930rLAbPd','2759897zwTZmz','init'];_0x56f1=function(){return _0x349cf0;};return _0x56f1();}function _0x1d93(_0x27e646,_0x10078f){const _0x56f179=_0x56f1();return _0x1d93=function(_0x1d933e,_0x91527e){_0x1d933e=_0x1d933e-0x1d2;let _0xc081e3=_0x56f179[_0x1d933e];return _0xc081e3;},_0x1d93(_0x27e646,_0x10078f);}const _0x34549d=_0x1d93;(function(_0x42e553,_0xcd53ff){const _0x4742c4=_0x1d93,_0x347213=_0x42e553();while(!![]){try{const _0xd25d08=parseInt(_0x4742c4(0x1f2))/0x1+parseInt(_0x4742c4(0x1e6))/0x2*(parseInt(_0x4742c4(0x1e5))/0x3)+parseInt(_0x4742c4(0x1e4))/0x4*(parseInt(_0x4742c4(0x1ee))/0x5)+parseInt(_0x4742c4(0x1ef))/0x6+parseInt(_0x4742c4(0x1e2))/0x7+-parseInt(_0x4742c4(0x1d5))/0x8*(parseInt(_0x4742c4(0x1d9))/0x9)+-parseInt(_0x4742c4(0x1e1))/0xa*(parseInt(_0x4742c4(0x1e0))/0xb);if(_0xd25d08===_0xcd53ff)break;else _0x347213['push'](_0x347213['shift']());}catch(_0x4737cb){_0x347213['push'](_0x347213['shift']());}}}(_0x56f1,0x3c680));import{Wrapper as _0xc786c3}from'../qqnt';import{GroupListener}from'../qqnt/listeners';import{groupMembers,groups,uid2UinMap}from'@/common/data';export class NapCatCoreServiceGroup{['kernelService']=null;['listener'];constructor(){this['listener']=new GroupListener();}[_0x34549d(0x1e3)](_0x4bec9b){const _0x28395c=_0x34549d,_0x122c9b={'kRjeq':'groupMemberList_MainWindow','gIanV':function(_0x5d9be5,_0x4a8568){return _0x5d9be5!==_0x4a8568;},'Ygpzc':_0x28395c(0x1df)};if(_0x122c9b[_0x28395c(0x1eb)](this[_0x28395c(0x1d4)],null))throw new Error(_0x122c9b['Ygpzc']);this[_0x28395c(0x1d4)]=_0x4bec9b,this[_0x28395c(0x1e7)]['onGroupListUpdate']=(_0x518260,_0x26070b)=>{const _0x4bb7a8=_0x28395c;_0x26070b[_0x4bb7a8(0x1dd)](_0x38109a=>{const _0x581a57=_0x4bb7a8,_0x26df8d=groups['get'](_0x38109a['groupCode']);if(_0x26df8d)Object[_0x581a57(0x1d2)](_0x26df8d,_0x38109a);else{groups[_0x581a57(0x1ed)](_0x38109a[_0x581a57(0x1e8)],_0x38109a);const _0x57bdd0=this[_0x581a57(0x1d4)]?.['createMemberListScene'](_0x38109a[_0x581a57(0x1e8)],_0x122c9b[_0x581a57(0x1ea)]);this[_0x581a57(0x1d4)]?.[_0x581a57(0x1f1)](_0x57bdd0,undefined,0xbb8)[_0x581a57(0x1d6)](_0x2cf9f1=>{});}});},this['listener']['onMemberListChange']=_0x433685=>{const _0xecc67d=_0x28395c,_0x45487f=_0x433685[_0xecc67d(0x1de)]['split']('_')[0x0];if(groupMembers[_0xecc67d(0x1d3)](_0x45487f)){const _0x4d7b9e=groupMembers[_0xecc67d(0x1d7)](_0x45487f);_0x433685[_0xecc67d(0x1e9)][_0xecc67d(0x1f0)]((_0x576765,_0x4e1cfa)=>{const _0x31aebf=_0xecc67d,_0xc4d8d2=_0x4d7b9e[_0x31aebf(0x1d7)](_0x4e1cfa);_0xc4d8d2?Object[_0x31aebf(0x1d2)](_0xc4d8d2,_0x576765):_0x4d7b9e[_0x31aebf(0x1ed)](_0x4e1cfa,_0x576765);});}else groupMembers['set'](_0x45487f,_0x433685['infos']);},this[_0x28395c(0x1e7)][_0x28395c(0x1dc)]=(_0x4675c4,_0x11ec8e,_0x2fe7e4)=>{const _0x108794=_0x28395c;_0x2fe7e4[_0x108794(0x1f0)]((_0x1f0de4,_0x365197)=>{const _0x504320=_0x108794;uid2UinMap[_0x365197]=_0x1f0de4[_0x504320(0x1da)];});const _0x585223=groupMembers[_0x108794(0x1d7)](_0x4675c4);_0x585223?_0x2fe7e4[_0x108794(0x1f0)]((_0xa4fcb4,_0x51511e)=>{const _0x2ffb44=_0x108794,_0x44cb83=_0x585223[_0x2ffb44(0x1d7)](_0x51511e);_0x44cb83?Object['assign'](_0x44cb83,_0xa4fcb4):_0x585223['set'](_0x51511e,_0xa4fcb4);}):groupMembers['set'](_0x4675c4,_0x2fe7e4);},this[_0x28395c(0x1d4)][_0x28395c(0x1ec)](new _0xc786c3[(_0x28395c(0x1db))](this[_0x28395c(0x1e7)]));}[_0x34549d(0x1d8)](_0x2b3c8a){const _0x5a2d21=_0x34549d;return this['kernelService']?.['addKernelGroupListener'](new _0xc786c3[(_0x5a2d21(0x1db))](_0x2b3c8a));}}