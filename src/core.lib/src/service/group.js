const _0x481f2e=_0x3442;function _0x3442(_0x269116,_0x1ee7a3){const _0x759b4f=_0x759b();return _0x3442=function(_0x344293,_0x3440f6){_0x344293=_0x344293-0xff;let _0x1c23b4=_0x759b4f[_0x344293];return _0x1c23b4;},_0x3442(_0x269116,_0x1ee7a3);}(function(_0x140e42,_0xdf839f){const _0x19cf5b=_0x3442,_0x41a658=_0x140e42();while(!![]){try{const _0x4e5113=parseInt(_0x19cf5b(0x112))/0x1+-parseInt(_0x19cf5b(0x10f))/0x2+parseInt(_0x19cf5b(0x11b))/0x3*(-parseInt(_0x19cf5b(0x11c))/0x4)+parseInt(_0x19cf5b(0x110))/0x5*(-parseInt(_0x19cf5b(0x113))/0x6)+-parseInt(_0x19cf5b(0x101))/0x7*(parseInt(_0x19cf5b(0x10c))/0x8)+-parseInt(_0x19cf5b(0x114))/0x9+parseInt(_0x19cf5b(0x111))/0xa*(parseInt(_0x19cf5b(0xff))/0xb);if(_0x4e5113===_0xdf839f)break;else _0x41a658['push'](_0x41a658['shift']());}catch(_0x566da5){_0x41a658['push'](_0x41a658['shift']());}}}(_0x759b,0x56396));function _0x759b(){const _0x2fd4ef=['addGroupListener','kernelService','yHhXl','sceneId','get','forEach','onGroupListUpdate','NodeIKernelGroupListener','then','8iIPKgI','addKernelGroupListener','getNextMemberList','169812rELDgu','642130ZkFizt','1946170KWFRZS','488509TIcIHK','30VlGBos','5801904dLjlPf','listener','init','map','onMemberListChange','infos','groupCode','3pyBzTN','609848BhCHri','groupMemberList_MainWindow','110UfUNqk','has','3901457qSSJeb','set'];_0x759b=function(){return _0x2fd4ef;};return _0x759b();}import{Wrapper as _0x828c6c}from'../qqnt';import{GroupListener}from'../qqnt/listeners';import{groupMembers,groups,uid2UinMap}from'@/common/data';export class NapCatCoreServiceGroup{[_0x481f2e(0x104)]=null;['listener'];constructor(){const _0x57fb05=_0x481f2e;this[_0x57fb05(0x115)]=new GroupListener();}[_0x481f2e(0x116)](_0x196c19){const _0x38da72=_0x481f2e,_0x3dc3f9={'WLmsg':_0x38da72(0x11d),'yHhXl':function(_0xb5afda,_0x46d651){return _0xb5afda!==_0x46d651;},'TIhMt':'GroupService\x20already\x20initialized!'};if(_0x3dc3f9[_0x38da72(0x105)](this[_0x38da72(0x104)],null))throw new Error(_0x3dc3f9['TIhMt']);this[_0x38da72(0x104)]=_0x196c19,this[_0x38da72(0x115)][_0x38da72(0x109)]=(_0x28934c,_0x578031)=>{const _0x395d82=_0x38da72;_0x578031[_0x395d82(0x117)](_0x26cbde=>{const _0x35e830=_0x395d82,_0x427b1c=groups['get'](_0x26cbde['groupCode']);if(_0x427b1c)Object['assign'](_0x427b1c,_0x26cbde);else{groups[_0x35e830(0x102)](_0x26cbde[_0x35e830(0x11a)],_0x26cbde);const _0x2e5f3a=this['kernelService']?.['createMemberListScene'](_0x26cbde['groupCode'],_0x3dc3f9['WLmsg']);this[_0x35e830(0x104)]?.[_0x35e830(0x10e)](_0x2e5f3a,undefined,0xbb8)[_0x35e830(0x10b)](_0x4d4017=>{});}});},this[_0x38da72(0x115)][_0x38da72(0x118)]=_0x6c9bde=>{const _0x8b3056=_0x38da72,_0x4bca9e=_0x6c9bde[_0x8b3056(0x106)]['split']('_')[0x0];if(groupMembers[_0x8b3056(0x100)](_0x4bca9e)){const _0x462b86=groupMembers['get'](_0x4bca9e);_0x6c9bde[_0x8b3056(0x119)][_0x8b3056(0x108)]((_0x5d6eed,_0x3904c6)=>{const _0x1cabbe=_0x8b3056,_0x4db809=_0x462b86[_0x1cabbe(0x107)](_0x3904c6);_0x4db809?Object['assign'](_0x4db809,_0x5d6eed):_0x462b86[_0x1cabbe(0x102)](_0x3904c6,_0x5d6eed);});}else groupMembers['set'](_0x4bca9e,_0x6c9bde[_0x8b3056(0x119)]);},this[_0x38da72(0x115)]['onMemberInfoChange']=(_0x293864,_0x58aedb,_0x329f60)=>{const _0x3bc402=_0x38da72;_0x329f60[_0x3bc402(0x108)]((_0xa03e0a,_0x6a75b1)=>{uid2UinMap[_0x6a75b1]=_0xa03e0a['uin'];});const _0x41c76d=groupMembers[_0x3bc402(0x107)](_0x293864);_0x41c76d?_0x329f60['forEach']((_0x5242d7,_0x3c78ff)=>{const _0x237aa0=_0x3bc402,_0x29f0d2=_0x41c76d[_0x237aa0(0x107)](_0x3c78ff);_0x29f0d2?Object['assign'](_0x29f0d2,_0x5242d7):_0x41c76d['set'](_0x3c78ff,_0x5242d7);}):groupMembers['set'](_0x293864,_0x329f60);},this[_0x38da72(0x104)][_0x38da72(0x10d)](new _0x828c6c['NodeIKernelGroupListener'](this[_0x38da72(0x115)]));}[_0x481f2e(0x103)](_0x845737){const _0x3e9f13=_0x481f2e;return this['kernelService']?.[_0x3e9f13(0x10d)](new _0x828c6c[(_0x3e9f13(0x10a))](_0x845737));}}