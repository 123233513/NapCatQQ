function _0x18f8(_0x1e31f2,_0x92bd4b){var _0x5b9850=_0x5b98();return _0x18f8=function(_0x18f8e4,_0x2f4f3e){_0x18f8e4=_0x18f8e4-0xac;var _0x9056b6=_0x5b9850[_0x18f8e4];return _0x9056b6;},_0x18f8(_0x1e31f2,_0x92bd4b);}var _0x59d168=_0x18f8;function _0x5b98(){var _0x1d4f50=['map','listener','104tuckds','getMsgByLongId','1589mJuQml','145618iVLLMT','MessageService\x20already\x20initialized!','onMsgInfoListUpdate','16328LAUKuE','852vQujVO','kernelService','msgId','94906TfqfzU','9930MqtCeb','12vxgsdS','addMsgListener','122481mykWvk','then','NodeIKernelMsgListener','recallTime','addMsg','315309yTcqco','init','2KRGeax','70MNFJVg','addKernelMsgListener','31020ORomdi','850oYOIiK'];_0x5b98=function(){return _0x1d4f50;};return _0x5b98();}(function(_0x214e9c,_0x1192fb){var _0x2abd88=_0x18f8,_0x501553=_0x214e9c();while(!![]){try{var _0x27c326=-parseInt(_0x2abd88(0xc5))/0x1*(-parseInt(_0x2abd88(0xbb))/0x2)+parseInt(_0x2abd88(0xb9))/0x3*(-parseInt(_0x2abd88(0xb2))/0x4)+parseInt(_0x2abd88(0xbf))/0x5*(-parseInt(_0x2abd88(0xb1))/0x6)+parseInt(_0x2abd88(0xc4))/0x7*(parseInt(_0x2abd88(0xac))/0x8)+parseInt(_0x2abd88(0xb4))/0x9*(parseInt(_0x2abd88(0xbc))/0xa)+parseInt(_0x2abd88(0xbe))/0xb*(parseInt(_0x2abd88(0xad))/0xc)+parseInt(_0x2abd88(0xc2))/0xd*(-parseInt(_0x2abd88(0xb0))/0xe);if(_0x27c326===_0x1192fb)break;else _0x501553['push'](_0x501553['shift']());}catch(_0x485edb){_0x501553['push'](_0x501553['shift']());}}}(_0x5b98,0x3de4d));import{Wrapper as _0x2bcda7}from'../qqnt';import{MsgListener}from'../qqnt/listeners';import{dbUtil}from'@/common/utils/db';export class NapCatCoreServiceMessage{[_0x59d168(0xae)]=null;['listener'];constructor(){var _0x3f892f=_0x59d168,_0x1eccfc={'MNyEd':function(_0x41df16,_0x1b8e85){return _0x41df16===_0x1b8e85;}};this['listener']=new MsgListener(),this[_0x3f892f(0xc1)][_0x3f892f(0xc7)]=_0x2cda1d=>{var _0x358920=_0x3f892f;_0x2cda1d[_0x358920(0xc0)](_0x56bc0a=>{var _0x50a4d7=_0x358920;_0x1eccfc['MNyEd'](_0x56bc0a['recallTime'],'0')?dbUtil[_0x50a4d7(0xb8)](_0x56bc0a)[_0x50a4d7(0xb5)]()['catch']():dbUtil[_0x50a4d7(0xc3)](_0x56bc0a[_0x50a4d7(0xaf)])[_0x50a4d7(0xb5)](_0x4b5859=>{var _0x3eb26a=_0x50a4d7;_0x4b5859&&(_0x4b5859[_0x3eb26a(0xb7)]=_0x56bc0a[_0x3eb26a(0xb7)],dbUtil['updateMsg'](_0x4b5859)[_0x3eb26a(0xb5)]());});});};}[_0x59d168(0xba)](_0x42df54){var _0x2a9e00=_0x59d168,_0x7f62f5={'ZkoEF':function(_0x5c3e66,_0x4ef821){return _0x5c3e66!==_0x4ef821;},'xdAhq':_0x2a9e00(0xc6)};if(_0x7f62f5['ZkoEF'](this[_0x2a9e00(0xae)],null))throw new Error(_0x7f62f5['xdAhq']);this[_0x2a9e00(0xae)]=_0x42df54,this[_0x2a9e00(0xae)][_0x2a9e00(0xbd)](new _0x2bcda7[(_0x2a9e00(0xb6))](this[_0x2a9e00(0xc1)]));}[_0x59d168(0xb3)](_0x58207f){var _0xfd44d4=_0x59d168;return this[_0xfd44d4(0xae)]?.[_0xfd44d4(0xbd)](new _0x2bcda7['NodeIKernelMsgListener'](_0x58207f));}}