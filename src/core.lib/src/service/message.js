function _0x5b60(_0x49614c,_0x240378){var _0xea5db3=_0xea5d();return _0x5b60=function(_0x5b602a,_0x2d2228){_0x5b602a=_0x5b602a-0x17d;var _0x4b08df=_0xea5db3[_0x5b602a];return _0x4b08df;},_0x5b60(_0x49614c,_0x240378);}var _0x5e95c3=_0x5b60;(function(_0x35edf1,_0x25299b){var _0xb6c02c=_0x5b60,_0xdc93d1=_0x35edf1();while(!![]){try{var _0x4d1ada=parseInt(_0xb6c02c(0x18a))/0x1*(-parseInt(_0xb6c02c(0x195))/0x2)+-parseInt(_0xb6c02c(0x18b))/0x3+parseInt(_0xb6c02c(0x194))/0x4+parseInt(_0xb6c02c(0x18e))/0x5*(parseInt(_0xb6c02c(0x18c))/0x6)+parseInt(_0xb6c02c(0x193))/0x7*(-parseInt(_0xb6c02c(0x188))/0x8)+-parseInt(_0xb6c02c(0x186))/0x9*(parseInt(_0xb6c02c(0x18f))/0xa)+-parseInt(_0xb6c02c(0x17e))/0xb*(-parseInt(_0xb6c02c(0x189))/0xc);if(_0x4d1ada===_0x25299b)break;else _0xdc93d1['push'](_0xdc93d1['shift']());}catch(_0x48e94c){_0xdc93d1['push'](_0xdc93d1['shift']());}}}(_0xea5d,0x3ed1d));import{Wrapper as _0x3f0033}from'../qqnt';function _0xea5d(){var _0x20356c=['aZFrJ','listener','updateMsg','kernelService','9EBWInl','MessageService\x20already\x20initialized!','568yEcLeW','60LgydNc','1WwESRr','534486IKooBB','6tIXYKW','NodeIKernelMsgListener','210415pwusbm','3939890mHcJgk','addKernelMsgListener','getMsgByLongId','onMsgInfoListUpdate','2947hEtYSv','1358140YLHpIz','211364bdDYsY','init','then','recallTime','1283513HrSPfr','map','msgId','catch'];_0xea5d=function(){return _0x20356c;};return _0xea5d();}import{MsgListener}from'../qqnt/listeners';import{dbUtil}from'@/common/utils/db';export class NapCatCoreServiceMessage{['kernelService']=null;[_0x5e95c3(0x183)];constructor(){var _0x3085e5=_0x5e95c3,_0xa751b6={'lPhLB':function(_0xc01077,_0x256975){return _0xc01077===_0x256975;}};this[_0x3085e5(0x183)]=new MsgListener(),this[_0x3085e5(0x183)][_0x3085e5(0x192)]=_0x33c546=>{var _0x31de28=_0x3085e5,_0x4ba280={'wvMBN':function(_0xb93d69,_0x9f29e9){return _0xa751b6['lPhLB'](_0xb93d69,_0x9f29e9);}};_0x33c546[_0x31de28(0x17f)](_0x4e8bc6=>{var _0x24ecf7=_0x31de28;_0x4ba280['wvMBN'](_0x4e8bc6[_0x24ecf7(0x17d)],'0')?dbUtil['addMsg'](_0x4e8bc6)[_0x24ecf7(0x197)]()[_0x24ecf7(0x181)]():dbUtil[_0x24ecf7(0x191)](_0x4e8bc6[_0x24ecf7(0x180)])[_0x24ecf7(0x197)](_0xb87a23=>{var _0x494832=_0x24ecf7;_0xb87a23&&(_0xb87a23['recallTime']=_0x4e8bc6['recallTime'],dbUtil[_0x494832(0x184)](_0xb87a23)[_0x494832(0x197)]());});});};}[_0x5e95c3(0x196)](_0xa6fd60){var _0x3a8701=_0x5e95c3,_0x2e0c0a={'SklCk':function(_0x3c619f,_0x1f59de){return _0x3c619f!==_0x1f59de;},'aZFrJ':_0x3a8701(0x187)};if(_0x2e0c0a['SklCk'](this[_0x3a8701(0x185)],null))throw new Error(_0x2e0c0a[_0x3a8701(0x182)]);this['kernelService']=_0xa6fd60,this[_0x3a8701(0x185)][_0x3a8701(0x190)](new _0x3f0033[(_0x3a8701(0x18d))](this[_0x3a8701(0x183)]));}['addMsgListener'](_0x4b7212){var _0x37fed5=_0x5e95c3;return this[_0x37fed5(0x185)]?.[_0x37fed5(0x190)](new _0x3f0033['NodeIKernelMsgListener'](_0x4b7212));}}