const _0x2cfb88=_0x3494;(function(_0x4b4b3f,_0x5ab392){const _0x450a6c=_0x3494,_0x24f2b9=_0x4b4b3f();while(!![]){try{const _0x39edeb=parseInt(_0x450a6c(0x1de))/0x1*(-parseInt(_0x450a6c(0x1ee))/0x2)+-parseInt(_0x450a6c(0x1e0))/0x3*(parseInt(_0x450a6c(0x1f1))/0x4)+-parseInt(_0x450a6c(0x1eb))/0x5+-parseInt(_0x450a6c(0x1f4))/0x6*(-parseInt(_0x450a6c(0x1f6))/0x7)+-parseInt(_0x450a6c(0x1ef))/0x8+-parseInt(_0x450a6c(0x1e3))/0x9+parseInt(_0x450a6c(0x1ea))/0xa*(parseInt(_0x450a6c(0x1f2))/0xb);if(_0x39edeb===_0x5ab392)break;else _0x24f2b9['push'](_0x24f2b9['shift']());}catch(_0x9a489b){_0x24f2b9['push'](_0x24f2b9['shift']());}}}(_0x399b,0xee5ed));function _0x399b(){const _0x4818b6=['MessageService\x20already\x20initialized!','addKernelBuddyListener','listener','init','mSnOq','NodeIKernelBuddyListener','2443370vkVyQy','2923370LdnbsN','uid','fiAYC','2QJfCxL','5526144QgwSUM','get','16YpLfZQ','286rVohlW','then','73854papSvr','set','434RfpgMU','1622457FWkUJs','kernelService','1284585xZWtKb','getBuddyList','buddyList','13759884XzlPpG'];_0x399b=function(){return _0x4818b6;};return _0x399b();}function _0x3494(_0x11420f,_0x42b765){const _0x399bf1=_0x399b();return _0x3494=function(_0x34945b,_0x3d45bc){_0x34945b=_0x34945b-0x1de;let _0x43e9a3=_0x399bf1[_0x34945b];return _0x43e9a3;},_0x3494(_0x11420f,_0x42b765);}import{Wrapper as _0xae59fe}from'../qqnt';import{BuddyListener}from'../qqnt/listeners';import{friends,uid2UinMap}from'@/common/data';export class NapCatCoreServiceBuddy{[_0x2cfb88(0x1df)]=null;[_0x2cfb88(0x1e6)];constructor(){const _0x381ce1=_0x2cfb88;this[_0x381ce1(0x1e6)]=new BuddyListener();}[_0x2cfb88(0x1e7)](_0x14d9ff){const _0x20146f=_0x2cfb88,_0x5a5730={'fiAYC':function(_0x4b77b0,_0x155fc9){return _0x4b77b0!==_0x155fc9;},'mSnOq':_0x20146f(0x1e4)};if(_0x5a5730[_0x20146f(0x1ed)](this['kernelService'],null))throw new Error(_0x5a5730[_0x20146f(0x1e8)]);this['kernelService']=_0x14d9ff,this[_0x20146f(0x1e6)]['onBuddyListChange']=_0x2c0161=>{const _0x438350=_0x20146f;for(const _0x2bb052 of _0x2c0161){for(const _0x326dd6 of _0x2bb052[_0x438350(0x1e2)]){const _0x19f660=friends[_0x438350(0x1f0)](_0x326dd6[_0x438350(0x1ec)]);uid2UinMap[_0x326dd6['uid']]=_0x326dd6['uin'],_0x19f660?Object['assign'](_0x19f660,_0x326dd6):friends[_0x438350(0x1f5)](_0x326dd6[_0x438350(0x1ec)],_0x326dd6);}}},this[_0x20146f(0x1df)][_0x20146f(0x1e5)](new _0xae59fe['NodeIKernelBuddyListener'](this[_0x20146f(0x1e6)])),this['kernelService'][_0x20146f(0x1e1)](!![])[_0x20146f(0x1f3)](_0x340ed1=>{});}['addBuddyListener'](_0x2b1b1f){const _0xf755bf=_0x2cfb88;this['kernelService']?.[_0xf755bf(0x1e5)](new _0xae59fe[(_0xf755bf(0x1e9))](_0x2b1b1f));}}