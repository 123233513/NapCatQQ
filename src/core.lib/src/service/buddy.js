const _0x382bec=_0x38ea;(function(_0x57c10b,_0x1b253b){const _0x16b034=_0x38ea,_0x5458b7=_0x57c10b();while(!![]){try{const _0x1b17fa=parseInt(_0x16b034(0x179))/0x1*(parseInt(_0x16b034(0x181))/0x2)+-parseInt(_0x16b034(0x190))/0x3+-parseInt(_0x16b034(0x186))/0x4*(parseInt(_0x16b034(0x18a))/0x5)+parseInt(_0x16b034(0x17b))/0x6*(-parseInt(_0x16b034(0x184))/0x7)+-parseInt(_0x16b034(0x18b))/0x8+parseInt(_0x16b034(0x17d))/0x9*(parseInt(_0x16b034(0x18c))/0xa)+parseInt(_0x16b034(0x18d))/0xb*(parseInt(_0x16b034(0x180))/0xc);if(_0x1b17fa===_0x1b253b)break;else _0x5458b7['push'](_0x5458b7['shift']());}catch(_0x30d95a){_0x5458b7['push'](_0x5458b7['shift']());}}}(_0x4792,0x4eae8));function _0x4792(){const _0x4070ac=['2602539vSaFLB','getBuddyList','NodeIKernelBuddyListener','624612AJKZCO','98372OkLfod','then','init','11627Hrffjd','assign','228372dQCxzm','uid','listener','TbJXW','25ceXjyC','2332160fbBpkE','10qkHnmk','165nlrQDM','kernelService','addBuddyListener','1867188tqjNbX','13gRBZaO','set','678kkAoeg','addKernelBuddyListener'];_0x4792=function(){return _0x4070ac;};return _0x4792();}import{Wrapper as _0x5886d6}from'../qqnt';import{BuddyListener}from'../qqnt/listeners';import{friends,uid2UinMap}from'@/common/data';function _0x38ea(_0x157e59,_0x2faa49){const _0x479290=_0x4792();return _0x38ea=function(_0x38ea55,_0x4be781){_0x38ea55=_0x38ea55-0x179;let _0x325b10=_0x479290[_0x38ea55];return _0x325b10;},_0x38ea(_0x157e59,_0x2faa49);}export class NapCatCoreServiceBuddy{[_0x382bec(0x18e)]=null;['listener'];constructor(){const _0x26d673=_0x382bec;this[_0x26d673(0x188)]=new BuddyListener();}[_0x382bec(0x183)](_0x5c8d8f){const _0x146a54=_0x382bec,_0x528c1b={'TbJXW':'MessageService\x20already\x20initialized!'};if(this[_0x146a54(0x18e)]!==null)throw new Error(_0x528c1b[_0x146a54(0x189)]);this['kernelService']=_0x5c8d8f,this[_0x146a54(0x188)]['onBuddyListChange']=_0x14a327=>{const _0x488257=_0x146a54;for(const _0x1c7c37 of _0x14a327){for(const _0xdd1c00 of _0x1c7c37['buddyList']){const _0x59f358=friends['get'](_0xdd1c00[_0x488257(0x187)]);uid2UinMap[_0xdd1c00[_0x488257(0x187)]]=_0xdd1c00['uin'],_0x59f358?Object[_0x488257(0x185)](_0x59f358,_0xdd1c00):friends[_0x488257(0x17a)](_0xdd1c00['uid'],_0xdd1c00);}}},this[_0x146a54(0x18e)][_0x146a54(0x17c)](new _0x5886d6[(_0x146a54(0x17f))](this[_0x146a54(0x188)])),this[_0x146a54(0x18e)][_0x146a54(0x17e)](!![])[_0x146a54(0x182)](_0x232871=>{});}[_0x382bec(0x18f)](_0x362267){const _0x346f3c=_0x382bec;this[_0x346f3c(0x18e)]?.[_0x346f3c(0x17c)](new _0x5886d6[(_0x346f3c(0x17f))](_0x362267));}}