const _0x583e98=_0x5504;(function(_0x76084b,_0x5db612){const _0x214fd2=_0x5504,_0x54e9b2=_0x76084b();while(!![]){try{const _0x2b0b0e=parseInt(_0x214fd2(0x194))/0x1+parseInt(_0x214fd2(0x189))/0x2*(-parseInt(_0x214fd2(0x167))/0x3)+parseInt(_0x214fd2(0x17d))/0x4+-parseInt(_0x214fd2(0x162))/0x5+-parseInt(_0x214fd2(0x18c))/0x6+parseInt(_0x214fd2(0x163))/0x7*(parseInt(_0x214fd2(0x181))/0x8)+parseInt(_0x214fd2(0x195))/0x9;if(_0x2b0b0e===_0x5db612)break;else _0x54e9b2['push'](_0x54e9b2['shift']());}catch(_0x1313eb){_0x54e9b2['push'](_0x54e9b2['shift']());}}}(_0x20cf,0xb4499));import{Wrapper}from'./qqnt';import{GlobalAdapter}from'./qqnt/adapters';function _0x20cf(){const _0x125d94=['登录失败','addLoginSuccessCallback','resolve','error','./NapCat/data','nRAgc','ifNsA','dataPathGlobal','jKEoJ','log','wrapper','getProfileLikeService','EFoSS','getMsgService','onLoginSuccess','loginSuccessCbList','getGroupService','4390056ULTZEd','init','IOFhk','system.login.error','47176mcFVNM','login','catch','getProfileService','uid','stringify','mkdirSync','JCepf','2paToiZ','adeIJ','V1_WIN_NQ_','7958490ewomMS','replace','adapter','NodeIGlobalAdapter','getLogger','debug','push','FpiVR','61660wehCPj','3107547eiNYnI','then','.db','session','gwSAN','split','QQNT\x20版本：','curVersion','1090075nkeLBQ','1169klANDD','dataPath','service','_GW_B','619107WwBQTx','onMessage','uin','emit','YTReJ'];_0x20cf=function(){return _0x125d94;};return _0x20cf();}import{NapCatCoreWrapper}from'./wrapper';import{NapCatCoreLogin}from'./login';import{NapCatCoreSession}from'./session';import{NapCatCoreService}from'./service';import{appid,qqVersionConfigInfo}from'@/common/utils/QQBasicInfo';import{dbUtil}from'@/common/utils/db';import{hostname,systemVersion}from'@/common/utils/system';import{selfInfo}from'@/common/data';import _0x263aa5 from'node:path';import _0x49a8bd from'node:fs';function _0x5504(_0x29a3fd,_0x441f9e){const _0x20cf22=_0x20cf();return _0x5504=function(_0x550454,_0xeef11e){_0x550454=_0x550454-0x15c;let _0x3e84d7=_0x20cf22[_0x550454];return _0x3e84d7;},_0x5504(_0x29a3fd,_0x441f9e);}import{EventEmitter}from'node:events';import*as _0x443792 from'@log4js-node/log4js-api';export class NapCatCore extends EventEmitter{['log'];[_0x583e98(0x18e)];[_0x583e98(0x176)];[_0x583e98(0x182)];[_0x583e98(0x15d)];[_0x583e98(0x165)];[_0x583e98(0x17b)]=[];constructor(){const _0x5d6b7e=_0x583e98,_0xdadbea={'FpiVR':'Core','RgOoc':_0x5d6b7e(0x160),'EFoSS':'Windows\x2010\x20Pro','gwSAN':'QQNT\x20数据目录：'},_0x1d6a96='2|3|7|6|9|1|0|4|10|8|5'[_0x5d6b7e(0x15f)]('|');let _0x55a35b=0x0;while(!![]){switch(_0x1d6a96[_0x55a35b++]){case'0':this['service']=new NapCatCoreService(this);continue;case'1':this[_0x5d6b7e(0x15d)]=new NapCatCoreSession();continue;case'2':super();continue;case'3':this[_0x5d6b7e(0x175)]=_0x443792[_0x5d6b7e(0x190)](_0xdadbea[_0x5d6b7e(0x193)]);continue;case'4':this[_0x5d6b7e(0x175)]['debug'](_0xdadbea['RgOoc'],qqVersionConfigInfo['curVersion']);continue;case'5':this[_0x5d6b7e(0x182)][_0x5d6b7e(0x17e)]({'machineId':'','appid':appid,'platVer':systemVersion,'commonPath':this[_0x5d6b7e(0x176)][_0x5d6b7e(0x173)],'clientVer':qqVersionConfigInfo[_0x5d6b7e(0x161)],'hostName':hostname});continue;case'6':this['wrapper']=new NapCatCoreWrapper();continue;case'7':this[_0x5d6b7e(0x18e)]=new GlobalAdapter();continue;case'8':this[_0x5d6b7e(0x176)][_0x5d6b7e(0x17e)]({'base_path_prefix':'','platform_type':0x3,'app_type':0x4,'app_version':qqVersionConfigInfo['curVersion'],'os_version':_0xdadbea[_0x5d6b7e(0x178)],'use_xlog':!![],'qua':_0x5d6b7e(0x18b)+qqVersionConfigInfo[_0x5d6b7e(0x161)][_0x5d6b7e(0x18d)]('-','_')+_0x5d6b7e(0x166),'global_path_config':{'desktopGlobalPath':this[_0x5d6b7e(0x176)][_0x5d6b7e(0x173)]},'thumb_config':{'maxSide':0x144,'minSide':0x30,'longLimit':0x6,'density':0x2}},new Wrapper[(_0x5d6b7e(0x18f))](this['adapter']));continue;case'9':this['login']=new NapCatCoreLogin(this);continue;case'10':this[_0x5d6b7e(0x175)][_0x5d6b7e(0x191)](_0xdadbea[_0x5d6b7e(0x15e)],this[_0x5d6b7e(0x176)][_0x5d6b7e(0x173)]);continue;}break;}}async['initPostLogin'](_0x48768b){const _0x5ea900=_0x583e98,_0x2e2f80={'nRAgc':_0x5ea900(0x16c),'JCepf':_0x5ea900(0x180)};this[_0x5ea900(0x15d)][_0x5ea900(0x17e)](_0x48768b[_0x5ea900(0x169)],_0x48768b[_0x5ea900(0x185)],this[_0x5ea900(0x176)][_0x5ea900(0x164)])[_0x5ea900(0x196)](()=>{const _0xaa6277=_0x5ea900;this[_0xaa6277(0x17a)](_0x48768b['uin'],_0x48768b[_0xaa6277(0x185)]);})['catch'](_0x12ba9b=>{const _0x38fe20=_0x5ea900;console[_0x38fe20(0x16f)](_0x2e2f80[_0x38fe20(0x171)],JSON[_0x38fe20(0x186)](_0x12ba9b)),this['emit'](_0x2e2f80[_0x38fe20(0x188)],{'code':'-1','message':_0x12ba9b});});}[_0x583e98(0x17a)](_0x2ba3cd,_0x4e28a9){const _0x2c64ac=_0x583e98,_0x3cebf8={'jKEoJ':function(_0x5557f7,_0x30ba6c){return _0x5557f7 instanceof _0x30ba6c;},'ifNsA':_0x2c64ac(0x170),'adeIJ':'本账号数据/缓存目录：','YTReJ':'system.online'},_0x3b72ff=_0x263aa5[_0x2c64ac(0x16e)](this[_0x2c64ac(0x176)][_0x2c64ac(0x164)],_0x3cebf8[_0x2c64ac(0x172)]);_0x49a8bd[_0x2c64ac(0x187)](_0x3b72ff,{'recursive':!![]}),this[_0x2c64ac(0x175)][_0x2c64ac(0x191)](_0x3cebf8[_0x2c64ac(0x18a)],_0x3b72ff),dbUtil['createConnection'](_0x263aa5[_0x2c64ac(0x16e)](_0x3b72ff,'./'+_0x2ba3cd+_0x2c64ac(0x15c))),selfInfo[_0x2c64ac(0x169)]=_0x2ba3cd,selfInfo[_0x2c64ac(0x185)]=_0x4e28a9,this[_0x2c64ac(0x165)][_0x2c64ac(0x17e)](this[_0x2c64ac(0x15d)]['wrapper'][_0x2c64ac(0x179)](),this[_0x2c64ac(0x15d)]['wrapper'][_0x2c64ac(0x17c)](),this[_0x2c64ac(0x15d)]['wrapper']['getBuddyService'](),this[_0x2c64ac(0x15d)][_0x2c64ac(0x176)][_0x2c64ac(0x184)](),this['session']['wrapper'][_0x2c64ac(0x177)]()),this[_0x2c64ac(0x17b)]['map'](_0x543732=>{const _0xb6cab4={'IOFhk':function(_0x5e2ff3,_0x15abff){const _0x4af82e=_0x5504;return _0x3cebf8[_0x4af82e(0x174)](_0x5e2ff3,_0x15abff);}};new Promise((_0x3042fd,_0x682ac5)=>{const _0x3c68a9=_0x5504,_0x4d0a3d=_0x543732();_0xb6cab4[_0x3c68a9(0x17f)](_0x4d0a3d,Promise)&&_0x4d0a3d[_0x3c68a9(0x196)](_0x3042fd)[_0x3c68a9(0x183)](_0x682ac5);})['then']();}),this[_0x2c64ac(0x16a)](_0x3cebf8[_0x2c64ac(0x16b)],{'uin':_0x2ba3cd,'uid':_0x4e28a9});}[_0x583e98(0x168)](){}[_0x583e98(0x16d)](_0xe01f7b){const _0xa250e9=_0x583e98;this[_0xa250e9(0x17b)][_0xa250e9(0x192)](_0xe01f7b);}}export const napCatCore=new NapCatCore();