function _0xc0c2(){const _0x1dcab9=['933200SsfgmI','dataPath','getBuddyService','5RsnAfN','2250666pyfzxJ','init','log','dataPathGlobal','wrapper','4922330RlcDja','getProfileService','onLoginSuccess','catch','NodeIGlobalAdapter','DUpSc','EVVPr','QQNT\x20版本：','addLoginSuccessCallback','atUtq','push','stringify','pKbUn','24688gWqeCI','284916MOkZrF','49GzwuxU','emit','QQNT\x20数据目录：','2283066uWHOgo','createConnection','Windows\x2010\x20Pro','service','debug','8AcmNqu','login','./NapCat/data','XJRio','curVersion','session','getMsgService','adapter','getLogger','initPostLogin','mkdirSync','replace','uid','resolve','登录失败','then','_GW_B','.db','getProfileLikeService','14430XKsotm','error','uin','loginSuccessCbList'];_0xc0c2=function(){return _0x1dcab9;};return _0xc0c2();}const _0x5d44ad=_0x1bdf;(function(_0x4a9ba0,_0x4d8c54){const _0x3dd477=_0x1bdf,_0x37f370=_0x4a9ba0();while(!![]){try{const _0x3c0fbd=-parseInt(_0x3dd477(0x1a0))/0x1+-parseInt(_0x3dd477(0x18d))/0x2*(-parseInt(_0x3dd477(0x184))/0x3)+parseInt(_0x3dd477(0x1a4))/0x4*(parseInt(_0x3dd477(0x1a7))/0x5)+parseInt(_0x3dd477(0x171))/0x6+-parseInt(_0x3dd477(0x185))/0x7*(-parseInt(_0x3dd477(0x183))/0x8)+-parseInt(_0x3dd477(0x188))/0x9+-parseInt(_0x3dd477(0x176))/0xa;if(_0x3c0fbd===_0x4d8c54)break;else _0x37f370['push'](_0x37f370['shift']());}catch(_0x2bc8d0){_0x37f370['push'](_0x37f370['shift']());}}}(_0xc0c2,0x3cedc));import{Wrapper}from'./qqnt';import{GlobalAdapter}from'./qqnt/adapters';import{NapCatCoreWrapper}from'./wrapper';import{NapCatCoreLogin}from'./login';import{NapCatCoreSession}from'./session';import{NapCatCoreService}from'./service';import{appid,qqVersionConfigInfo}from'@/common/utils/QQBasicInfo';import{dbUtil}from'@/common/utils/db';import{hostname,systemVersion}from'@/common/utils/system';import{selfInfo}from'@/common/data';import _0x3be7b4 from'node:path';import _0x1b1ef6 from'node:fs';function _0x1bdf(_0x2889e4,_0x15c1b0){const _0xc0c248=_0xc0c2();return _0x1bdf=function(_0x1bdf4e,_0x19836f){_0x1bdf4e=_0x1bdf4e-0x171;let _0x500119=_0xc0c248[_0x1bdf4e];return _0x500119;},_0x1bdf(_0x2889e4,_0x15c1b0);}import{EventEmitter}from'node:events';import*as _0x2da551 from'@log4js-node/log4js-api';export class NapCatCore extends EventEmitter{['log'];[_0x5d44ad(0x194)];[_0x5d44ad(0x175)];['login'];[_0x5d44ad(0x192)];[_0x5d44ad(0x18b)];[_0x5d44ad(0x1a3)]=[];constructor(){const _0x472364=_0x5d44ad,_0x4e826e={'DUpSc':'Core','pKbUn':_0x472364(0x187)};super(),this[_0x472364(0x173)]=_0x2da551[_0x472364(0x195)](_0x4e826e[_0x472364(0x17b)]),this[_0x472364(0x194)]=new GlobalAdapter(),this[_0x472364(0x175)]=new NapCatCoreWrapper(),this[_0x472364(0x18e)]=new NapCatCoreLogin(this),this[_0x472364(0x192)]=new NapCatCoreSession(),this[_0x472364(0x18b)]=new NapCatCoreService(this),this[_0x472364(0x173)]['debug'](_0x472364(0x17d),qqVersionConfigInfo['curVersion']),this['log'][_0x472364(0x18c)](_0x4e826e[_0x472364(0x182)],this['wrapper'][_0x472364(0x174)]),this[_0x472364(0x175)]['init']({'base_path_prefix':'','platform_type':0x3,'app_type':0x4,'app_version':qqVersionConfigInfo[_0x472364(0x191)],'os_version':_0x472364(0x18a),'use_xlog':!![],'qua':'V1_WIN_NQ_'+qqVersionConfigInfo['curVersion'][_0x472364(0x198)]('-','_')+_0x472364(0x19d),'global_path_config':{'desktopGlobalPath':this[_0x472364(0x175)][_0x472364(0x174)]},'thumb_config':{'maxSide':0x144,'minSide':0x30,'longLimit':0x6,'density':0x2}},new Wrapper[(_0x472364(0x17a))](this['adapter'])),this[_0x472364(0x18e)][_0x472364(0x172)]({'machineId':'','appid':appid,'platVer':systemVersion,'commonPath':this[_0x472364(0x175)][_0x472364(0x174)],'clientVer':qqVersionConfigInfo[_0x472364(0x191)],'hostName':hostname});}async[_0x5d44ad(0x196)](_0x50b60e){const _0x478cc7=_0x5d44ad,_0x8ca4ae={'EVVPr':_0x478cc7(0x19b),'atUtq':'system.login.error'};this[_0x478cc7(0x192)]['init'](_0x50b60e[_0x478cc7(0x1a2)],_0x50b60e['uid'],this['wrapper'][_0x478cc7(0x1a5)])['then'](()=>{const _0x327da8=_0x478cc7;this[_0x327da8(0x178)](_0x50b60e['uin'],_0x50b60e[_0x327da8(0x199)]);})[_0x478cc7(0x179)](_0x1091fa=>{const _0x44df2c=_0x478cc7;console[_0x44df2c(0x1a1)](_0x8ca4ae[_0x44df2c(0x17c)],JSON[_0x44df2c(0x181)](_0x1091fa)),this[_0x44df2c(0x186)](_0x8ca4ae[_0x44df2c(0x17f)],{'code':'-1','message':_0x1091fa});});}[_0x5d44ad(0x178)](_0x1a8541,_0x4acb9d){const _0x2c5db5=_0x5d44ad,_0x2b2578={'WJoRC':_0x2c5db5(0x18f),'XJRio':'本账号数据/缓存目录：'},_0x2a401c=_0x3be7b4[_0x2c5db5(0x19a)](this[_0x2c5db5(0x175)][_0x2c5db5(0x1a5)],_0x2b2578['WJoRC']);_0x1b1ef6[_0x2c5db5(0x197)](_0x2a401c,{'recursive':!![]}),this['log'][_0x2c5db5(0x18c)](_0x2b2578[_0x2c5db5(0x190)],_0x2a401c),dbUtil[_0x2c5db5(0x189)](_0x3be7b4['resolve'](_0x2a401c,'./'+_0x1a8541+_0x2c5db5(0x19e))),selfInfo['uin']=_0x1a8541,selfInfo[_0x2c5db5(0x199)]=_0x4acb9d,this[_0x2c5db5(0x18b)][_0x2c5db5(0x172)](this[_0x2c5db5(0x192)]['wrapper'][_0x2c5db5(0x193)](),this[_0x2c5db5(0x192)][_0x2c5db5(0x175)]['getGroupService'](),this[_0x2c5db5(0x192)][_0x2c5db5(0x175)][_0x2c5db5(0x1a6)](),this[_0x2c5db5(0x192)][_0x2c5db5(0x175)][_0x2c5db5(0x177)](),this[_0x2c5db5(0x192)][_0x2c5db5(0x175)][_0x2c5db5(0x19f)]()),this['loginSuccessCbList']['map'](_0x4d3a18=>{const _0x114d46={'fShVk':function(_0x224538,_0x45a464){return _0x224538 instanceof _0x45a464;}};new Promise((_0x3a4027,_0x39e47d)=>{const _0x37dd0e=_0x1bdf,_0x3b30aa=_0x4d3a18();_0x114d46['fShVk'](_0x3b30aa,Promise)&&_0x3b30aa[_0x37dd0e(0x19c)](_0x3a4027)[_0x37dd0e(0x179)](_0x39e47d);})['then']();}),this[_0x2c5db5(0x186)]('system.online',{'uin':_0x1a8541,'uid':_0x4acb9d});}['onMessage'](){}[_0x5d44ad(0x17e)](_0x4409b9){const _0x35d560=_0x5d44ad;this['loginSuccessCbList'][_0x35d560(0x180)](_0x4409b9);}}export const napCatCore=new NapCatCore();