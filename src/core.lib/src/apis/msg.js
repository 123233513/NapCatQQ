const _0x70fa9c=_0x3453;(function(_0xa6e38a,_0x414ada){const _0xee78a0=_0x3453,_0x39a6d5=_0xa6e38a();while(!![]){try{const _0x484a73=parseInt(_0xee78a0(0x11e))/0x1+parseInt(_0xee78a0(0x127))/0x2*(parseInt(_0xee78a0(0xed))/0x3)+-parseInt(_0xee78a0(0x10e))/0x4+parseInt(_0xee78a0(0x118))/0x5*(-parseInt(_0xee78a0(0x104))/0x6)+-parseInt(_0xee78a0(0x124))/0x7+parseInt(_0xee78a0(0xf1))/0x8*(-parseInt(_0xee78a0(0xec))/0x9)+parseInt(_0xee78a0(0xf3))/0xa;if(_0x484a73===_0x414ada)break;else _0x39a6d5['push'](_0x39a6d5['shift']());}catch(_0x23b231){_0x39a6d5['push'](_0x39a6d5['shift']());}}}(_0x568b,0x3b760));import{selfInfo}from'@/core/data';import{log,logError}from'@/common/utils/log';import{sleep}from'@/common/utils/helper';function _0x3453(_0x5de769,_0x34a618){const _0x568b9a=_0x568b();return _0x3453=function(_0x345311,_0x457b11){_0x345311=_0x345311-0xea;let _0xc78b14=_0x568b9a[_0x345311];return _0xc78b14;},_0x3453(_0x5de769,_0x34a618);}import{napCatCore}from'@/core';import{MsgListener}from'@/core/listeners';import{randomUUID}from'crypto';const sendMessagePool={},sendSuccessCBMap={},sentMsgTasks=new Map(),msgListener=new MsgListener();msgListener['onAddSendMsg']=_0x450b49=>{const _0x40d61f=_0x3453;for(const [_0x12497c,_0x597634]of sentMsgTasks){_0x597634(_0x450b49),sentMsgTasks[_0x40d61f(0x115)](_0x12497c);}if(sendMessagePool[_0x450b49['peerUid']]){const _0x52c3eb=sendMessagePool[_0x450b49[_0x40d61f(0xfb)]]?.(_0x450b49);_0x52c3eb instanceof Promise&&_0x52c3eb[_0x40d61f(0xeb)]()[_0x40d61f(0x107)](logError);}},msgListener[_0x70fa9c(0xf8)]=_0x83580e=>{const _0x480c38=_0x70fa9c,_0xa38001={'izwES':function(_0x1fadac,_0x5ad67d){return _0x1fadac(_0x5ad67d);},'atdhH':function(_0x1619c6,_0x4ce0a9){return _0x1619c6 instanceof _0x4ce0a9;}};_0x83580e[_0x480c38(0xee)](_0x30ba32=>{const _0x403be8=_0x480c38,_0x5dfebd={'glVEN':function(_0x6b9c97,_0x2d9f37){const _0x5a7666=_0x3453;return _0xa38001[_0x5a7666(0x10a)](_0x6b9c97,_0x2d9f37);},'Xphyi':function(_0x4b6519,_0x25338f){const _0x8a524e=_0x3453;return _0xa38001[_0x8a524e(0xfd)](_0x4b6519,_0x25338f);}};new Promise((_0x457619,_0x48870d)=>{const _0x210596=_0x3453;for(const _0x56324b in sendSuccessCBMap){const _0x294329=sendSuccessCBMap[_0x56324b],_0x45da53=_0x5dfebd['glVEN'](_0x294329,_0x30ba32),_0x1998f2=_0x49834b=>{_0x49834b&&delete sendSuccessCBMap[_0x56324b];};_0x5dfebd[_0x210596(0x103)](_0x45da53,Promise)?_0x45da53['then'](_0x1998f2):_0x1998f2(_0x45da53);}})[_0x403be8(0xeb)]()[_0x403be8(0x107)](log);});},setTimeout(()=>{const _0x365f98=_0x70fa9c;napCatCore[_0x365f98(0x11a)](()=>{const _0x4c9fce=_0x365f98;napCatCore[_0x4c9fce(0x11d)](msgListener);});},0x64);export class NTQQMsgApi{static async[_0x70fa9c(0x119)](_0x192751,_0x238d08,_0x18c6e7,_0x2a1529=!![]){const _0x299593=_0x70fa9c,_0x1fdc8e={'KsbIL':function(_0x1ce226,_0xd7b437){return _0x1ce226>_0xd7b437;}};return _0x18c6e7=_0x18c6e7['toString'](),napCatCore[_0x299593(0xef)][_0x299593(0x110)]()['setMsgEmojiLikes'](_0x192751,_0x238d08,_0x18c6e7,_0x1fdc8e[_0x299593(0xf5)](_0x18c6e7[_0x299593(0xfa)],0x3)?'2':'1',_0x2a1529);}static async[_0x70fa9c(0x123)](_0xa3d477,_0x5e3749,_0x54be9e){const _0x4d02ba=_0x70fa9c;return napCatCore[_0x4d02ba(0xef)][_0x4d02ba(0x110)]()['getMultiMsg'](_0xa3d477,_0x5e3749,_0x54be9e);}static async[_0x70fa9c(0x108)](_0x4d1d15,_0xf24b4a){const _0x523432=_0x70fa9c;return await napCatCore[_0x523432(0xef)][_0x523432(0x110)]()[_0x523432(0x108)](_0x4d1d15,_0xf24b4a);}static async[_0x70fa9c(0x121)](_0x56bd2c,_0x2a097f,_0x190e25,_0xd469fc,_0x16c599){const _0xfcef71=_0x70fa9c;return await napCatCore[_0xfcef71(0xef)][_0xfcef71(0x110)]()[_0xfcef71(0x121)](_0x56bd2c,_0x2a097f,_0x190e25,_0xd469fc,_0x16c599);}static async[_0x70fa9c(0x12a)](_0x5490a7){}static async[_0x70fa9c(0x112)](_0x27be2b){}static async[_0x70fa9c(0x120)](_0x524f49){const _0x47d0c2=_0x70fa9c;return napCatCore[_0x47d0c2(0xef)][_0x47d0c2(0x110)]()['setMsgRead'](_0x524f49);}static async[_0x70fa9c(0xea)](_0x2f1c9d,_0xb933c9,_0x1ed321){const _0x290034=_0x70fa9c;return napCatCore[_0x290034(0xef)][_0x290034(0x110)]()[_0x290034(0x100)](_0x2f1c9d,_0xb933c9,_0x1ed321,!![]);}static async[_0x70fa9c(0xf9)](){}static async[_0x70fa9c(0x12c)](_0x230cf1,_0x309e99){const _0x147f0d=_0x70fa9c;await napCatCore['session']['getMsgService']()[_0x147f0d(0x12c)]({'chatType':_0x230cf1['chatType'],'peerUid':_0x230cf1[_0x147f0d(0xfb)]},_0x309e99);}static async['sendMsg'](_0x50275d,_0x247459,_0x5451b5=!![],_0x341344=0x2710){const _0xf38c7=_0x70fa9c,_0x1902ba={'EFPpc':function(_0x73e98e,_0x15c974){return _0x73e98e>_0x15c974;},'jzzxF':_0xf38c7(0x102),'PxzdJ':function(_0x4c9a2f,_0x442ebb){return _0x4c9a2f(_0x442ebb);},'Rqltq':function(_0x52beef){return _0x52beef();},'HRZIg':function(_0x1329c9,_0xf29875){return _0x1329c9===_0xf29875;},'PZzsT':function(_0x1831f7,_0x3ff8cc,_0x187eb2){return _0x1831f7(_0x3ff8cc,_0x187eb2);}},_0x168dc0=_0x50275d[_0xf38c7(0xfb)];let _0x58ee2a=0x0;const _0x4d94af=async()=>{const _0x188733=_0xf38c7;if(_0x1902ba[_0x188733(0xf0)](_0x58ee2a,_0x341344))throw _0x1902ba[_0x188733(0x116)];const _0x442e04=sendMessagePool[_0x50275d['peerUid']];if(_0x442e04)return await _0x1902ba[_0x188733(0x126)](sleep,0x1f4),_0x58ee2a+=0x1f4,await _0x1902ba[_0x188733(0x11f)](_0x4d94af);else return;};return await _0x1902ba['Rqltq'](_0x4d94af),new Promise((_0x456743,_0x1f7735)=>{const _0x5ac307=_0xf38c7,_0x24dbf0={'QHyfG':function(_0x1f73c6,_0x256966){const _0x354954=_0x3453;return _0x1902ba[_0x354954(0xff)](_0x1f73c6,_0x256966);},'xmOvH':function(_0x152bcd,_0x2582e9){const _0x498f56=_0x3453;return _0x1902ba[_0x498f56(0xff)](_0x152bcd,_0x2582e9);}};let _0x194500=![],_0x499608=null;const _0x2fc802=randomUUID();sendSuccessCBMap[_0x2fc802]=_0x3927ba=>{const _0xf19f3d=_0x3453;if(_0x24dbf0[_0xf19f3d(0x10c)](_0x3927ba[_0xf19f3d(0x117)],_0x499608?.[_0xf19f3d(0x117)])){if(_0x24dbf0['xmOvH'](_0x3927ba[_0xf19f3d(0x101)],0x2))return delete sendSuccessCBMap[_0x2fc802],_0x194500=!![],_0x456743(_0x3927ba),!![];return![];}return![];},sendMessagePool[_0x168dc0]=async _0x7054ee=>{delete sendMessagePool[_0x168dc0],_0x499608=_0x7054ee;},_0x1902ba[_0x5ac307(0x106)](setTimeout,()=>{const _0x99b3fe=_0x5ac307;if(_0x194500)return;delete sendMessagePool[_0x168dc0],delete sendSuccessCBMap[_0x2fc802],_0x1f7735(_0x1902ba[_0x99b3fe(0x116)]);},_0x341344);const _0x586cf5=napCatCore[_0x5ac307(0xef)][_0x5ac307(0x110)]()[_0x5ac307(0x12b)]('0',_0x50275d,_0x247459,new Map());});}static async[_0x70fa9c(0x105)](_0x3521b4,_0x3569a6,_0x1b3883){const _0x1a40db=_0x70fa9c;return napCatCore[_0x1a40db(0xef)]['getMsgService']()[_0x1a40db(0x105)](_0x1b3883,_0x3521b4,[_0x3569a6],new Map());}static async[_0x70fa9c(0xf4)](_0x876d79,_0x1184da,_0x764fd7){const _0x234e15=_0x70fa9c,_0x47aa1e={'gMbOG':function(_0x4ef154,_0x32135e){return _0x4ef154!=_0x32135e;},'YRCJC':_0x234e15(0x11c),'PqqMn':function(_0x41b73c,_0x250bc3){return _0x41b73c==_0x250bc3;},'DXzyW':function(_0x24dd1c,_0x2202d8){return _0x24dd1c==_0x2202d8;},'eygBu':_0x234e15(0x125),'iuOfz':function(_0x7fffbe,_0x2e4b08,_0x520643){return _0x7fffbe(_0x2e4b08,_0x520643);}},_0x16f2db=_0x764fd7[_0x234e15(0x114)](_0x240dc1=>{const _0x70f0e7=_0x234e15;return{'msgId':_0x240dc1,'senderShowName':selfInfo[_0x70f0e7(0x122)]};});return new Promise((_0x41d8f2,_0x28d756)=>{const _0x21ab33=_0x234e15,_0x4387df={'ySyRX':function(_0x55f481,_0x2a877a){return _0x55f481(_0x2a877a);},'mRzGH':_0x47aa1e[_0x21ab33(0x111)]};let _0x4eb0c6=![];const _0x31ca2d=_0x101a57=>{const _0x2a810f=_0x21ab33,_0x4bf525=_0x101a57[_0x2a810f(0x129)][_0x2a810f(0x11b)](_0x1e236f=>_0x1e236f[_0x2a810f(0x109)]);if(!_0x4bf525)return;const _0x59e025=JSON['parse'](_0x4bf525[_0x2a810f(0x109)][_0x2a810f(0x10f)]);if(_0x47aa1e['gMbOG'](_0x59e025[_0x2a810f(0x10b)],_0x47aa1e[_0x2a810f(0xf7)]))return;_0x47aa1e[_0x2a810f(0xf6)](_0x101a57[_0x2a810f(0xfb)],_0x1184da[_0x2a810f(0xfb)])&&_0x47aa1e[_0x2a810f(0xfc)](_0x101a57['senderUid'],selfInfo[_0x2a810f(0x10d)])&&(_0x4eb0c6=!![],_0x41d8f2(_0x101a57));};sentMsgTasks[_0x21ab33(0x113)](randomUUID(),_0x31ca2d),_0x47aa1e['iuOfz'](setTimeout,()=>{const _0x46a82b=_0x21ab33;!_0x4eb0c6&&_0x4387df[_0x46a82b(0xf2)](_0x28d756,_0x4387df[_0x46a82b(0x128)]);},0x1388),napCatCore[_0x21ab33(0xef)][_0x21ab33(0x110)]()[_0x21ab33(0xfe)](_0x16f2db,_0x876d79,_0x1184da,[],new Map());});}}function _0x568b(){const _0x46d55b=['603939xAvlOZ','转发消息超时','PxzdJ','1818OWeSSb','mRzGH','elements','activateChat','sendMsg','recallMsg','getMsgHistory','then','13077vdcizj','1017IDXKcv','forEach','session','EFPpc','1336eKNJAW','ySyRX','2303420WyGBsf','multiForwardMsg','KsbIL','PqqMn','YRCJC','onMsgInfoListUpdate','fetchRecentContact','length','peerUid','DXzyW','atdhH','multiForwardMsgWithComment','HRZIg','getMsgsIncludeSelf','sendStatus','发送超时','Xphyi','78ZdqZmp','forwardMsg','PZzsT','catch','getMsgsByMsgId','arkElement','izwES','app','QHyfG','uid','92460iCWdrr','bytesData','getMsgService','eygBu','activateChatAndGetHistory','set','map','delete','jzzxF','msgId','34000yuCbis','setEmojiLike','onLoginSuccess','find','com.tencent.multimsg','addListener','145502EvRovi','Rqltq','setMsgRead','getMsgsBySeqAndCount','nick','getMultiMsg'];_0x568b=function(){return _0x46d55b;};return _0x568b();}