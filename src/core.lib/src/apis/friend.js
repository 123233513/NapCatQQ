const _0x11ea4d=_0x521b;(function(_0x26666d,_0x2f3a20){const _0x371e8a=_0x521b,_0xc64b98=_0x26666d();while(!![]){try{const _0x253bbc=-parseInt(_0x371e8a(0x1df))/0x1+-parseInt(_0x371e8a(0x1da))/0x2+-parseInt(_0x371e8a(0x1de))/0x3*(-parseInt(_0x371e8a(0x1d9))/0x4)+-parseInt(_0x371e8a(0x1f4))/0x5*(-parseInt(_0x371e8a(0x1d7))/0x6)+parseInt(_0x371e8a(0x1e8))/0x7*(parseInt(_0x371e8a(0x1ed))/0x8)+parseInt(_0x371e8a(0x1e4))/0x9+parseInt(_0x371e8a(0x1e9))/0xa*(-parseInt(_0x371e8a(0x1eb))/0xb);if(_0x253bbc===_0x2f3a20)break;else _0xc64b98['push'](_0xc64b98['shift']());}catch(_0x33dd16){_0xc64b98['push'](_0xc64b98['shift']());}}}(_0x321a,0x949bf));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';function _0x321a(){const _0x3cc938=['2971030dvDTMV','buddyList','dLGjl','12vtiKdn','approvalFriendRequest','12eFSGzH','1488474CGGkIp','session','set','then','1187448VIExGG','225472piDGUt','获取好友列表超时','onLoginSuccess','开始获取好友列表','BPhMU','6950763PwhSLT','xZPTa','uin','LOHYr','65968beagxn','10xRoZix','delete','22554169MnNOse','获取好友列表完成','408NaIttE','getBuddyList','push','getFriends','handleFriendRequest','gjMNV','addListener'];_0x321a=function(){return _0x3cc938;};return _0x321a();}import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';function _0x521b(_0x4fd8c4,_0x53c04a){const _0x321adc=_0x321a();return _0x521b=function(_0x521b0f,_0x3aab79){_0x521b0f=_0x521b0f-0x1d7;let _0x398bff=_0x321adc[_0x521b0f];return _0x398bff;},_0x521b(_0x4fd8c4,_0x53c04a);}const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener['onBuddyListChange']=_0x460c94=>{const _0x149d08=_0x521b;for(const [_0x4482a8,_0x5965ca]of buddyChangeTasks){_0x5965ca(_0x460c94),buddyChangeTasks[_0x149d08(0x1ea)](_0x4482a8);}},setTimeout(()=>{const _0x2aac24=_0x521b;napCatCore[_0x2aac24(0x1e1)](()=>{const _0x216e35=_0x2aac24;napCatCore[_0x216e35(0x1f3)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x11ea4d(0x1f0)](_0x365358=![]){const _0x3a0a5e=_0x11ea4d,_0x4a9f58={'gjMNV':function(_0x1e194f,_0xb1aecf){return _0x1e194f(_0xb1aecf);},'dLGjl':_0x3a0a5e(0x1e0),'rZMoA':_0x3a0a5e(0x1ec),'xZPTa':function(_0x5930ca,_0x155746,_0x34034d){return _0x5930ca(_0x155746,_0x34034d);},'qCagz':_0x3a0a5e(0x1e2),'LOHYr':function(_0x14ea05,_0x535b0d,_0x8b6afe){return _0x14ea05(_0x535b0d,_0x8b6afe);},'BPhMU':function(_0x5ae8d7){return _0x5ae8d7();}};return new Promise((_0x4ef133,_0x1c1b63)=>{const _0x1c8e18=_0x3a0a5e;let _0x60bf68=![];_0x4a9f58[_0x1c8e18(0x1e7)](setTimeout,()=>{const _0xc885ee=_0x1c8e18;!_0x60bf68&&(_0x4a9f58['gjMNV'](logDebug,_0xc885ee(0x1e0)),_0x4a9f58[_0xc885ee(0x1f2)](_0x1c1b63,_0x4a9f58[_0xc885ee(0x1f6)]));},0x1388);const _0x3689c1=[],_0x3ba2f1=_0x4207bd=>{const _0x3690c4=_0x1c8e18;for(const _0x130047 of _0x4207bd){for(const _0x30d56a of _0x130047[_0x3690c4(0x1f5)]){_0x3689c1[_0x3690c4(0x1ef)](_0x30d56a),uid2UinMap[_0x30d56a['uid']]=_0x30d56a[_0x3690c4(0x1e6)];}}_0x60bf68=!![],logDebug(_0x4a9f58['rZMoA'],_0x3689c1),_0x4a9f58[_0x3690c4(0x1f2)](_0x4ef133,_0x3689c1);};buddyChangeTasks[_0x1c8e18(0x1dc)](_0x4a9f58[_0x1c8e18(0x1e3)](randomUUID),_0x3ba2f1),napCatCore['session']['getBuddyService']()[_0x1c8e18(0x1ee)](_0x365358)[_0x1c8e18(0x1dd)](_0xf5f56c=>{const _0xc120e3=_0x1c8e18;_0x4a9f58[_0xc120e3(0x1e5)](logDebug,_0x4a9f58['qCagz'],_0xf5f56c);});});}static async[_0x11ea4d(0x1f1)](_0xb6c2ef,_0x5b94d3){const _0x1a67a3=_0x11ea4d;napCatCore[_0x1a67a3(0x1db)]['getBuddyService']()?.[_0x1a67a3(0x1d8)]({'friendUid':_0xb6c2ef['friendUid'],'reqTime':_0xb6c2ef['reqTime'],'accept':_0x5b94d3});}}