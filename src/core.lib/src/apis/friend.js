const _0x4f88d2=_0x1e39;(function(_0x119d17,_0x17bf4e){const _0x165bce=_0x1e39,_0x16e028=_0x119d17();while(!![]){try{const _0x44b7b2=-parseInt(_0x165bce(0x207))/0x1+parseInt(_0x165bce(0x1ee))/0x2*(parseInt(_0x165bce(0x1f5))/0x3)+parseInt(_0x165bce(0x204))/0x4*(parseInt(_0x165bce(0x1f6))/0x5)+parseInt(_0x165bce(0x1e7))/0x6*(-parseInt(_0x165bce(0x200))/0x7)+-parseInt(_0x165bce(0x1ff))/0x8+-parseInt(_0x165bce(0x1fe))/0x9+-parseInt(_0x165bce(0x1ea))/0xa*(-parseInt(_0x165bce(0x201))/0xb);if(_0x44b7b2===_0x17bf4e)break;else _0x16e028['push'](_0x16e028['shift']());}catch(_0x50e53c){_0x16e028['push'](_0x16e028['shift']());}}}(_0x4cd7,0x1e6d3));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';function _0x1e39(_0x458aa6,_0x14664a){const _0x4cd743=_0x4cd7();return _0x1e39=function(_0x1e391c,_0x450083){_0x1e391c=_0x1e391c-0x1e7;let _0x56422a=_0x4cd743[_0x1e391c];return _0x56422a;},_0x1e39(_0x458aa6,_0x14664a);}const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();function _0x4cd7(){const _0x1de0e1=['17215XmitKu','uid','kLptd','596AUJpxO','session','nVLaB','138086MqBsKf','10182nudzun','buddyList','OnpRf','1750vAmZeW','xVRYx','getFriends','friendUid','2FhnqSU','uin','delete','gYXVC','push','onLoginSuccess','handleFriendRequest','355917cGQdDw','1705BHfmSv','set','获取好友列表超时','then','cWhJL','addListener','reqTime','开始获取好友列表','98811CgWJFx','338848mDTvfI','525DXNwXG'];_0x4cd7=function(){return _0x1de0e1;};return _0x4cd7();}buddyListener['onBuddyListChange']=_0x2a64d3=>{const _0x2e9f61=_0x1e39,_0x6445db={'FCOCn':function(_0x5c6ca0,_0x46d973){return _0x5c6ca0(_0x46d973);}};for(const [_0x5b4b70,_0x2f8d3c]of buddyChangeTasks){_0x6445db['FCOCn'](_0x2f8d3c,_0x2a64d3),buddyChangeTasks[_0x2e9f61(0x1f0)](_0x5b4b70);}},setTimeout(()=>{const _0xa2707e=_0x1e39;napCatCore[_0xa2707e(0x1f3)](()=>{const _0x406f39=_0xa2707e;napCatCore[_0x406f39(0x1fb)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x4f88d2(0x1ec)](_0x5a04dd=![]){const _0x5207c0=_0x4f88d2,_0x414f8c={'bPVMO':function(_0x5676a3,_0x14ca60){return _0x5676a3(_0x14ca60);},'xVRYx':_0x5207c0(0x1f8),'nVLaB':function(_0x26f6a5,_0x2bddfc){return _0x26f6a5(_0x2bddfc);},'Ousjl':'获取好友列表完成','gYXVC':function(_0x2abae3,_0x3dfac5,_0x409527){return _0x2abae3(_0x3dfac5,_0x409527);},'cWhJL':function(_0x21645b){return _0x21645b();}};return new Promise((_0x2f7fe1,_0x317455)=>{const _0x405744=_0x5207c0,_0x5457ca={'OnpRf':function(_0x1a6c79,_0x4364a3,_0x5871bd){return _0x1a6c79(_0x4364a3,_0x5871bd);},'IJDBF':_0x414f8c['Ousjl'],'kLptd':_0x405744(0x1fd)};let _0x24481a=![];_0x414f8c[_0x405744(0x1f1)](setTimeout,()=>{const _0x3e3aa2=_0x405744;!_0x24481a&&(_0x414f8c['bPVMO'](logDebug,_0x414f8c[_0x3e3aa2(0x1eb)]),_0x414f8c[_0x3e3aa2(0x206)](_0x317455,_0x414f8c[_0x3e3aa2(0x1eb)]));},0x1388);const _0x8f284d=[],_0x260db6=_0x3f5db3=>{const _0x51f13b=_0x405744;for(const _0x453cf0 of _0x3f5db3){for(const _0x21dfb9 of _0x453cf0[_0x51f13b(0x1e8)]){_0x8f284d[_0x51f13b(0x1f2)](_0x21dfb9),uid2UinMap[_0x21dfb9[_0x51f13b(0x202)]]=_0x21dfb9[_0x51f13b(0x1ef)];}}_0x24481a=!![],_0x5457ca[_0x51f13b(0x1e9)](logDebug,_0x5457ca['IJDBF'],_0x8f284d),_0x2f7fe1(_0x8f284d);};buddyChangeTasks[_0x405744(0x1f7)](_0x414f8c[_0x405744(0x1fa)](randomUUID),_0x260db6),napCatCore[_0x405744(0x205)]['getBuddyService']()['getBuddyList'](_0x5a04dd)[_0x405744(0x1f9)](_0x3736ca=>{const _0x3f18b5=_0x405744;logDebug(_0x5457ca[_0x3f18b5(0x203)],_0x3736ca);});});}static async[_0x4f88d2(0x1f4)](_0x2f9920,_0x3d727b){const _0x281c76=_0x4f88d2;napCatCore[_0x281c76(0x205)]['getBuddyService']()?.['approvalFriendRequest']({'friendUid':_0x2f9920[_0x281c76(0x1ed)],'reqTime':_0x2f9920[_0x281c76(0x1fc)],'accept':_0x3d727b});}}