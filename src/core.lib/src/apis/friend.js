const _0x4d8578=_0x165e;(function(_0x50e1ba,_0xa3158a){const _0x47cdf9=_0x165e,_0x1d1853=_0x50e1ba();while(!![]){try{const _0x385784=-parseInt(_0x47cdf9(0x1cc))/0x1*(-parseInt(_0x47cdf9(0x1b4))/0x2)+parseInt(_0x47cdf9(0x1b3))/0x3*(parseInt(_0x47cdf9(0x1c2))/0x4)+parseInt(_0x47cdf9(0x1ba))/0x5+-parseInt(_0x47cdf9(0x1bb))/0x6*(-parseInt(_0x47cdf9(0x1c6))/0x7)+parseInt(_0x47cdf9(0x1d0))/0x8+-parseInt(_0x47cdf9(0x1cb))/0x9*(-parseInt(_0x47cdf9(0x1cf))/0xa)+parseInt(_0x47cdf9(0x1be))/0xb*(-parseInt(_0x47cdf9(0x1cd))/0xc);if(_0x385784===_0xa3158a)break;else _0x1d1853['push'](_0x1d1853['shift']());}catch(_0x493fb7){_0x1d1853['push'](_0x1d1853['shift']());}}}(_0x1301,0x266db));function _0x1301(){const _0x241d62=['push','KkhGz','handleFriendRequest','4VUothF','TMsPx','UATLS','getBuddyService','7fgpHRW','approvalFriendRequest','delete','session','reqTime','45gTXKJZ','1ThhQEH','2628kdLqjw','XawWS','427510ggZWwk','1734320ilHqtY','getBuddyList','获取好友列表完成','uid','542577OsXcHc','63472lKsjzB','then','gVeSv','nLuCK','XgBKO','QZHIO','1206760StEiWe','128718zbzuMD','获取好友列表超时','addListener','37598ljaDBP'];_0x1301=function(){return _0x241d62;};return _0x1301();}import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener['onBuddyListChange']=_0x30551b=>{const _0x2d088b=_0x165e,_0x27f088={'OMibv':function(_0xe6c18,_0x2112c1){return _0xe6c18(_0x2112c1);}};for(const [_0x2efcec,_0x511c61]of buddyChangeTasks){_0x27f088['OMibv'](_0x511c61,_0x30551b),buddyChangeTasks[_0x2d088b(0x1c8)](_0x2efcec);}},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x4b5fc7=_0x165e;napCatCore[_0x4b5fc7(0x1bd)](buddyListener);});},0x64);function _0x165e(_0x2c059f,_0x3b58c4){const _0x13013d=_0x1301();return _0x165e=function(_0x165eab,_0xd8b5fd){_0x165eab=_0x165eab-0x1b1;let _0x8d21a3=_0x13013d[_0x165eab];return _0x8d21a3;},_0x165e(_0x2c059f,_0x3b58c4);}export class NTQQFriendApi{static async['getFriends'](_0x2d764f=![]){const _0x49083b=_0x165e,_0x5d16a4={'XgBKO':function(_0x4bf847,_0x5d3ca6){return _0x4bf847(_0x5d3ca6);},'nLuCK':_0x49083b(0x1bc),'BukuO':function(_0x4e0664,_0x14c37c){return _0x4e0664(_0x14c37c);},'vPVvD':function(_0x24c2e9,_0x1496cd,_0x1a60af){return _0x24c2e9(_0x1496cd,_0x1a60af);},'TMsPx':_0x49083b(0x1b1),'XawWS':function(_0x5ad097,_0x4fed60){return _0x5ad097(_0x4fed60);},'gVeSv':function(_0x21ec2f,_0x222e6a,_0x2da2f6){return _0x21ec2f(_0x222e6a,_0x2da2f6);},'mlldA':'开始获取好友列表','KkhGz':function(_0x57e95f){return _0x57e95f();}};return new Promise((_0x155bd2,_0xb87fc6)=>{const _0x417701=_0x49083b,_0x488551={'UATLS':function(_0xbb3d5d,_0x3bcb78,_0x5a0a16){const _0x4acb4c=_0x165e;return _0x5d16a4[_0x4acb4c(0x1b6)](_0xbb3d5d,_0x3bcb78,_0x5a0a16);},'QZHIO':_0x5d16a4['mlldA']};let _0x3ef1dd=![];setTimeout(()=>{const _0x2605ed=_0x165e;!_0x3ef1dd&&(_0x5d16a4[_0x2605ed(0x1b8)](logDebug,_0x5d16a4[_0x2605ed(0x1b7)]),_0x5d16a4['BukuO'](_0xb87fc6,_0x5d16a4['nLuCK']));},0x1388);const _0x377a11=[],_0x384506=_0x5ee450=>{const _0x5be4d2=_0x165e;for(const _0x20fa73 of _0x5ee450){for(const _0x3b0bf4 of _0x20fa73['buddyList']){_0x377a11[_0x5be4d2(0x1bf)](_0x3b0bf4),uid2UinMap[_0x3b0bf4[_0x5be4d2(0x1b2)]]=_0x3b0bf4['uin'];}}_0x3ef1dd=!![],_0x5d16a4['vPVvD'](logDebug,_0x5d16a4[_0x5be4d2(0x1c3)],_0x377a11),_0x5d16a4[_0x5be4d2(0x1ce)](_0x155bd2,_0x377a11);};buddyChangeTasks['set'](_0x5d16a4[_0x417701(0x1c0)](randomUUID),_0x384506),napCatCore[_0x417701(0x1c9)][_0x417701(0x1c5)]()[_0x417701(0x1d1)](_0x2d764f)[_0x417701(0x1b5)](_0xc0e1c5=>{const _0x214b7a=_0x417701;_0x488551[_0x214b7a(0x1c4)](logDebug,_0x488551[_0x214b7a(0x1b9)],_0xc0e1c5);});});}static async[_0x4d8578(0x1c1)](_0x1c441e,_0x3c8163){const _0x2afd81=_0x4d8578;napCatCore[_0x2afd81(0x1c9)][_0x2afd81(0x1c5)]()?.[_0x2afd81(0x1c7)]({'friendUid':_0x1c441e['friendUid'],'reqTime':_0x1c441e[_0x2afd81(0x1ca)],'accept':_0x3c8163});}}