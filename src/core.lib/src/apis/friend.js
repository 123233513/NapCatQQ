const _0x1fccd4=_0x2295;(function(_0x6fc93d,_0x391304){const _0x4b8de9=_0x2295,_0x6871a3=_0x6fc93d();while(!![]){try{const _0x4f3cdf=parseInt(_0x4b8de9(0x8e))/0x1+parseInt(_0x4b8de9(0x9f))/0x2+-parseInt(_0x4b8de9(0x97))/0x3*(-parseInt(_0x4b8de9(0x85))/0x4)+-parseInt(_0x4b8de9(0x98))/0x5*(-parseInt(_0x4b8de9(0x84))/0x6)+parseInt(_0x4b8de9(0x96))/0x7+-parseInt(_0x4b8de9(0x9a))/0x8*(parseInt(_0x4b8de9(0x93))/0x9)+-parseInt(_0x4b8de9(0x9e))/0xa;if(_0x4f3cdf===_0x391304)break;else _0x6871a3['push'](_0x6871a3['shift']());}catch(_0x471877){_0x6871a3['push'](_0x6871a3['shift']());}}}(_0x3197,0xcadc8));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';function _0x3197(){const _0x563ca6=['8073863SyjBeL','81MrOmlj','45seZuwl','friendUid','8dIGzBR','获取好友列表超时','uid','KCUVq','24493710ffLWIF','2266890JFPMhS','reqTime','push','buddyList','onLoginSuccess','getBuddyList','hrHkO','485574sCUwmB','76024mMYACx','onBuddyListChange','qxyOa','PXiHh','then','getFriends','session','MpweF','HsUxN','937499TEYGoy','dOWBn','handleFriendRequest','getBuddyService','uin','10670265ImvcaF','addListener','fwiwO'];_0x3197=function(){return _0x563ca6;};return _0x3197();}function _0x2295(_0x5cfba9,_0x1c4b25){const _0x31974f=_0x3197();return _0x2295=function(_0x22955f,_0x3a99c4){_0x22955f=_0x22955f-0x84;let _0x1a1063=_0x31974f[_0x22955f];return _0x1a1063;},_0x2295(_0x5cfba9,_0x1c4b25);}import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x1fccd4(0x86)]=_0x30d16c=>{const _0x1770d8=_0x1fccd4,_0x22df02={'MpweF':function(_0x4f0710,_0x640672){return _0x4f0710(_0x640672);}};for(const [_0xf49065,_0x2b2bd9]of buddyChangeTasks){_0x22df02[_0x1770d8(0x8c)](_0x2b2bd9,_0x30d16c),buddyChangeTasks['delete'](_0xf49065);}},setTimeout(()=>{const _0x301eb0=_0x1fccd4;napCatCore[_0x301eb0(0xa3)](()=>{const _0x42a69e=_0x301eb0;napCatCore[_0x42a69e(0x94)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x1fccd4(0x8a)](_0x165fbf=![]){const _0x286e4b=_0x1fccd4,_0x1dc7fc={'hrHkO':function(_0xcbc06c,_0x3dbce9){return _0xcbc06c(_0x3dbce9);},'dOWBn':_0x286e4b(0x9b),'PXiHh':function(_0xcb2c3b,_0x1d1ca5){return _0xcb2c3b(_0x1d1ca5);},'qxyOa':function(_0x1683dd,_0x8b8df9,_0x4db8b8){return _0x1683dd(_0x8b8df9,_0x4db8b8);},'fwiwO':function(_0x82c800){return _0x82c800();}};return new Promise((_0x2ade1e,_0x567e4d)=>{const _0x201997=_0x286e4b,_0x55a9d8={'HsUxN':function(_0x403ee8,_0x5d9709){const _0x615dfe=_0x2295;return _0x1dc7fc[_0x615dfe(0x88)](_0x403ee8,_0x5d9709);},'KCUVq':'开始获取好友列表'};let _0x1259a4=![];_0x1dc7fc[_0x201997(0x87)](setTimeout,()=>{const _0x283741=_0x201997;!_0x1259a4&&(_0x1dc7fc[_0x283741(0xa5)](logDebug,_0x1dc7fc[_0x283741(0x8f)]),_0x1dc7fc['PXiHh'](_0x567e4d,_0x283741(0x9b)));},0x1388);const _0x2aee8c=[],_0x25db5f=_0x59cd92=>{const _0x10c1c6=_0x201997;for(const _0xa33c96 of _0x59cd92){for(const _0x19cb5e of _0xa33c96[_0x10c1c6(0xa2)]){_0x2aee8c[_0x10c1c6(0xa1)](_0x19cb5e),uid2UinMap[_0x19cb5e[_0x10c1c6(0x9c)]]=_0x19cb5e[_0x10c1c6(0x92)];}}_0x1259a4=!![],_0x55a9d8[_0x10c1c6(0x8d)](_0x2ade1e,_0x2aee8c);};buddyChangeTasks['set'](_0x1dc7fc[_0x201997(0x95)](randomUUID),_0x25db5f),napCatCore[_0x201997(0x8b)]['getBuddyService']()[_0x201997(0xa4)](_0x165fbf)[_0x201997(0x89)](_0x193524=>{const _0x4d2930=_0x201997;logDebug(_0x55a9d8[_0x4d2930(0x9d)],_0x193524);});});}static async[_0x1fccd4(0x90)](_0x403704,_0xda053a){const _0x58ae80=_0x1fccd4;napCatCore['session'][_0x58ae80(0x91)]()?.['approvalFriendRequest']({'friendUid':_0x403704[_0x58ae80(0x99)],'reqTime':_0x403704[_0x58ae80(0xa0)],'accept':_0xda053a});}}