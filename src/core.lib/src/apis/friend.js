const _0x3c2e30=_0x2673;(function(_0x1ebd25,_0x2e26cc){const _0x2250c4=_0x2673,_0x67ff14=_0x1ebd25();while(!![]){try{const _0x4f6741=parseInt(_0x2250c4(0x88))/0x1+parseInt(_0x2250c4(0x8c))/0x2+parseInt(_0x2250c4(0x83))/0x3*(-parseInt(_0x2250c4(0x72))/0x4)+parseInt(_0x2250c4(0x74))/0x5*(parseInt(_0x2250c4(0x7e))/0x6)+-parseInt(_0x2250c4(0x71))/0x7*(parseInt(_0x2250c4(0x84))/0x8)+-parseInt(_0x2250c4(0x78))/0x9*(parseInt(_0x2250c4(0x86))/0xa)+-parseInt(_0x2250c4(0x7b))/0xb*(-parseInt(_0x2250c4(0x7c))/0xc);if(_0x4f6741===_0x2e26cc)break;else _0x67ff14['push'](_0x67ff14['shift']());}catch(_0x4712c3){_0x67ff14['push'](_0x67ff14['shift']());}}}(_0x17b4,0xa9e73));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';function _0x2673(_0x272e0f,_0x1ec048){const _0x17b4f0=_0x17b4();return _0x2673=function(_0x26732b,_0x3acf33){_0x26732b=_0x26732b-0x6e;let _0x57603d=_0x17b4f0[_0x26732b];return _0x57603d;},_0x2673(_0x272e0f,_0x1ec048);}import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';function _0x17b4(){const _0x1d5f55=['push','then','VUcuE','获取好友列表超时','friendUid','3577kVMTVE','596DNFIFc','MJSfG','262295bbWTNm','ThHXh','handleFriendRequest','uid','1107OsYiXA','session','getBuddyService','307725bDsjZW','528dOQQex','onBuddyListChange','102gSpqfc','reqTime','获取好友列表完成','UdQjv','addListener','27903QiKJaA','3992iOSCII','buddyList','32420gMyaqs','uin','41339tYLmhO','set','delete','gXlXE','1142970wXgJvM'];_0x17b4=function(){return _0x1d5f55;};return _0x17b4();}const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x3c2e30(0x7d)]=_0x481410=>{const _0x4ddd70=_0x3c2e30,_0x4f33ff={'cpGos':function(_0x1d3e82,_0x1c42b9){return _0x1d3e82(_0x1c42b9);}};for(const [_0x1134ca,_0x3d4b92]of buddyChangeTasks){_0x4f33ff['cpGos'](_0x3d4b92,_0x481410),buddyChangeTasks[_0x4ddd70(0x8a)](_0x1134ca);}},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x267f62=_0x2673;napCatCore[_0x267f62(0x82)](buddyListener);});},0x64);export class NTQQFriendApi{static async['getFriends'](_0x463ac9=![]){const _0x17849e=_0x3c2e30,_0x44ea8a={'gXlXE':function(_0x2fbbca,_0x385728){return _0x2fbbca(_0x385728);},'UdQjv':'获取好友列表超时','ThHXh':_0x17849e(0x80),'MJSfG':function(_0x4d24e8,_0x5873ef){return _0x4d24e8(_0x5873ef);},'IVFCA':'开始获取好友列表','VUcuE':function(_0x196289,_0x5aa0c2,_0x1ace4e){return _0x196289(_0x5aa0c2,_0x1ace4e);},'ZYwPE':function(_0x3161cc){return _0x3161cc();}};return new Promise((_0x3c4ecd,_0x511540)=>{const _0x28b8af=_0x17849e;let _0x275cc1=![];_0x44ea8a[_0x28b8af(0x6e)](setTimeout,()=>{const _0x467ce9=_0x28b8af;!_0x275cc1&&(_0x44ea8a[_0x467ce9(0x8b)](logDebug,_0x44ea8a[_0x467ce9(0x81)]),_0x44ea8a[_0x467ce9(0x8b)](_0x511540,_0x467ce9(0x6f)));},0x1388);const _0x1a7556=[],_0x10c548=_0x4207ad=>{const _0x20482a=_0x28b8af;for(const _0x4982e7 of _0x4207ad){for(const _0x3abcf4 of _0x4982e7[_0x20482a(0x85)]){_0x1a7556[_0x20482a(0x8d)](_0x3abcf4),uid2UinMap[_0x3abcf4[_0x20482a(0x77)]]=_0x3abcf4[_0x20482a(0x87)];}}_0x275cc1=!![],logDebug(_0x44ea8a[_0x20482a(0x75)],_0x1a7556),_0x44ea8a[_0x20482a(0x73)](_0x3c4ecd,_0x1a7556);};buddyChangeTasks[_0x28b8af(0x89)](_0x44ea8a['ZYwPE'](randomUUID),_0x10c548),napCatCore[_0x28b8af(0x79)][_0x28b8af(0x7a)]()['getBuddyList'](_0x463ac9)[_0x28b8af(0x8e)](_0x389739=>{logDebug(_0x44ea8a['IVFCA'],_0x389739);});});}static async[_0x3c2e30(0x76)](_0x156375,_0x74df93){const _0x1ad834=_0x3c2e30;napCatCore['session'][_0x1ad834(0x7a)]()?.['approvalFriendRequest']({'friendUid':_0x156375[_0x1ad834(0x70)],'reqTime':_0x156375[_0x1ad834(0x7f)],'accept':_0x74df93});}}