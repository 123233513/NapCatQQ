const _0x25502f=_0xbe03;(function(_0x66409f,_0x54f3bb){const _0x525bb5=_0xbe03,_0xe1d4d6=_0x66409f();while(!![]){try{const _0x2399bc=-parseInt(_0x525bb5(0x1ae))/0x1+parseInt(_0x525bb5(0x1b8))/0x2*(-parseInt(_0x525bb5(0x1b5))/0x3)+-parseInt(_0x525bb5(0x1c7))/0x4+-parseInt(_0x525bb5(0x1bc))/0x5*(parseInt(_0x525bb5(0x1c0))/0x6)+-parseInt(_0x525bb5(0x1bb))/0x7*(-parseInt(_0x525bb5(0x1c8))/0x8)+-parseInt(_0x525bb5(0x1ba))/0x9*(parseInt(_0x525bb5(0x1b1))/0xa)+parseInt(_0x525bb5(0x1b0))/0xb;if(_0x2399bc===_0x54f3bb)break;else _0xe1d4d6['push'](_0xe1d4d6['shift']());}catch(_0x1669dd){_0xe1d4d6['push'](_0xe1d4d6['shift']());}}}(_0x435c,0xd3f83));import{BuddyListener,napCatCore}from'@/core';function _0x435c(){const _0x37af8c=['266094fLrtgX','then','27710441IQQOod','1220lhejxm','getFriends','reqTime','JVBgB','229893UrxdJD','addListener','friendUid','10pdPfcj','session','53901dSaWpY','2342578Wzsfxb','500GlKVZf','开始获取好友列表','approvalFriendRequest','KVfsl','10452ENBCmk','uid','uin','DHUpV','buddyList','RumPZ','set','4403036QAqBdO','24UmayIR','getBuddyService','push','getBuddyList','VJzvo','delete'];_0x435c=function(){return _0x37af8c;};return _0x435c();}import{logDebug}from'@/common/utils/log';function _0xbe03(_0x1c4a44,_0x37cda5){const _0x435c59=_0x435c();return _0xbe03=function(_0xbe035f,_0x597ebf){_0xbe035f=_0xbe035f-0x1ab;let _0xc810ef=_0x435c59[_0xbe035f];return _0xc810ef;},_0xbe03(_0x1c4a44,_0x37cda5);}import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener['onBuddyListChange']=_0x3f1c04=>{const _0x3a4ea3=_0xbe03,_0x2ab4a1={'KVfsl':function(_0x1106ac,_0x406661){return _0x1106ac(_0x406661);}};for(const [_0x19c712,_0x559d18]of buddyChangeTasks){_0x2ab4a1[_0x3a4ea3(0x1bf)](_0x559d18,_0x3f1c04),buddyChangeTasks[_0x3a4ea3(0x1ad)](_0x19c712);}},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x44c323=_0xbe03;napCatCore[_0x44c323(0x1b6)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x25502f(0x1b2)](_0x350b8d=![]){const _0x1c9cb9=_0x25502f,_0x53c32c={'AioMT':_0x1c9cb9(0x1bd),'JVBgB':function(_0x46bfdc,_0x37f7bf,_0x5f6409){return _0x46bfdc(_0x37f7bf,_0x5f6409);},'RhhPN':function(_0x19dd48){return _0x19dd48();}};return new Promise((_0x59f8d6,_0x2165a5)=>{const _0x359743=_0x1c9cb9,_0x16a5c4={'gCrib':function(_0x52f3fd,_0x120a82){return _0x52f3fd(_0x120a82);},'DHUpV':'获取好友列表超时','VJzvo':function(_0x15e19f,_0x5d5b84,_0x30b185){return _0x15e19f(_0x5d5b84,_0x30b185);},'RumPZ':_0x53c32c['AioMT']};let _0x7f159b=![];_0x53c32c[_0x359743(0x1b4)](setTimeout,()=>{const _0x52837a=_0x359743;!_0x7f159b&&(_0x16a5c4['gCrib'](logDebug,_0x16a5c4[_0x52837a(0x1c3)]),_0x2165a5('获取好友列表超时'));},0x1388);const _0x117b30=[],_0x2097f0=_0x195657=>{const _0x53a8ba=_0x359743;for(const _0x411113 of _0x195657){for(const _0x8d420b of _0x411113[_0x53a8ba(0x1c4)]){_0x117b30[_0x53a8ba(0x1ca)](_0x8d420b),uid2UinMap[_0x8d420b[_0x53a8ba(0x1c1)]]=_0x8d420b[_0x53a8ba(0x1c2)];}}_0x7f159b=!![],_0x59f8d6(_0x117b30);};buddyChangeTasks[_0x359743(0x1c6)](_0x53c32c['RhhPN'](randomUUID),_0x2097f0),napCatCore[_0x359743(0x1b9)][_0x359743(0x1c9)]()[_0x359743(0x1ab)](_0x350b8d)[_0x359743(0x1af)](_0x114df6=>{const _0x5e4782=_0x359743;_0x16a5c4[_0x5e4782(0x1ac)](logDebug,_0x16a5c4[_0x5e4782(0x1c5)],_0x114df6);});});}static async['handleFriendRequest'](_0x4920e4,_0x5b9a77){const _0x2c4d5d=_0x25502f;napCatCore[_0x2c4d5d(0x1b9)][_0x2c4d5d(0x1c9)]()?.[_0x2c4d5d(0x1be)]({'friendUid':_0x4920e4[_0x2c4d5d(0x1b7)],'reqTime':_0x4920e4[_0x2c4d5d(0x1b3)],'accept':_0x5b9a77});}}