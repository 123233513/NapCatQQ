const _0x44ff18=_0x20d0;(function(_0x21096c,_0xbc48cf){const _0x100c5a=_0x20d0,_0x1653c5=_0x21096c();while(!![]){try{const _0x4cb060=parseInt(_0x100c5a(0x123))/0x1*(parseInt(_0x100c5a(0x131))/0x2)+-parseInt(_0x100c5a(0x127))/0x3*(-parseInt(_0x100c5a(0x12b))/0x4)+-parseInt(_0x100c5a(0x122))/0x5+-parseInt(_0x100c5a(0x137))/0x6*(parseInt(_0x100c5a(0x12a))/0x7)+parseInt(_0x100c5a(0x11f))/0x8+-parseInt(_0x100c5a(0x13a))/0x9*(parseInt(_0x100c5a(0x12d))/0xa)+parseInt(_0x100c5a(0x135))/0xb*(parseInt(_0x100c5a(0x138))/0xc);if(_0x4cb060===_0xbc48cf)break;else _0x1653c5['push'](_0x1653c5['shift']());}catch(_0x4ae66e){_0x1653c5['push'](_0x1653c5['shift']());}}}(_0x3ed9,0x439ef));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();function _0x3ed9(){const _0x33d42b=['getFriends','uin','80mmaNxZ','addListener','cjMFN','okFNL','8140187URvWRq','XLrsz','984SUbije','12jqwura','approvalFriendRequest','1656ysbrTe','onLoginSuccess','uid','push','session','获取好友列表超时','2301416CIliKd','buddyList','set','2291485nsabCM','10006MdKIgw','then','getBuddyService','reqTime','19338FcmPJE','delete','开始获取好友列表','8533OJlArK','4jLLTzY','jihBp','27130tLgWQk','UvsxQ'];_0x3ed9=function(){return _0x33d42b;};return _0x3ed9();}function _0x20d0(_0x1b466a,_0x1ff148){const _0x3ed9c5=_0x3ed9();return _0x20d0=function(_0x20d0c5,_0x5e210d){_0x20d0c5=_0x20d0c5-0x11a;let _0x3d05c2=_0x3ed9c5[_0x20d0c5];return _0x3d05c2;},_0x20d0(_0x1b466a,_0x1ff148);}buddyListener['onBuddyListChange']=_0x5e1b7c=>{const _0x176815=_0x20d0;for(const [_0x28b424,_0x3dc56d]of buddyChangeTasks){_0x3dc56d(_0x5e1b7c),buddyChangeTasks[_0x176815(0x128)](_0x28b424);}},setTimeout(()=>{const _0x165407=_0x20d0;napCatCore[_0x165407(0x11a)](()=>{const _0x35baee=_0x165407;napCatCore[_0x35baee(0x132)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x44ff18(0x12f)](_0x3a6e33=![]){const _0x13db76=_0x44ff18,_0x475e1b={'bcsxL':function(_0x5d85ba,_0x20f9c1,_0x2f69b5){return _0x5d85ba(_0x20f9c1,_0x2f69b5);},'okFNL':_0x13db76(0x129),'cjMFN':'获取好友列表超时','BnHZB':function(_0x5e946f,_0x4d69c2,_0x2eff4f){return _0x5e946f(_0x4d69c2,_0x2eff4f);},'jihBp':'获取好友列表完成','acGUm':function(_0x2ead41){return _0x2ead41();}};return new Promise((_0x28a579,_0x396b1e)=>{const _0x111b5a=_0x13db76,_0x5a6893={'XLrsz':function(_0x46a3f2,_0xe01927){return _0x46a3f2(_0xe01927);},'AJZDB':_0x475e1b[_0x111b5a(0x133)],'dARyd':function(_0x105e8e,_0x367a73,_0x46b1ea){return _0x475e1b['BnHZB'](_0x105e8e,_0x367a73,_0x46b1ea);},'UvsxQ':_0x475e1b[_0x111b5a(0x12c)]};let _0x3830ce=![];setTimeout(()=>{const _0x2df1b4=_0x111b5a;!_0x3830ce&&(_0x5a6893[_0x2df1b4(0x136)](logDebug,_0x2df1b4(0x11e)),_0x396b1e(_0x5a6893['AJZDB']));},0x1388);const _0x4677bc=[],_0x21555b=_0x18422b=>{const _0xac08cb=_0x111b5a;for(const _0x5b7209 of _0x18422b){for(const _0x4f7b5f of _0x5b7209[_0xac08cb(0x120)]){_0x4677bc[_0xac08cb(0x11c)](_0x4f7b5f),uid2UinMap[_0x4f7b5f[_0xac08cb(0x11b)]]=_0x4f7b5f[_0xac08cb(0x130)];}}_0x3830ce=!![],_0x5a6893['dARyd'](logDebug,_0x5a6893[_0xac08cb(0x12e)],_0x4677bc),_0x5a6893[_0xac08cb(0x136)](_0x28a579,_0x4677bc);};buddyChangeTasks[_0x111b5a(0x121)](_0x475e1b['acGUm'](randomUUID),_0x21555b),napCatCore[_0x111b5a(0x11d)][_0x111b5a(0x125)]()['getBuddyList'](_0x3a6e33)[_0x111b5a(0x124)](_0x329deb=>{const _0x581a6a=_0x111b5a;_0x475e1b['bcsxL'](logDebug,_0x475e1b[_0x581a6a(0x134)],_0x329deb);});});}static async['handleFriendRequest'](_0x39bcc5,_0x2a8a72){const _0x5ec3c1=_0x44ff18;napCatCore[_0x5ec3c1(0x11d)][_0x5ec3c1(0x125)]()?.[_0x5ec3c1(0x139)]({'friendUid':_0x39bcc5['friendUid'],'reqTime':_0x39bcc5[_0x5ec3c1(0x126)],'accept':_0x2a8a72});}}