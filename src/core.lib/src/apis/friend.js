const _0x20713c=_0xf67e;(function(_0x1c96d5,_0x37fc3b){const _0x461661=_0xf67e,_0x458b98=_0x1c96d5();while(!![]){try{const _0x598808=parseInt(_0x461661(0x119))/0x1*(parseInt(_0x461661(0x106))/0x2)+parseInt(_0x461661(0x117))/0x3+parseInt(_0x461661(0xff))/0x4*(-parseInt(_0x461661(0x110))/0x5)+-parseInt(_0x461661(0xfd))/0x6*(parseInt(_0x461661(0x10b))/0x7)+-parseInt(_0x461661(0x109))/0x8*(-parseInt(_0x461661(0x10d))/0x9)+-parseInt(_0x461661(0x116))/0xa+-parseInt(_0x461661(0x108))/0xb*(parseInt(_0x461661(0x104))/0xc);if(_0x598808===_0x37fc3b)break;else _0x458b98['push'](_0x458b98['shift']());}catch(_0x59ceed){_0x458b98['push'](_0x458b98['shift']());}}}(_0x286f,0xa0522));function _0x286f(){const _0x196ba8=['507876kXKQfR','delete','handleFriendRequest','PzAkw','reqTime','5604NytGhM','getBuddyList','862166iCFBNH','friendUid','3091ZLWDaF','280IHxrnP','uid','1018409rivpUZ','push','253683AGqfff','获取好友列表完成','addListener','5mVjsyJ','WonYc','KKUTx','onBuddyListChange','RwOGx','uin','3615940uAKbRX','2195274WNbZAU','LLaSA','1PmPYSA','getBuddyService','获取好友列表超时','开始获取好友列表','session','set','AQhil','getFriends','then','HyQLo','CmzET','36estnjp','YOFgB'];_0x286f=function(){return _0x196ba8;};return _0x286f();}import{BuddyListener,napCatCore}from'@/core';function _0xf67e(_0x3b00ac,_0x2825e0){const _0x286f26=_0x286f();return _0xf67e=function(_0xf67e54,_0x42f971){_0xf67e54=_0xf67e54-0xf9;let _0xb87c3b=_0x286f26[_0xf67e54];return _0xb87c3b;},_0xf67e(_0x3b00ac,_0x2825e0);}import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x20713c(0x113)]=_0x1cbced=>{const _0xdc8f7a=_0x20713c,_0x578d9e={'YOFgB':function(_0x42ff4b,_0x359cb2){return _0x42ff4b(_0x359cb2);}};for(const [_0x3c082c,_0x2bbb8e]of buddyChangeTasks){_0x578d9e[_0xdc8f7a(0xfe)](_0x2bbb8e,_0x1cbced),buddyChangeTasks[_0xdc8f7a(0x100)](_0x3c082c);}},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x228708=_0xf67e;napCatCore[_0x228708(0x10f)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x20713c(0xf9)](_0xa39a51=![]){const _0x46fe8e=_0x20713c,_0x3de823={'CmzET':function(_0x3bd0fa,_0x301462,_0x163904){return _0x3bd0fa(_0x301462,_0x163904);},'FXpek':_0x46fe8e(0x10e),'KKUTx':function(_0x638377,_0x5216c4){return _0x638377(_0x5216c4);},'PzAkw':function(_0xfd1931,_0x14572b){return _0xfd1931(_0x14572b);},'RvBmA':_0x46fe8e(0x11b),'bAATm':function(_0x155295,_0x2b4076,_0x247f00){return _0x155295(_0x2b4076,_0x247f00);},'RwOGx':_0x46fe8e(0x11c),'JlfvC':function(_0x3555d8){return _0x3555d8();}};return new Promise((_0x528a51,_0x569c3a)=>{const _0x109980=_0x46fe8e,_0x17da8a={'HyQLo':function(_0x3945f6,_0x33440d){const _0xbbe191=_0xf67e;return _0x3de823[_0xbbe191(0x102)](_0x3945f6,_0x33440d);},'AQhil':_0x3de823['RvBmA'],'NmujT':function(_0x452084,_0x1a025c){return _0x452084(_0x1a025c);},'LLaSA':function(_0x142728,_0x35f201,_0x1c89cf){return _0x3de823['bAATm'](_0x142728,_0x35f201,_0x1c89cf);},'WonYc':_0x3de823[_0x109980(0x114)]};let _0x141bab=![];_0x3de823['bAATm'](setTimeout,()=>{const _0x366201=_0x109980;!_0x141bab&&(_0x17da8a[_0x366201(0xfb)](logDebug,_0x17da8a[_0x366201(0x11f)]),_0x17da8a['NmujT'](_0x569c3a,_0x17da8a[_0x366201(0x11f)]));},0x1388);const _0x4ae482=[],_0x3cd256=_0x3e7ab0=>{const _0x190546=_0x109980;for(const _0x4a4cdf of _0x3e7ab0){for(const _0x2dd091 of _0x4a4cdf['buddyList']){_0x4ae482[_0x190546(0x10c)](_0x2dd091),uid2UinMap[_0x2dd091[_0x190546(0x10a)]]=_0x2dd091[_0x190546(0x115)];}}_0x141bab=!![],_0x3de823[_0x190546(0xfc)](logDebug,_0x3de823['FXpek'],_0x4ae482),_0x3de823[_0x190546(0x112)](_0x528a51,_0x4ae482);};buddyChangeTasks[_0x109980(0x11e)](_0x3de823['JlfvC'](randomUUID),_0x3cd256),napCatCore[_0x109980(0x11d)][_0x109980(0x11a)]()[_0x109980(0x105)](_0xa39a51)[_0x109980(0xfa)](_0x3bf035=>{const _0x5e2ab7=_0x109980;_0x17da8a[_0x5e2ab7(0x118)](logDebug,_0x17da8a[_0x5e2ab7(0x111)],_0x3bf035);});});}static async[_0x20713c(0x101)](_0x2aae67,_0x2f866a){const _0xf2b37b=_0x20713c;napCatCore[_0xf2b37b(0x11d)][_0xf2b37b(0x11a)]()?.['approvalFriendRequest']({'friendUid':_0x2aae67[_0xf2b37b(0x107)],'reqTime':_0x2aae67[_0xf2b37b(0x103)],'accept':_0x2f866a});}}