const _0x356022=_0x5e19;function _0x4b37(){const _0x2a0527=['3037664vmmAgD','getBuddyService','reqTime','uin','handleFriendRequest','getFriends','approvalFriendRequest','onLoginSuccess','994786jBpntt','set','78uVJsZI','1454907HXLgXq','session','661540UGlDTz','friendUid','uid','push','getBuddyList','then','2371344BIpPnF','3xsqCzd','buddyList','7627944TwRhfL','yVWFU','获取好友列表超时','14886999DOfKTK','addListener','aLDOj','获取好友列表完成','开始获取好友列表','delete','bbfyo'];_0x4b37=function(){return _0x2a0527;};return _0x4b37();}(function(_0x2c179f,_0x305376){const _0x55ece6=_0x5e19,_0x482e31=_0x2c179f();while(!![]){try{const _0x3ef9f6=parseInt(_0x55ece6(0x154))/0x1+-parseInt(_0x55ece6(0x171))/0x2+parseInt(_0x55ece6(0x15d))/0x3*(parseInt(_0x55ece6(0x15c))/0x4)+parseInt(_0x55ece6(0x156))/0x5*(-parseInt(_0x55ece6(0x173))/0x6)+parseInt(_0x55ece6(0x169))/0x7+-parseInt(_0x55ece6(0x15f))/0x8+parseInt(_0x55ece6(0x162))/0x9;if(_0x3ef9f6===_0x305376)break;else _0x482e31['push'](_0x482e31['shift']());}catch(_0x2b06ee){_0x482e31['push'](_0x482e31['shift']());}}}(_0x4b37,0xeb934));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';function _0x5e19(_0x21d42c,_0x11520b){const _0x4b37cf=_0x4b37();return _0x5e19=function(_0x5e19f3,_0x51ccff){_0x5e19f3=_0x5e19f3-0x154;let _0x4ee4d0=_0x4b37cf[_0x5e19f3];return _0x4ee4d0;},_0x5e19(_0x21d42c,_0x11520b);}const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener['onBuddyListChange']=_0x40a9a5=>{const _0x336a15=_0x5e19;for(const [_0x213c79,_0x62b6c9]of buddyChangeTasks){_0x62b6c9(_0x40a9a5),buddyChangeTasks[_0x336a15(0x167)](_0x213c79);}},setTimeout(()=>{const _0x53d974=_0x5e19;napCatCore[_0x53d974(0x170)](()=>{const _0xebb42f=_0x53d974;napCatCore[_0xebb42f(0x163)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x356022(0x16e)](_0x585a6e=![]){const _0x3db3ce=_0x356022,_0x4b3805={'yVWFU':function(_0x5e4ced,_0x3795b2){return _0x5e4ced(_0x3795b2);},'bbfyo':_0x3db3ce(0x161),'cLwyU':_0x3db3ce(0x165),'aLDOj':function(_0x249717,_0x4394b,_0x37ce93){return _0x249717(_0x4394b,_0x37ce93);}};return new Promise((_0x403704,_0x4a5487)=>{const _0x46165b=_0x3db3ce;let _0x37b638=![];_0x4b3805[_0x46165b(0x164)](setTimeout,()=>{const _0x3c7295=_0x46165b;!_0x37b638&&(_0x4b3805[_0x3c7295(0x160)](logDebug,_0x4b3805[_0x3c7295(0x168)]),_0x4b3805[_0x3c7295(0x160)](_0x4a5487,_0x4b3805[_0x3c7295(0x168)]));},0x1388);const _0x4340c9=[],_0x2141fd=_0x1b03f3=>{const _0xe6148a=_0x46165b;for(const _0x4555e6 of _0x1b03f3){for(const _0x5c056f of _0x4555e6[_0xe6148a(0x15e)]){_0x4340c9[_0xe6148a(0x159)](_0x5c056f),uid2UinMap[_0x5c056f[_0xe6148a(0x158)]]=_0x5c056f[_0xe6148a(0x16c)];}}_0x37b638=!![],logDebug(_0x4b3805['cLwyU'],_0x4340c9),_0x403704(_0x4340c9);};buddyChangeTasks[_0x46165b(0x172)](randomUUID(),_0x2141fd),napCatCore[_0x46165b(0x155)]['getBuddyService']()[_0x46165b(0x15a)](_0x585a6e)[_0x46165b(0x15b)](_0x217090=>{const _0x296b71=_0x46165b;logDebug(_0x296b71(0x166),_0x217090);});});}static async[_0x356022(0x16d)](_0x50397a,_0x3e94c9){const _0x2a445b=_0x356022;napCatCore[_0x2a445b(0x155)][_0x2a445b(0x16a)]()?.[_0x2a445b(0x16f)]({'friendUid':_0x50397a[_0x2a445b(0x157)],'reqTime':_0x50397a[_0x2a445b(0x16b)],'accept':_0x3e94c9});}}