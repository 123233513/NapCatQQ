const _0x5714e9=_0x3eff;(function(_0x5d8342,_0x418ba8){const _0x219087=_0x3eff,_0x259e85=_0x5d8342();while(!![]){try{const _0x2ea539=parseInt(_0x219087(0xbe))/0x1+-parseInt(_0x219087(0xc7))/0x2+parseInt(_0x219087(0xab))/0x3*(parseInt(_0x219087(0xcc))/0x4)+-parseInt(_0x219087(0xb2))/0x5*(-parseInt(_0x219087(0xc1))/0x6)+-parseInt(_0x219087(0xaf))/0x7*(parseInt(_0x219087(0xca))/0x8)+parseInt(_0x219087(0xb4))/0x9*(parseInt(_0x219087(0xc2))/0xa)+-parseInt(_0x219087(0xb6))/0xb*(parseInt(_0x219087(0xbf))/0xc);if(_0x2ea539===_0x418ba8)break;else _0x259e85['push'](_0x259e85['shift']());}catch(_0x4323fe){_0x259e85['push'](_0x259e85['shift']());}}}(_0x3a35,0x2dc70));function _0x3a35(){const _0x50beb9=['buddyList','MwYex','获取好友列表超时','HzeCo','getBuddyList','165432QvYOfq','1036824vQrnaD','onBuddyListChange','552744NacNlR','170fyOYDz','LPoyk','set','handleFriendRequest','addListener','330162sYccNT','ovtag','session','32YsBXlW','bGQNI','57604zciNTU','friendUid','获取好友列表完成','开始获取好友列表','iNWlB','36QwCUzs','approvalFriendRequest','getFriends','push','208579AakSQR','TBLTE','THAPY','10OqDEAP','getBuddyService','18891vmEewV','uin','11WnTeGI','vtgOs','gSNgQ'];_0x3a35=function(){return _0x50beb9;};return _0x3a35();}import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x5714e9(0xc0)]=_0x727698=>{const _0x6d2f3f=_0x5714e9,_0x25d01b={'LPoyk':function(_0x29a405,_0x143344){return _0x29a405(_0x143344);}};for(const [_0x1b3e13,_0x4e9d2e]of buddyChangeTasks){_0x25d01b[_0x6d2f3f(0xc3)](_0x4e9d2e,_0x727698),buddyChangeTasks['delete'](_0x1b3e13);}},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x4e15d8=_0x3eff;napCatCore[_0x4e15d8(0xc6)](buddyListener);});},0x64);function _0x3eff(_0x4fbe04,_0x1c8ac5){const _0x3a352a=_0x3a35();return _0x3eff=function(_0x3effc2,_0x276f8e){_0x3effc2=_0x3effc2-0xab;let _0x4cd02d=_0x3a352a[_0x3effc2];return _0x4cd02d;},_0x3eff(_0x4fbe04,_0x1c8ac5);}export class NTQQFriendApi{static async[_0x5714e9(0xad)](_0x3d1d6d=![]){const _0xed3cf2=_0x5714e9,_0x24416c={'Emetm':function(_0x2fbfa3,_0x66bdc6){return _0x2fbfa3(_0x66bdc6);},'gSNgQ':function(_0x39ec33,_0x3ad822,_0x471e85){return _0x39ec33(_0x3ad822,_0x471e85);},'TBLTE':_0xed3cf2(0xce),'vtgOs':function(_0x4a0d0e,_0x57c437,_0xa9468a){return _0x4a0d0e(_0x57c437,_0xa9468a);},'ovtag':function(_0x181c05){return _0x181c05();}};return new Promise((_0x5d6356,_0x6bc4b6)=>{const _0x5a6a6e=_0xed3cf2,_0x59a371={'bGQNI':function(_0x1d85b7,_0x252809){return _0x1d85b7(_0x252809);},'iNWlB':_0x5a6a6e(0xbb),'MwYex':function(_0x2ed263,_0x3009cd){return _0x24416c['Emetm'](_0x2ed263,_0x3009cd);},'THAPY':function(_0x4e9ba3,_0x21469a,_0x4ecea7){const _0x5de675=_0x5a6a6e;return _0x24416c[_0x5de675(0xb8)](_0x4e9ba3,_0x21469a,_0x4ecea7);},'ObdlV':_0x24416c[_0x5a6a6e(0xb0)],'HzeCo':function(_0x2e6580,_0x4ecb21){return _0x24416c['Emetm'](_0x2e6580,_0x4ecb21);}};let _0x6a3dcc=![];_0x24416c[_0x5a6a6e(0xb7)](setTimeout,()=>{const _0x168942=_0x5a6a6e;!_0x6a3dcc&&(_0x59a371[_0x168942(0xcb)](logDebug,_0x59a371['iNWlB']),_0x59a371[_0x168942(0xba)](_0x6bc4b6,_0x59a371[_0x168942(0xd0)]));},0x1388);const _0x5448fe=[],_0x18aa12=_0x21f9d7=>{const _0x3a7627=_0x5a6a6e;for(const _0x82ce21 of _0x21f9d7){for(const _0x55d2e3 of _0x82ce21[_0x3a7627(0xb9)]){_0x5448fe[_0x3a7627(0xae)](_0x55d2e3),uid2UinMap[_0x55d2e3['uid']]=_0x55d2e3[_0x3a7627(0xb5)];}}_0x6a3dcc=!![],_0x59a371[_0x3a7627(0xb1)](logDebug,_0x59a371['ObdlV'],_0x5448fe),_0x59a371[_0x3a7627(0xbc)](_0x5d6356,_0x5448fe);};buddyChangeTasks[_0x5a6a6e(0xc4)](_0x24416c[_0x5a6a6e(0xc8)](randomUUID),_0x18aa12),napCatCore[_0x5a6a6e(0xc9)][_0x5a6a6e(0xb3)]()[_0x5a6a6e(0xbd)](_0x3d1d6d)['then'](_0x4d1aeb=>{const _0xf8ba5=_0x5a6a6e;logDebug(_0xf8ba5(0xcf),_0x4d1aeb);});});}static async[_0x5714e9(0xc5)](_0x3c9c67,_0x5f3795){const _0x444f7c=_0x5714e9;napCatCore[_0x444f7c(0xc9)][_0x444f7c(0xb3)]()?.[_0x444f7c(0xac)]({'friendUid':_0x3c9c67[_0x444f7c(0xcd)],'reqTime':_0x3c9c67['reqTime'],'accept':_0x5f3795});}}