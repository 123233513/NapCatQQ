const _0x5a5846=_0xf6cc;(function(_0x15c6ed,_0x4ed11a){const _0x57ffc9=_0xf6cc,_0x5a710a=_0x15c6ed();while(!![]){try{const _0x382f1f=-parseInt(_0x57ffc9(0x1d3))/0x1*(parseInt(_0x57ffc9(0x1d9))/0x2)+parseInt(_0x57ffc9(0x1dd))/0x3*(-parseInt(_0x57ffc9(0x1e4))/0x4)+parseInt(_0x57ffc9(0x1d0))/0x5*(parseInt(_0x57ffc9(0x1d8))/0x6)+parseInt(_0x57ffc9(0x1e1))/0x7+parseInt(_0x57ffc9(0x1de))/0x8+parseInt(_0x57ffc9(0x1df))/0x9+parseInt(_0x57ffc9(0x1e2))/0xa*(parseInt(_0x57ffc9(0x1e7))/0xb);if(_0x382f1f===_0x4ed11a)break;else _0x5a710a['push'](_0x5a710a['shift']());}catch(_0x4629c5){_0x5a710a['push'](_0x5a710a['shift']());}}}(_0x451e,0x24cda));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';function _0x451e(){const _0x5ddbc0=['addListener','30kCQwyu','4FGOrxt','approvalFriendRequest','pbRen','friendUid','620250mBHZRE','407328lybEmI','504711vzuMfH','delete','381465KPLgdj','688490oxDDXv','WbWCF','4lBXTyW','hkVJB','获取好友列表超时','77kqTuGx','uin','开始获取好友列表','session','getBuddyList','getBuddyService','handleFriendRequest','xuGDr','8595QbuuTy','onBuddyListChange','then','147266ojTUZu','tEAJt','onLoginSuccess','push'];_0x451e=function(){return _0x5ddbc0;};return _0x451e();}import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x5a5846(0x1d1)]=_0x2f3711=>{const _0x3f755c=_0x5a5846,_0x1a9364={'tEAJt':function(_0x520117,_0x2b11d1){return _0x520117(_0x2b11d1);}};for(const [_0x5a7d63,_0x391e36]of buddyChangeTasks){_0x1a9364[_0x3f755c(0x1d4)](_0x391e36,_0x2f3711),buddyChangeTasks[_0x3f755c(0x1e0)](_0x5a7d63);}},setTimeout(()=>{const _0xe259c5=_0x5a5846;napCatCore[_0xe259c5(0x1d5)](()=>{const _0xfabb8b=_0xe259c5;napCatCore[_0xfabb8b(0x1d7)](buddyListener);});},0x64);function _0xf6cc(_0x54a283,_0x121e46){const _0x451eb3=_0x451e();return _0xf6cc=function(_0xf6cc31,_0x575e40){_0xf6cc31=_0xf6cc31-0x1cc;let _0x23c2a2=_0x451eb3[_0xf6cc31];return _0x23c2a2;},_0xf6cc(_0x54a283,_0x121e46);}export class NTQQFriendApi{static async['getFriends'](_0x45b623=![]){const _0x1e918b=_0x5a5846,_0x46b924={'pbRen':'获取好友列表完成','xuGDr':_0x1e918b(0x1e6),'hkVJB':function(_0xc4a3e3,_0x6a091b){return _0xc4a3e3(_0x6a091b);},'XqOgU':function(_0x2998f1){return _0x2998f1();}};return new Promise((_0x7572c6,_0x371019)=>{const _0x6e7031=_0x1e918b,_0x2e92bc={'ECcpJ':_0x46b924[_0x6e7031(0x1cf)],'WbWCF':function(_0xcbc92e,_0x588cb4){const _0x1d6736=_0x6e7031;return _0x46b924[_0x1d6736(0x1e5)](_0xcbc92e,_0x588cb4);}};let _0xc80ed7=![];setTimeout(()=>{const _0x55fae5=_0x6e7031;!_0xc80ed7&&(logDebug(_0x2e92bc['ECcpJ']),_0x2e92bc[_0x55fae5(0x1e3)](_0x371019,_0x55fae5(0x1e6)));},0x1388);const _0x434fd7=[],_0x452038=_0x38883b=>{const _0xf0b178=_0x6e7031;for(const _0x266131 of _0x38883b){for(const _0x6479f4 of _0x266131['buddyList']){_0x434fd7[_0xf0b178(0x1d6)](_0x6479f4),uid2UinMap[_0x6479f4['uid']]=_0x6479f4[_0xf0b178(0x1e8)];}}_0xc80ed7=!![],logDebug(_0x46b924[_0xf0b178(0x1db)],_0x434fd7),_0x7572c6(_0x434fd7);};buddyChangeTasks['set'](_0x46b924['XqOgU'](randomUUID),_0x452038),napCatCore[_0x6e7031(0x1ea)][_0x6e7031(0x1cd)]()[_0x6e7031(0x1cc)](_0x45b623)[_0x6e7031(0x1d2)](_0x4e127d=>{const _0x43cea2=_0x6e7031;logDebug(_0x43cea2(0x1e9),_0x4e127d);});});}static async[_0x5a5846(0x1ce)](_0x3842ce,_0x5d595f){const _0x3b15f5=_0x5a5846;napCatCore['session'][_0x3b15f5(0x1cd)]()?.[_0x3b15f5(0x1da)]({'friendUid':_0x3842ce[_0x3b15f5(0x1dc)],'reqTime':_0x3842ce['reqTime'],'accept':_0x5d595f});}}