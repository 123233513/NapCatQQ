const _0x487cc6=_0x4f4a;(function(_0xc410b8,_0x1f97ef){const _0x486a62=_0x4f4a,_0x3652ec=_0xc410b8();while(!![]){try{const _0x254ae4=parseInt(_0x486a62(0x14a))/0x1*(-parseInt(_0x486a62(0x148))/0x2)+-parseInt(_0x486a62(0x142))/0x3+parseInt(_0x486a62(0x14b))/0x4+-parseInt(_0x486a62(0x150))/0x5*(-parseInt(_0x486a62(0x138))/0x6)+-parseInt(_0x486a62(0x146))/0x7+parseInt(_0x486a62(0x14f))/0x8+-parseInt(_0x486a62(0x147))/0x9*(-parseInt(_0x486a62(0x135))/0xa);if(_0x254ae4===_0x1f97ef)break;else _0x3652ec['push'](_0x3652ec['shift']());}catch(_0x56b947){_0x3652ec['push'](_0x3652ec['shift']());}}}(_0x1a58,0xd4bc4));import{BuddyListener,napCatCore}from'@/core';function _0x1a58(){const _0x2089fa=['session','onLoginSuccess','iPBjM','VRUah','getBuddyService','10KAmYAq','friendUid','handleFriendRequest','30cLnnkD','uin','approvalFriendRequest','VZnOk','aBdqU','getBuddyList','gDQRN','QiCml','push','btiZG','3380211zXauwd','delete','开始获取好友列表','then','11108083vHfOrr','7889526ZPCevj','56YGXUNo','buddyList','18743pbBGtX','2829908CxweUU','vsZtM','uid','onBuddyListChange','13311944kSAQtQ','861690kKWceK'];_0x1a58=function(){return _0x2089fa;};return _0x1a58();}import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';function _0x4f4a(_0x339d3b,_0x2912aa){const _0x1a589f=_0x1a58();return _0x4f4a=function(_0x4f4a10,_0xc7320e){_0x4f4a10=_0x4f4a10-0x135;let _0x40630a=_0x1a589f[_0x4f4a10];return _0x40630a;},_0x4f4a(_0x339d3b,_0x2912aa);}import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x487cc6(0x14e)]=_0x5f12df=>{const _0x1ba183=_0x487cc6,_0x15a783={'VZnOk':function(_0x42c0f7,_0x140d3f){return _0x42c0f7(_0x140d3f);}};for(const [_0x4e180b,_0x2c092]of buddyChangeTasks){_0x15a783[_0x1ba183(0x13b)](_0x2c092,_0x5f12df),buddyChangeTasks[_0x1ba183(0x143)](_0x4e180b);}},setTimeout(()=>{const _0x54babe=_0x487cc6;napCatCore[_0x54babe(0x152)](()=>{napCatCore['addListener'](buddyListener);});},0x64);export class NTQQFriendApi{static async['getFriends'](_0x4f45da=![]){const _0xf0cbc8={'iPBjM':function(_0x146682,_0x277326){return _0x146682(_0x277326);},'gDQRN':'获取好友列表超时','vsZtM':function(_0x33c698,_0x3427d5){return _0x33c698(_0x3427d5);},'btiZG':function(_0x4dce84,_0x34e0a8,_0x1d186e){return _0x4dce84(_0x34e0a8,_0x1d186e);},'QiCml':function(_0xef5b76){return _0xef5b76();}};return new Promise((_0x82f5bc,_0x5962ae)=>{const _0x1e464e=_0x4f4a,_0xd78b4a={'aBdqU':function(_0x2f3f80,_0x19300e){return _0x2f3f80(_0x19300e);},'VRUah':_0x1e464e(0x144)};let _0x23f789=![];_0xf0cbc8[_0x1e464e(0x141)](setTimeout,()=>{const _0xb40a5b=_0x1e464e;!_0x23f789&&(_0xf0cbc8[_0xb40a5b(0x153)](logDebug,_0xf0cbc8[_0xb40a5b(0x13e)]),_0xf0cbc8[_0xb40a5b(0x14c)](_0x5962ae,_0xf0cbc8[_0xb40a5b(0x13e)]));},0x1388);const _0x24fe31=[],_0x26aa54=_0x17c928=>{const _0x4dd32d=_0x1e464e;for(const _0x4e8183 of _0x17c928){for(const _0x2a8512 of _0x4e8183[_0x4dd32d(0x149)]){_0x24fe31[_0x4dd32d(0x140)](_0x2a8512),uid2UinMap[_0x2a8512[_0x4dd32d(0x14d)]]=_0x2a8512[_0x4dd32d(0x139)];}}_0x23f789=!![],_0xd78b4a[_0x4dd32d(0x13c)](_0x82f5bc,_0x24fe31);};buddyChangeTasks['set'](_0xf0cbc8[_0x1e464e(0x13f)](randomUUID),_0x26aa54),napCatCore[_0x1e464e(0x151)][_0x1e464e(0x155)]()[_0x1e464e(0x13d)](_0x4f45da)[_0x1e464e(0x145)](_0x2c3333=>{const _0x15994a=_0x1e464e;logDebug(_0xd78b4a[_0x15994a(0x154)],_0x2c3333);});});}static async[_0x487cc6(0x137)](_0x1d16b1,_0x537388){const _0x12c7df=_0x487cc6;napCatCore['session']['getBuddyService']()?.[_0x12c7df(0x13a)]({'friendUid':_0x1d16b1[_0x12c7df(0x136)],'reqTime':_0x1d16b1['reqTime'],'accept':_0x537388});}}