const _0x4ee89f=_0x5963;(function(_0x4ba86b,_0x124531){const _0x4fc274=_0x5963,_0x8d4abf=_0x4ba86b();while(!![]){try{const _0x7e6760=-parseInt(_0x4fc274(0xe5))/0x1*(parseInt(_0x4fc274(0xd4))/0x2)+parseInt(_0x4fc274(0xda))/0x3*(-parseInt(_0x4fc274(0xde))/0x4)+parseInt(_0x4fc274(0xe0))/0x5+parseInt(_0x4fc274(0xcc))/0x6*(-parseInt(_0x4fc274(0xc4))/0x7)+-parseInt(_0x4fc274(0xe3))/0x8+parseInt(_0x4fc274(0xd7))/0x9*(parseInt(_0x4fc274(0xe8))/0xa)+parseInt(_0x4fc274(0xdb))/0xb;if(_0x7e6760===_0x124531)break;else _0x8d4abf['push'](_0x8d4abf['shift']());}catch(_0x540b29){_0x8d4abf['push'](_0x8d4abf['shift']());}}}(_0x3e31,0xf2e21));import{BuddyListener,napCatCore}from'@/core';function _0x3e31(){const _0x1b26f6=['5829561YrAeNg','34606033MRKBQF','reqTime','uid','4nRhbLC','xvHjU','4179675RlNKQd','cRUZW','CsMEo','4855704KrLcbw','addListener','58fEZNat','set','approvalFriendRequest','8070FNFIES','1733088rFgrnV','NhzcB','delete','onLoginSuccess','then','getFriends','OmxdD','XnCpj','18VFzUxi','onBuddyListChange','handleFriendRequest','friendUid','开始获取好友列表','push','session','ejDRb','32504VqSAGL','获取好友列表完成','getBuddyService','13923EDlVUs','获取好友列表超时','buddyList'];_0x3e31=function(){return _0x1b26f6;};return _0x3e31();}function _0x5963(_0x5bcdf6,_0x480b6f){const _0x3e319c=_0x3e31();return _0x5963=function(_0x5963f0,_0xe7b948){_0x5963f0=_0x5963f0-0xc4;let _0x1c62e0=_0x3e319c[_0x5963f0];return _0x1c62e0;},_0x5963(_0x5bcdf6,_0x480b6f);}import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x4ee89f(0xcd)]=_0x2d621b=>{const _0x2cf8d1=_0x4ee89f,_0x538753={'XnCpj':function(_0x1520cf,_0x2165c6){return _0x1520cf(_0x2165c6);}};for(const [_0x287fe5,_0x1313f9]of buddyChangeTasks){_0x538753[_0x2cf8d1(0xcb)](_0x1313f9,_0x2d621b),buddyChangeTasks[_0x2cf8d1(0xc6)](_0x287fe5);}},setTimeout(()=>{const _0x42374f=_0x4ee89f;napCatCore[_0x42374f(0xc7)](()=>{const _0x3f6497=_0x42374f;napCatCore[_0x3f6497(0xe4)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x4ee89f(0xc9)](_0x37d72e=![]){const _0x9c08c3={'OmxdD':function(_0x2b4afa,_0x20ad0a){return _0x2b4afa(_0x20ad0a);},'CsMEo':function(_0x2fe3f5,_0x276203,_0x12bfd5){return _0x2fe3f5(_0x276203,_0x12bfd5);},'xvHjU':function(_0x249f15,_0x2578ca,_0x217146){return _0x249f15(_0x2578ca,_0x217146);},'ejDRb':function(_0x41a23e){return _0x41a23e();}};return new Promise((_0xb99de9,_0x24ec01)=>{const _0x31929e=_0x5963,_0x171878={'cRUZW':function(_0x3ec562,_0x3905cb){const _0x9fee2e=_0x5963;return _0x9c08c3[_0x9fee2e(0xca)](_0x3ec562,_0x3905cb);},'AqPVd':function(_0x548fa0,_0x1080b4,_0x256b88){return _0x548fa0(_0x1080b4,_0x256b88);},'NhzcB':function(_0x24cec1,_0x4aa88b,_0x1f71fb){const _0x4490cd=_0x5963;return _0x9c08c3[_0x4490cd(0xe2)](_0x24cec1,_0x4aa88b,_0x1f71fb);},'eaTPt':_0x31929e(0xd0)};let _0x2c9a3c=![];_0x9c08c3[_0x31929e(0xdf)](setTimeout,()=>{const _0x553670=_0x31929e;!_0x2c9a3c&&(_0x171878[_0x553670(0xe1)](logDebug,'获取好友列表超时'),_0x24ec01(_0x553670(0xd8)));},0x1388);const _0xf6f8f5=[],_0x184f9a=_0x253e6b=>{const _0x3f4866=_0x31929e;for(const _0x12f518 of _0x253e6b){for(const _0x4c4993 of _0x12f518[_0x3f4866(0xd9)]){_0xf6f8f5[_0x3f4866(0xd1)](_0x4c4993),uid2UinMap[_0x4c4993[_0x3f4866(0xdd)]]=_0x4c4993['uin'];}}_0x2c9a3c=!![],_0x171878['AqPVd'](logDebug,_0x3f4866(0xd5),_0xf6f8f5),_0x171878['cRUZW'](_0xb99de9,_0xf6f8f5);};buddyChangeTasks[_0x31929e(0xe6)](_0x9c08c3[_0x31929e(0xd3)](randomUUID),_0x184f9a),napCatCore[_0x31929e(0xd2)][_0x31929e(0xd6)]()['getBuddyList'](_0x37d72e)[_0x31929e(0xc8)](_0x4d31df=>{const _0x277675=_0x31929e;_0x171878[_0x277675(0xc5)](logDebug,_0x171878['eaTPt'],_0x4d31df);});});}static async[_0x4ee89f(0xce)](_0xf2ed74,_0xdd5745){const _0x41db68=_0x4ee89f;napCatCore[_0x41db68(0xd2)]['getBuddyService']()?.[_0x41db68(0xe7)]({'friendUid':_0xf2ed74[_0x41db68(0xcf)],'reqTime':_0xf2ed74[_0x41db68(0xdc)],'accept':_0xdd5745});}}