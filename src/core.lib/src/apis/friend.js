const _0x43710c=_0x766a;(function(_0x5d2c5f,_0x4e45ec){const _0x3eb2f9=_0x766a,_0x581ad2=_0x5d2c5f();while(!![]){try{const _0x1d9872=-parseInt(_0x3eb2f9(0xbb))/0x1*(parseInt(_0x3eb2f9(0xb2))/0x2)+parseInt(_0x3eb2f9(0xa9))/0x3+-parseInt(_0x3eb2f9(0xa8))/0x4*(parseInt(_0x3eb2f9(0xad))/0x5)+parseInt(_0x3eb2f9(0xae))/0x6+parseInt(_0x3eb2f9(0x9d))/0x7+parseInt(_0x3eb2f9(0x9f))/0x8*(parseInt(_0x3eb2f9(0xb3))/0x9)+parseInt(_0x3eb2f9(0xa2))/0xa*(parseInt(_0x3eb2f9(0xa0))/0xb);if(_0x1d9872===_0x4e45ec)break;else _0x581ad2['push'](_0x581ad2['shift']());}catch(_0x3ab830){_0x581ad2['push'](_0x581ad2['shift']());}}}(_0x22f2,0x40bb8));import{BuddyListener,napCatCore}from'@/core';function _0x22f2(){const _0x3a25d5=['then','getBuddyService','794ITlKLp','wsotR','gyOWr','84560GCxPLE','delete','135416BNfgCy','55PJLgsU','onLoginSuccess','412310ijDHIm','set','uin','XkbEr','获取好友列表超时','approvalFriendRequest','1572204KZAspA','1142403touZIa','getBuddyList','session','mjbSL','5hTxbar','1020816ohYhpf','PfDSE','reqTime','BzUPq','578gLdfIY','63QAbbjL','friendUid','开始获取好友列表','getFriends','buddyList','handleFriendRequest'];_0x22f2=function(){return _0x3a25d5;};return _0x22f2();}import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';function _0x766a(_0x256bb4,_0x3dd66c){const _0x22f2a4=_0x22f2();return _0x766a=function(_0x766ada,_0x36f789){_0x766ada=_0x766ada-0x9c;let _0x116422=_0x22f2a4[_0x766ada];return _0x116422;},_0x766a(_0x256bb4,_0x3dd66c);}import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener['onBuddyListChange']=_0x2897ca=>{const _0x99fade=_0x766a;for(const [_0x46636e,_0x15a4da]of buddyChangeTasks){_0x15a4da(_0x2897ca),buddyChangeTasks[_0x99fade(0x9e)](_0x46636e);}},setTimeout(()=>{const _0x2759aa=_0x766a;napCatCore[_0x2759aa(0xa1)](()=>{napCatCore['addListener'](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x43710c(0xb6)](_0x5461c4=![]){const _0x710332=_0x43710c,_0x91173b={'mjbSL':function(_0x20b27d,_0x4ca90a,_0x49120a){return _0x20b27d(_0x4ca90a,_0x49120a);},'BzUPq':_0x710332(0xb5),'XkbEr':function(_0x409751,_0x4b1253){return _0x409751(_0x4b1253);},'gyOWr':function(_0x14bf5c){return _0x14bf5c();}};return new Promise((_0x20effb,_0xcbcd09)=>{const _0xf7f2bc=_0x710332,_0x460482={'wsotR':function(_0x2e0db8,_0x137f01){const _0x4c65bc=_0x766a;return _0x91173b[_0x4c65bc(0xa5)](_0x2e0db8,_0x137f01);},'PfDSE':_0xf7f2bc(0xa6)};let _0xe2b618=![];_0x91173b['mjbSL'](setTimeout,()=>{const _0x234852=_0xf7f2bc;!_0xe2b618&&(_0x460482[_0x234852(0xbc)](logDebug,_0x460482[_0x234852(0xaf)]),_0xcbcd09(_0x460482[_0x234852(0xaf)]));},0x1388);const _0x51b9a=[],_0x369ff1=_0x582613=>{const _0x22d7bd=_0xf7f2bc;for(const _0x21a558 of _0x582613){for(const _0x17a8a0 of _0x21a558[_0x22d7bd(0xb7)]){_0x51b9a['push'](_0x17a8a0),uid2UinMap[_0x17a8a0['uid']]=_0x17a8a0[_0x22d7bd(0xa4)];}}_0xe2b618=!![],_0x460482[_0x22d7bd(0xbc)](_0x20effb,_0x51b9a);};buddyChangeTasks[_0xf7f2bc(0xa3)](_0x91173b[_0xf7f2bc(0x9c)](randomUUID),_0x369ff1),napCatCore['session']['getBuddyService']()[_0xf7f2bc(0xaa)](_0x5461c4)[_0xf7f2bc(0xb9)](_0x497b0f=>{const _0x583384=_0xf7f2bc;_0x91173b[_0x583384(0xac)](logDebug,_0x91173b[_0x583384(0xb1)],_0x497b0f);});});}static async[_0x43710c(0xb8)](_0x4d5015,_0x163383){const _0x2090a8=_0x43710c;napCatCore[_0x2090a8(0xab)][_0x2090a8(0xba)]()?.[_0x2090a8(0xa7)]({'friendUid':_0x4d5015[_0x2090a8(0xb4)],'reqTime':_0x4d5015[_0x2090a8(0xb0)],'accept':_0x163383});}}