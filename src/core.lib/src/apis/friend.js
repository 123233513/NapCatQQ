const _0x123c9d=_0x19d5;function _0x19d5(_0x2d25dd,_0x3eaed3){const _0x1eed08=_0x1eed();return _0x19d5=function(_0x19d5d4,_0x52fe3b){_0x19d5d4=_0x19d5d4-0x1cc;let _0x266bb2=_0x1eed08[_0x19d5d4];return _0x266bb2;},_0x19d5(_0x2d25dd,_0x3eaed3);}function _0x1eed(){const _0x2d0917=['buddyList','9765720rwdhDv','push','2736070sTXBce','dcOrt','getBuddyList','set','then','onLoginSuccess','zdMDl','8OtnWfe','uid','onBuddyListChange','getBuddyService','wbhgQ','1684902LaIScZ','JocOW','35NcJkfc','Eodji','addListener','aQfGz','ksFIV','开始获取好友列表','session','9548334oHbVPV','10909HQaaaj','ziJnA','738522kJhOaO','46enRaLC','5615985AitQyi','rGEoE','获取好友列表完成','UxLFm','friendUid','handleFriendRequest'];_0x1eed=function(){return _0x2d0917;};return _0x1eed();}(function(_0x475524,_0x1bc23a){const _0x354f84=_0x19d5,_0x1d598c=_0x475524();while(!![]){try{const _0x925270=parseInt(_0x354f84(0x1eb))/0x1*(parseInt(_0x354f84(0x1ee))/0x2)+parseInt(_0x354f84(0x1ed))/0x3*(parseInt(_0x354f84(0x1dc))/0x4)+parseInt(_0x354f84(0x1cc))/0x5+-parseInt(_0x354f84(0x1e1))/0x6*(-parseInt(_0x354f84(0x1e3))/0x7)+-parseInt(_0x354f84(0x1d3))/0x8+-parseInt(_0x354f84(0x1ea))/0x9+-parseInt(_0x354f84(0x1d5))/0xa;if(_0x925270===_0x1bc23a)break;else _0x1d598c['push'](_0x1d598c['shift']());}catch(_0x4f4792){_0x1d598c['push'](_0x1d598c['shift']());}}}(_0x1eed,0xaea19));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x123c9d(0x1de)]=_0x75f921=>{const _0x51c3a3=_0x123c9d,_0x50a3f5={'ksFIV':function(_0x2804df,_0x14cc1c){return _0x2804df(_0x14cc1c);}};for(const [_0x42f0f5,_0x220535]of buddyChangeTasks){_0x50a3f5[_0x51c3a3(0x1e7)](_0x220535,_0x75f921),buddyChangeTasks['delete'](_0x42f0f5);}},setTimeout(()=>{const _0x247fc8=_0x123c9d;napCatCore[_0x247fc8(0x1da)](()=>{const _0x5085b1=_0x247fc8;napCatCore[_0x5085b1(0x1e5)](buddyListener);});},0x64);export class NTQQFriendApi{static async['getFriends'](_0x381585=![]){const _0x4aac32=_0x123c9d,_0x5a4d1d={'Eodji':function(_0x4e5489,_0x412f0d,_0x2f0945){return _0x4e5489(_0x412f0d,_0x2f0945);},'zdMDl':_0x4aac32(0x1e8),'UxLFm':'获取好友列表超时','ziJnA':function(_0xb5c81c,_0x487f89){return _0xb5c81c(_0x487f89);},'JocOW':function(_0x19350b,_0x4a3875,_0x383fe7){return _0x19350b(_0x4a3875,_0x383fe7);},'rGEoE':function(_0x24f4ac,_0x11a63f,_0x2fac0d){return _0x24f4ac(_0x11a63f,_0x2fac0d);}};return new Promise((_0x928c4,_0x4d3916)=>{const _0x42d8dd=_0x4aac32,_0x2b759d={'dcOrt':_0x5a4d1d[_0x42d8dd(0x1cf)],'wbhgQ':function(_0x399e02,_0x440e16){const _0x38c41f=_0x42d8dd;return _0x5a4d1d[_0x38c41f(0x1ec)](_0x399e02,_0x440e16);},'aQfGz':function(_0xc7bb25,_0x15570a,_0x445cd2){const _0x180bfc=_0x42d8dd;return _0x5a4d1d[_0x180bfc(0x1e2)](_0xc7bb25,_0x15570a,_0x445cd2);},'YWNRk':_0x42d8dd(0x1ce)};let _0x519187=![];_0x5a4d1d[_0x42d8dd(0x1cd)](setTimeout,()=>{const _0x1ff758=_0x42d8dd;!_0x519187&&(logDebug(_0x2b759d[_0x1ff758(0x1d6)]),_0x2b759d[_0x1ff758(0x1e0)](_0x4d3916,_0x2b759d[_0x1ff758(0x1d6)]));},0x1388);const _0x31de2a=[],_0x342581=_0x40bcc3=>{const _0x3840a2=_0x42d8dd;for(const _0x329a75 of _0x40bcc3){for(const _0x1925f2 of _0x329a75[_0x3840a2(0x1d2)]){_0x31de2a[_0x3840a2(0x1d4)](_0x1925f2),uid2UinMap[_0x1925f2[_0x3840a2(0x1dd)]]=_0x1925f2['uin'];}}_0x519187=!![],_0x2b759d[_0x3840a2(0x1e6)](logDebug,_0x2b759d['YWNRk'],_0x31de2a),_0x2b759d[_0x3840a2(0x1e0)](_0x928c4,_0x31de2a);};buddyChangeTasks[_0x42d8dd(0x1d8)](randomUUID(),_0x342581),napCatCore[_0x42d8dd(0x1e9)][_0x42d8dd(0x1df)]()[_0x42d8dd(0x1d7)](_0x381585)[_0x42d8dd(0x1d9)](_0x8be79d=>{const _0x3d9797=_0x42d8dd;_0x5a4d1d[_0x3d9797(0x1e4)](logDebug,_0x5a4d1d[_0x3d9797(0x1db)],_0x8be79d);});});}static async[_0x123c9d(0x1d1)](_0x3f3dae,_0x17d986){const _0x3fc88e=_0x123c9d;napCatCore['session'][_0x3fc88e(0x1df)]()?.['approvalFriendRequest']({'friendUid':_0x3f3dae[_0x3fc88e(0x1d0)],'reqTime':_0x3f3dae['reqTime'],'accept':_0x17d986});}}