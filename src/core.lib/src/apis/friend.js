const _0x1f2916=_0x5bd2;function _0x5dc8(){const _0x1bd62b=['delete','2WBvubs','addListener','12795GOOPSR','1466853pqpHog','12921759pjVeDd','HUIUN','618mEFOuw','friendUid','getFriends','1956878uxDBjN','5830344vwQjPO','获取好友列表超时','session','Zlqxk','push','uin','xGOYM','getBuddyList','onLoginSuccess','626394TbhEtD','uid','handleFriendRequest','4UoTktE','IhVPp','14629908WTNwxz','11RZWZqR','fsYQx','10cCCFeR','开始获取好友列表'];_0x5dc8=function(){return _0x1bd62b;};return _0x5dc8();}(function(_0x45c43c,_0xa4679b){const _0x4c354b=_0x5bd2,_0x96e01c=_0x45c43c();while(!![]){try{const _0x116a9a=-parseInt(_0x4c354b(0x77))/0x1*(parseInt(_0x4c354b(0x6c))/0x2)+parseInt(_0x4c354b(0x7a))/0x3*(parseInt(_0x4c354b(0x6f))/0x4)+parseInt(_0x4c354b(0x79))/0x5*(parseInt(_0x4c354b(0x7d))/0x6)+parseInt(_0x4c354b(0x80))/0x7+parseInt(_0x4c354b(0x81))/0x8+parseInt(_0x4c354b(0x7b))/0x9*(-parseInt(_0x4c354b(0x74))/0xa)+parseInt(_0x4c354b(0x72))/0xb*(parseInt(_0x4c354b(0x71))/0xc);if(_0x116a9a===_0xa4679b)break;else _0x96e01c['push'](_0x96e01c['shift']());}catch(_0x194857){_0x96e01c['push'](_0x96e01c['shift']());}}}(_0x5dc8,0xe0181));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';function _0x5bd2(_0x1e626b,_0x43538a){const _0x5dc8f4=_0x5dc8();return _0x5bd2=function(_0x5bd279,_0x47422d){_0x5bd279=_0x5bd279-0x67;let _0x47175b=_0x5dc8f4[_0x5bd279];return _0x47175b;},_0x5bd2(_0x1e626b,_0x43538a);}import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener['onBuddyListChange']=_0x582d3=>{const _0x591a14=_0x5bd2;for(const [_0x2c4f3e,_0x4dcbb9]of buddyChangeTasks){_0x4dcbb9(_0x582d3),buddyChangeTasks[_0x591a14(0x76)](_0x2c4f3e);}},setTimeout(()=>{const _0x33575d=_0x5bd2;napCatCore[_0x33575d(0x6b)](()=>{const _0x43d86c=_0x33575d;napCatCore[_0x43d86c(0x78)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x1f2916(0x7f)](_0xe641a6=![]){const _0x4b8f5b={'xGOYM':function(_0x245c1f,_0x5a6262){return _0x245c1f(_0x5a6262);},'ZjGgD':'获取好友列表超时','fsYQx':function(_0x2d3bb9,_0x276aae,_0x45c1e5){return _0x2d3bb9(_0x276aae,_0x45c1e5);},'Zlqxk':'获取好友列表完成','QwMva':function(_0x580075,_0x2e844c){return _0x580075(_0x2e844c);},'HUIUN':function(_0x3daa99){return _0x3daa99();}};return new Promise((_0x5305e0,_0x2588e3)=>{const _0x185d63=_0x5bd2,_0x398381={'IhVPp':function(_0x143476,_0x11fe90,_0x1a2cb5){return _0x4b8f5b['fsYQx'](_0x143476,_0x11fe90,_0x1a2cb5);},'VhUio':_0x4b8f5b[_0x185d63(0x84)],'dicdg':function(_0x51a20b,_0x58793c){return _0x4b8f5b['QwMva'](_0x51a20b,_0x58793c);}};let _0x5160a7=![];_0x4b8f5b[_0x185d63(0x73)](setTimeout,()=>{const _0x3fbe7b=_0x185d63;!_0x5160a7&&(_0x4b8f5b[_0x3fbe7b(0x69)](logDebug,_0x4b8f5b['ZjGgD']),_0x2588e3(_0x3fbe7b(0x82)));},0x1388);const _0x3bdb06=[],_0x5ccda0=_0x2ebed8=>{const _0x2965cf=_0x185d63;for(const _0x333ecd of _0x2ebed8){for(const _0xf2dc06 of _0x333ecd['buddyList']){_0x3bdb06[_0x2965cf(0x67)](_0xf2dc06),uid2UinMap[_0xf2dc06[_0x2965cf(0x6d)]]=_0xf2dc06[_0x2965cf(0x68)];}}_0x5160a7=!![],_0x398381[_0x2965cf(0x70)](logDebug,_0x398381['VhUio'],_0x3bdb06),_0x398381['dicdg'](_0x5305e0,_0x3bdb06);};buddyChangeTasks['set'](_0x4b8f5b[_0x185d63(0x7c)](randomUUID),_0x5ccda0),napCatCore[_0x185d63(0x83)]['getBuddyService']()[_0x185d63(0x6a)](_0xe641a6)['then'](_0x436504=>{const _0x383375=_0x185d63;logDebug(_0x383375(0x75),_0x436504);});});}static async[_0x1f2916(0x6e)](_0x3b2c9b,_0x1f82c1){const _0x34d560=_0x1f2916;napCatCore[_0x34d560(0x83)]['getBuddyService']()?.['approvalFriendRequest']({'friendUid':_0x3b2c9b[_0x34d560(0x7e)],'reqTime':_0x3b2c9b['reqTime'],'accept':_0x1f82c1});}}