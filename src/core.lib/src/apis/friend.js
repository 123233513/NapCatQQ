const _0x166616=_0x34fd;(function(_0x17e22e,_0x2b747a){const _0x282945=_0x34fd,_0x130943=_0x17e22e();while(!![]){try{const _0x416c79=parseInt(_0x282945(0x1e3))/0x1*(-parseInt(_0x282945(0x1d4))/0x2)+parseInt(_0x282945(0x1e4))/0x3*(-parseInt(_0x282945(0x1e8))/0x4)+parseInt(_0x282945(0x1d8))/0x5+parseInt(_0x282945(0x1e6))/0x6+-parseInt(_0x282945(0x1da))/0x7*(-parseInt(_0x282945(0x1dc))/0x8)+-parseInt(_0x282945(0x1ed))/0x9+-parseInt(_0x282945(0x1d9))/0xa*(-parseInt(_0x282945(0x1ef))/0xb);if(_0x416c79===_0x2b747a)break;else _0x130943['push'](_0x130943['shift']());}catch(_0x32172f){_0x130943['push'](_0x130943['shift']());}}}(_0x2b90,0xe1995));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';function _0x34fd(_0x1cabda,_0x1115f3){const _0x2b900c=_0x2b90();return _0x34fd=function(_0x34fd99,_0x47552e){_0x34fd99=_0x34fd99-0x1d3;let _0x36cf44=_0x2b900c[_0x34fd99];return _0x36cf44;},_0x34fd(_0x1cabda,_0x1115f3);}import{uid2UinMap}from'@/core/data';function _0x2b90(){const _0x2b970b=['uin','approvalFriendRequest','181591LlvHTf','3AlFVNv','addListener','2410536KoJQeI','INgyQ','7203568nMcBAx','BlZuS','getBuddyService','gEtnX','gOkwi','3687516tADKWQ','开始获取好友列表','3379563CbOqbg','push','buddyList','onBuddyListChange','iIgmN','获取好友列表超时','then','IIVXM','xoYsf','session','6oEUiDt','LVTqj','rOHaN','handleFriendRequest','6798775AeKItx','20SXwdVv','3605XHjtkv','EUJpm','20248PLjwAY','onLoginSuccess','获取好友列表完成','eNgnj','friendUid'];_0x2b90=function(){return _0x2b970b;};return _0x2b90();}import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x166616(0x1f2)]=_0x529704=>{const _0x151ee5=_0x166616,_0x27a879={'xoYsf':function(_0x123a49,_0x1403eb){return _0x123a49(_0x1403eb);}};for(const [_0x5c9fb8,_0x32636c]of buddyChangeTasks){_0x27a879[_0x151ee5(0x1f7)](_0x32636c,_0x529704),buddyChangeTasks['delete'](_0x5c9fb8);}},setTimeout(()=>{const _0x40a377=_0x166616;napCatCore[_0x40a377(0x1dd)](()=>{const _0x5c99f9=_0x40a377;napCatCore[_0x5c99f9(0x1e5)](buddyListener);});},0x64);export class NTQQFriendApi{static async['getFriends'](_0x57ecd4=![]){const _0x4577a9=_0x166616,_0x5669ac={'gEtnX':function(_0x455f8e,_0xdec5e8){return _0x455f8e(_0xdec5e8);},'INgyQ':_0x4577a9(0x1f4),'BlZuS':function(_0x4af5c2,_0x27a35b,_0x192bb2){return _0x4af5c2(_0x27a35b,_0x192bb2);},'IIVXM':_0x4577a9(0x1ee),'rOHaN':function(_0x185a6d){return _0x185a6d();}};return new Promise((_0x451fe2,_0x13613f)=>{const _0x41cdd2=_0x4577a9,_0x36112b={'EUJpm':function(_0x3bcab7,_0x37373a){const _0x71259b=_0x34fd;return _0x5669ac[_0x71259b(0x1eb)](_0x3bcab7,_0x37373a);},'LVTqj':_0x5669ac[_0x41cdd2(0x1e7)],'eNgnj':function(_0x4ea5b0,_0x2a192c){const _0x4eab0f=_0x41cdd2;return _0x5669ac[_0x4eab0f(0x1eb)](_0x4ea5b0,_0x2a192c);},'gOkwi':function(_0x47a1b9,_0x7f3a88,_0x30b0f0){const _0x4b5b67=_0x41cdd2;return _0x5669ac[_0x4b5b67(0x1e9)](_0x47a1b9,_0x7f3a88,_0x30b0f0);},'iIgmN':_0x5669ac[_0x41cdd2(0x1f6)]};let _0xe4bdea=![];setTimeout(()=>{const _0x415b51=_0x41cdd2;!_0xe4bdea&&(_0x36112b[_0x415b51(0x1db)](logDebug,_0x36112b[_0x415b51(0x1d5)]),_0x13613f(_0x36112b[_0x415b51(0x1d5)]));},0x1388);const _0x568203=[],_0x2300d4=_0x2a0db9=>{const _0x524061=_0x41cdd2;for(const _0xd8267a of _0x2a0db9){for(const _0xc88a5 of _0xd8267a[_0x524061(0x1f1)]){_0x568203[_0x524061(0x1f0)](_0xc88a5),uid2UinMap[_0xc88a5['uid']]=_0xc88a5[_0x524061(0x1e1)];}}_0xe4bdea=!![],logDebug(_0x524061(0x1de),_0x568203),_0x36112b[_0x524061(0x1df)](_0x451fe2,_0x568203);};buddyChangeTasks['set'](_0x5669ac[_0x41cdd2(0x1d6)](randomUUID),_0x2300d4),napCatCore['session'][_0x41cdd2(0x1ea)]()['getBuddyList'](_0x57ecd4)[_0x41cdd2(0x1f5)](_0x41f29c=>{const _0x531ddb=_0x41cdd2;_0x36112b[_0x531ddb(0x1ec)](logDebug,_0x36112b[_0x531ddb(0x1f3)],_0x41f29c);});});}static async[_0x166616(0x1d7)](_0x5ec69b,_0x2d47b0){const _0x208d13=_0x166616;napCatCore[_0x208d13(0x1d3)]['getBuddyService']()?.[_0x208d13(0x1e2)]({'friendUid':_0x5ec69b[_0x208d13(0x1e0)],'reqTime':_0x5ec69b['reqTime'],'accept':_0x2d47b0});}}