const _0x13555a=_0x18d0;(function(_0x5a7cec,_0x436e6a){const _0x4c4d2f=_0x18d0,_0x203d72=_0x5a7cec();while(!![]){try{const _0x53cf84=parseInt(_0x4c4d2f(0x16d))/0x1*(-parseInt(_0x4c4d2f(0x165))/0x2)+parseInt(_0x4c4d2f(0x16e))/0x3+parseInt(_0x4c4d2f(0x175))/0x4+parseInt(_0x4c4d2f(0x16c))/0x5+parseInt(_0x4c4d2f(0x169))/0x6*(parseInt(_0x4c4d2f(0x173))/0x7)+-parseInt(_0x4c4d2f(0x17b))/0x8*(parseInt(_0x4c4d2f(0x170))/0x9)+parseInt(_0x4c4d2f(0x166))/0xa*(parseInt(_0x4c4d2f(0x17c))/0xb);if(_0x53cf84===_0x436e6a)break;else _0x203d72['push'](_0x203d72['shift']());}catch(_0x23de83){_0x203d72['push'](_0x203d72['shift']());}}}(_0x5938,0x2ab50));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';function _0x5938(){const _0x484bf8=['131600yhscRz','89KiIaqs','734910nSoapk','then','3034467zKNIXz','uid','addListener','259HPHVvl','getBuddyService','67232KavGAz','onBuddyListChange','onLoginSuccess','获取好友列表超时','friendUid','auWYy','8RfArkA','519431xJpjhB','delete','set','jhxGV','EImle','开始获取好友列表','获取好友列表完成','pZPLu','1874hBtrCn','30WvNjkl','reqTime','qLHdI','26874zswBni','push','approvalFriendRequest'];_0x5938=function(){return _0x484bf8;};return _0x5938();}function _0x18d0(_0x4e6731,_0x11d026){const _0x593846=_0x5938();return _0x18d0=function(_0x18d0cd,_0x418cc4){_0x18d0cd=_0x18d0cd-0x15e;let _0x53f0ee=_0x593846[_0x18d0cd];return _0x53f0ee;},_0x18d0(_0x4e6731,_0x11d026);}import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x13555a(0x176)]=_0x5982db=>{const _0x37b045=_0x13555a;for(const [_0x59eea9,_0x10dd2a]of buddyChangeTasks){_0x10dd2a(_0x5982db),buddyChangeTasks[_0x37b045(0x15e)](_0x59eea9);}},setTimeout(()=>{const _0x57b373=_0x13555a;napCatCore[_0x57b373(0x177)](()=>{const _0x4f8c79=_0x57b373;napCatCore[_0x4f8c79(0x172)](buddyListener);});},0x64);export class NTQQFriendApi{static async['getFriends'](_0x2976ef=![]){const _0x329656=_0x13555a,_0x1a4267={'auWYy':_0x329656(0x178),'jhxGV':function(_0x3c2f97,_0x127773){return _0x3c2f97(_0x127773);},'pZPLu':function(_0x52940e,_0x4427df,_0x3d83ce){return _0x52940e(_0x4427df,_0x3d83ce);},'qLHdI':_0x329656(0x163),'EImle':function(_0x2181c8){return _0x2181c8();}};return new Promise((_0x256904,_0x21b8f3)=>{const _0x3b8b42=_0x329656;let _0x1b7d2e=![];_0x1a4267['pZPLu'](setTimeout,()=>{const _0x5d1bca=_0x18d0;!_0x1b7d2e&&(logDebug(_0x1a4267[_0x5d1bca(0x17a)]),_0x1a4267[_0x5d1bca(0x160)](_0x21b8f3,_0x1a4267[_0x5d1bca(0x17a)]));},0x1388);const _0x1c95b9=[],_0x54d742=_0x50643f=>{const _0x5ae92e=_0x18d0;for(const _0x27db37 of _0x50643f){for(const _0x84219e of _0x27db37['buddyList']){_0x1c95b9[_0x5ae92e(0x16a)](_0x84219e),uid2UinMap[_0x84219e[_0x5ae92e(0x171)]]=_0x84219e['uin'];}}_0x1b7d2e=!![],_0x1a4267[_0x5ae92e(0x164)](logDebug,_0x1a4267[_0x5ae92e(0x168)],_0x1c95b9),_0x256904(_0x1c95b9);};buddyChangeTasks[_0x3b8b42(0x15f)](_0x1a4267[_0x3b8b42(0x161)](randomUUID),_0x54d742),napCatCore['session'][_0x3b8b42(0x174)]()['getBuddyList'](_0x2976ef)[_0x3b8b42(0x16f)](_0x19e13e=>{const _0x31e881=_0x3b8b42;_0x1a4267[_0x31e881(0x164)](logDebug,_0x31e881(0x162),_0x19e13e);});});}static async['handleFriendRequest'](_0x5b9234,_0x35a9ae){const _0x363652=_0x13555a;napCatCore['session'][_0x363652(0x174)]()?.[_0x363652(0x16b)]({'friendUid':_0x5b9234[_0x363652(0x179)],'reqTime':_0x5b9234[_0x363652(0x167)],'accept':_0x35a9ae});}}