const _0x47c820=_0x231c;function _0x370e(){const _0x388a95=['handleFriendRequest','getBuddyList','获取好友列表超时','获取好友列表完成','push','4805EIQCMI','uin','uid','62122JJbOer','41544KqIGZm','set','session','7822664LlMCkp','9010csqOHa','onLoginSuccess','addListener','开始获取好友列表','niJjV','buddyList','JIqOP','QaUXs','HonIN','1617175JonhqE','gWRWI','delete','1884TFLMPj','friendUid','DIdgi','1145591YBfBOp','onBuddyListChange','yuzed','6948888EaRNAB','93sTllyd','BmhMQ','getBuddyService','reqTime','getFriends'];_0x370e=function(){return _0x388a95;};return _0x370e();}function _0x231c(_0x27518c,_0x28ab3b){const _0x370e80=_0x370e();return _0x231c=function(_0x231cd1,_0x1e3d25){_0x231cd1=_0x231cd1-0xdc;let _0x1d8adc=_0x370e80[_0x231cd1];return _0x1d8adc;},_0x231c(_0x27518c,_0x28ab3b);}(function(_0x1b3b3b,_0x38b417){const _0x5950c3=_0x231c,_0x5be665=_0x1b3b3b();while(!![]){try{const _0x37ef65=-parseInt(_0x5950c3(0xee))/0x1+-parseInt(_0x5950c3(0xff))/0x2*(parseInt(_0x5950c3(0xf2))/0x3)+parseInt(_0x5950c3(0xeb))/0x4*(parseInt(_0x5950c3(0xfc))/0x5)+-parseInt(_0x5950c3(0xf1))/0x6+parseInt(_0x5950c3(0xe8))/0x7+-parseInt(_0x5950c3(0xde))/0x8+parseInt(_0x5950c3(0x100))/0x9*(parseInt(_0x5950c3(0xdf))/0xa);if(_0x37ef65===_0x38b417)break;else _0x5be665['push'](_0x5be665['shift']());}catch(_0x43675b){_0x5be665['push'](_0x5be665['shift']());}}}(_0x370e,0x920c1));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x47c820(0xef)]=_0x1a011c=>{const _0x28b3ad=_0x47c820,_0x3490bc={'DIdgi':function(_0x54e842,_0xd42fb0){return _0x54e842(_0xd42fb0);}};for(const [_0x246d2d,_0x49b247]of buddyChangeTasks){_0x3490bc[_0x28b3ad(0xed)](_0x49b247,_0x1a011c),buddyChangeTasks[_0x28b3ad(0xea)](_0x246d2d);}},setTimeout(()=>{const _0x370c74=_0x47c820;napCatCore[_0x370c74(0xe0)](()=>{const _0x41cfce=_0x370c74;napCatCore[_0x41cfce(0xe1)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x47c820(0xf6)](_0x4b8dd4=![]){const _0xceddb=_0x47c820,_0x36ff4f={'yuzed':function(_0x4b7deb,_0x35f2e8){return _0x4b7deb(_0x35f2e8);},'gWRWI':_0xceddb(0xf9),'niJjV':function(_0x25053b,_0x4ffe0c,_0x394a5e){return _0x25053b(_0x4ffe0c,_0x394a5e);},'JIqOP':_0xceddb(0xfa),'BmhMQ':function(_0x1d3946){return _0x1d3946();}};return new Promise((_0x5d43cc,_0x12829f)=>{const _0x4d869b=_0xceddb,_0xa03459={'QaUXs':function(_0x20e8ed,_0x5e4bfc){const _0x1cd043=_0x231c;return _0x36ff4f[_0x1cd043(0xf0)](_0x20e8ed,_0x5e4bfc);},'uMDCm':_0x36ff4f[_0x4d869b(0xe9)],'HonIN':function(_0x2b5fc8,_0x1c82e9,_0x46881c){const _0x5b7882=_0x4d869b;return _0x36ff4f[_0x5b7882(0xe3)](_0x2b5fc8,_0x1c82e9,_0x46881c);},'fKMFP':_0x36ff4f[_0x4d869b(0xe5)],'FenPS':_0x4d869b(0xe2)};let _0x4df0ab=![];setTimeout(()=>{const _0x12475d=_0x4d869b;!_0x4df0ab&&(_0xa03459[_0x12475d(0xe6)](logDebug,_0xa03459['uMDCm']),_0xa03459['QaUXs'](_0x12829f,_0x12475d(0xf9)));},0x1388);const _0x35d8b6=[],_0x2a9f24=_0x406d4a=>{const _0x307e0b=_0x4d869b;for(const _0x302e81 of _0x406d4a){for(const _0x6a6afb of _0x302e81[_0x307e0b(0xe4)]){_0x35d8b6[_0x307e0b(0xfb)](_0x6a6afb),uid2UinMap[_0x6a6afb[_0x307e0b(0xfe)]]=_0x6a6afb[_0x307e0b(0xfd)];}}_0x4df0ab=!![],_0xa03459[_0x307e0b(0xe7)](logDebug,_0xa03459['fKMFP'],_0x35d8b6),_0x5d43cc(_0x35d8b6);};buddyChangeTasks[_0x4d869b(0xdc)](_0x36ff4f[_0x4d869b(0xf3)](randomUUID),_0x2a9f24),napCatCore[_0x4d869b(0xdd)][_0x4d869b(0xf4)]()[_0x4d869b(0xf8)](_0x4b8dd4)['then'](_0x59b0ad=>{const _0x378d4d=_0x4d869b;_0xa03459[_0x378d4d(0xe7)](logDebug,_0xa03459['FenPS'],_0x59b0ad);});});}static async[_0x47c820(0xf7)](_0x38787a,_0x92fc1a){const _0x1d5701=_0x47c820;napCatCore[_0x1d5701(0xdd)]['getBuddyService']()?.['approvalFriendRequest']({'friendUid':_0x38787a[_0x1d5701(0xec)],'reqTime':_0x38787a[_0x1d5701(0xf5)],'accept':_0x92fc1a});}}