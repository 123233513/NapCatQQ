function _0x19dd(){const _0x5cb4a1=['PZYSb','4954257HDltXp','45814mfnflY','22hiijAd','eMhlR','session','delete','getFriends','71210xUSina','hJBiG','开始获取好友列表','friendUid','getBuddyService','37952neapDl','获取好友列表超时','qcosv','handleFriendRequest','ZlbWc','161220xoaOjK','reqTime','push','8773812NYoOqX','2421zkcAxQ','addListener','nCDlk','approvalFriendRequest','获取好友列表完成','817705QiYElK','uin','onLoginSuccess','84fhizlR','getBuddyList','12KdFTkB'];_0x19dd=function(){return _0x5cb4a1;};return _0x19dd();}const _0x30356a=_0x44ae;function _0x44ae(_0x59b3cc,_0x7e982f){const _0x19ddc8=_0x19dd();return _0x44ae=function(_0x44ae8e,_0x4e3547){_0x44ae8e=_0x44ae8e-0x7d;let _0x3d1235=_0x19ddc8[_0x44ae8e];return _0x3d1235;},_0x44ae(_0x59b3cc,_0x7e982f);}(function(_0x7f3a03,_0x4e2c56){const _0x56335e=_0x44ae,_0x4ec436=_0x7f3a03();while(!![]){try{const _0x4b7435=-parseInt(_0x56335e(0x8d))/0x1*(parseInt(_0x56335e(0x8a))/0x2)+-parseInt(_0x56335e(0x88))/0x3*(parseInt(_0x56335e(0x9d))/0x4)+parseInt(_0x56335e(0x85))/0x5+parseInt(_0x56335e(0x7f))/0x6+-parseInt(_0x56335e(0x8c))/0x7+parseInt(_0x56335e(0x98))/0x8*(parseInt(_0x56335e(0x80))/0x9)+-parseInt(_0x56335e(0x93))/0xa*(-parseInt(_0x56335e(0x8e))/0xb);if(_0x4b7435===_0x4e2c56)break;else _0x4ec436['push'](_0x4ec436['shift']());}catch(_0x597d16){_0x4ec436['push'](_0x4ec436['shift']());}}}(_0x19dd,0xc48b6));import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener['onBuddyListChange']=_0xa8a39f=>{const _0x2d7614=_0x44ae,_0xe3a0b8={'ZlbWc':function(_0x104a68,_0x43d2de){return _0x104a68(_0x43d2de);}};for(const [_0x1f4f68,_0x57987c]of buddyChangeTasks){_0xe3a0b8[_0x2d7614(0x9c)](_0x57987c,_0xa8a39f),buddyChangeTasks[_0x2d7614(0x91)](_0x1f4f68);}},setTimeout(()=>{const _0x247afb=_0x44ae;napCatCore[_0x247afb(0x87)](()=>{const _0x8f0993=_0x247afb;napCatCore[_0x8f0993(0x81)](buddyListener);});},0x64);export class NTQQFriendApi{static async[_0x30356a(0x92)](_0x2dc4e6=![]){const _0x1ad07b=_0x30356a,_0x474fe6={'PZYSb':function(_0x44045e,_0x813979){return _0x44045e(_0x813979);},'hJBiG':_0x1ad07b(0x99),'qcosv':function(_0x12d5b7,_0x5c1831,_0x23fc58){return _0x12d5b7(_0x5c1831,_0x23fc58);},'WoPgQ':_0x1ad07b(0x84),'nCDlk':function(_0x483ce9,_0x44147d,_0xf43018){return _0x483ce9(_0x44147d,_0xf43018);},'RHyUc':_0x1ad07b(0x95),'eMhlR':function(_0x4952c8,_0x32c7e9,_0x47e0e4){return _0x4952c8(_0x32c7e9,_0x47e0e4);},'RArNn':function(_0x34aae7){return _0x34aae7();}};return new Promise((_0x575ef7,_0x4dc280)=>{const _0x1f736a=_0x1ad07b;let _0xe7a1e6=![];_0x474fe6[_0x1f736a(0x8f)](setTimeout,()=>{const _0x4b106c=_0x1f736a;!_0xe7a1e6&&(_0x474fe6[_0x4b106c(0x8b)](logDebug,_0x474fe6['hJBiG']),_0x474fe6['PZYSb'](_0x4dc280,_0x474fe6[_0x4b106c(0x94)]));},0x1388);const _0x4e024e=[],_0xa734f=_0x5059c6=>{const _0x2ac60e=_0x1f736a;for(const _0x547dc5 of _0x5059c6){for(const _0xa210a6 of _0x547dc5['buddyList']){_0x4e024e[_0x2ac60e(0x7e)](_0xa210a6),uid2UinMap[_0xa210a6['uid']]=_0xa210a6[_0x2ac60e(0x86)];}}_0xe7a1e6=!![],_0x474fe6[_0x2ac60e(0x9a)](logDebug,_0x474fe6['WoPgQ'],_0x4e024e),_0x575ef7(_0x4e024e);};buddyChangeTasks['set'](_0x474fe6['RArNn'](randomUUID),_0xa734f),napCatCore[_0x1f736a(0x90)][_0x1f736a(0x97)]()[_0x1f736a(0x89)](_0x2dc4e6)['then'](_0x4ab11c=>{const _0x4022b1=_0x1f736a;_0x474fe6[_0x4022b1(0x82)](logDebug,_0x474fe6['RHyUc'],_0x4ab11c);});});}static async[_0x30356a(0x9b)](_0x2c2cba,_0x182660){const _0x4ac2bb=_0x30356a;napCatCore['session']['getBuddyService']()?.[_0x4ac2bb(0x83)]({'friendUid':_0x2c2cba[_0x4ac2bb(0x96)],'reqTime':_0x2c2cba[_0x4ac2bb(0x7d)],'accept':_0x182660});}}