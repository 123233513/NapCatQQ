const _0x59e920=_0x28fc;(function(_0xe0d99a,_0x4fab73){const _0x3494ec=_0x28fc,_0x697d4c=_0xe0d99a();while(!![]){try{const _0x245f09=parseInt(_0x3494ec(0x198))/0x1*(-parseInt(_0x3494ec(0x1ac))/0x2)+parseInt(_0x3494ec(0x1b2))/0x3*(-parseInt(_0x3494ec(0x199))/0x4)+-parseInt(_0x3494ec(0x1a1))/0x5*(-parseInt(_0x3494ec(0x19c))/0x6)+parseInt(_0x3494ec(0x1ad))/0x7+-parseInt(_0x3494ec(0x1aa))/0x8*(parseInt(_0x3494ec(0x19b))/0x9)+-parseInt(_0x3494ec(0x1a2))/0xa+parseInt(_0x3494ec(0x1b4))/0xb*(parseInt(_0x3494ec(0x19e))/0xc);if(_0x245f09===_0x4fab73)break;else _0x697d4c['push'](_0x697d4c['shift']());}catch(_0x2adc8b){_0x697d4c['push'](_0x697d4c['shift']());}}}(_0x1b7d,0x88c2d));function _0x1b7d(){const _0x3e2425=['then','95944zBWxtm','23228uhGwME','reqTime','3291633Nlipbu','60lKXByF','handleFriendRequest','12XREpgs','bJQkt','getFriends','458405sZUsrf','8604900WWcfOF','获取好友列表完成','hLGoS','addListener','onLoginSuccess','uin','uid','getBuddyService','16qjijBc','friendUid','14UAgZDe','6952988OBTfna','approvalFriendRequest','获取好友列表超时','onBuddyListChange','tyUEb','111ZgsBGB','set','12413610IemyLV','session','sVYcn'];_0x1b7d=function(){return _0x3e2425;};return _0x1b7d();}import{BuddyListener,napCatCore}from'@/core';import{logDebug}from'@/common/utils/log';import{uid2UinMap}from'@/core/data';import{randomUUID}from'crypto';const buddyChangeTasks=new Map(),buddyListener=new BuddyListener();buddyListener[_0x59e920(0x1b0)]=_0xa3729d=>{const _0x3d1c76=_0x59e920,_0x1d7651={'sVYcn':function(_0x581cfc,_0x4f13b8){return _0x581cfc(_0x4f13b8);}};for(const [_0x1ecadf,_0x3310a4]of buddyChangeTasks){_0x1d7651[_0x3d1c76(0x196)](_0x3310a4,_0xa3729d),buddyChangeTasks['delete'](_0x1ecadf);}},setTimeout(()=>{const _0x382bae=_0x59e920;napCatCore[_0x382bae(0x1a6)](()=>{const _0x1304f0=_0x382bae;napCatCore[_0x1304f0(0x1a5)](buddyListener);});},0x64);function _0x28fc(_0x2816d9,_0x1282b2){const _0x1b7d23=_0x1b7d();return _0x28fc=function(_0x28fc96,_0x4b4beb){_0x28fc96=_0x28fc96-0x196;let _0x8c83d2=_0x1b7d23[_0x28fc96];return _0x8c83d2;},_0x28fc(_0x2816d9,_0x1282b2);}export class NTQQFriendApi{static async[_0x59e920(0x1a0)](_0x31721f=![]){const _0x1da6ce=_0x59e920,_0x526e61={'tyUEb':function(_0x33b377,_0x1773f0){return _0x33b377(_0x1773f0);},'hLGoS':_0x1da6ce(0x1af),'zHcqw':function(_0xfa25a0,_0x5186c5,_0x1d641a){return _0xfa25a0(_0x5186c5,_0x1d641a);},'RmPan':_0x1da6ce(0x1a3),'bJQkt':function(_0x55b95b,_0x3c8392){return _0x55b95b(_0x3c8392);},'ubNed':function(_0x211300,_0xf69eab,_0x47a056){return _0x211300(_0xf69eab,_0x47a056);}};return new Promise((_0x1cf5fc,_0xe22bfa)=>{const _0x337cd2=_0x1da6ce;let _0x1bc050=![];_0x526e61['ubNed'](setTimeout,()=>{const _0x5ca5ed=_0x28fc;!_0x1bc050&&(_0x526e61[_0x5ca5ed(0x1b1)](logDebug,_0x526e61[_0x5ca5ed(0x1a4)]),_0xe22bfa(_0x526e61[_0x5ca5ed(0x1a4)]));},0x1388);const _0x149ec0=[],_0x558457=_0xfa0186=>{const _0x1dbdbc=_0x28fc;for(const _0x2c989e of _0xfa0186){for(const _0x147f3e of _0x2c989e['buddyList']){_0x149ec0['push'](_0x147f3e),uid2UinMap[_0x147f3e[_0x1dbdbc(0x1a8)]]=_0x147f3e[_0x1dbdbc(0x1a7)];}}_0x1bc050=!![],_0x526e61['zHcqw'](logDebug,_0x526e61['RmPan'],_0x149ec0),_0x526e61[_0x1dbdbc(0x19f)](_0x1cf5fc,_0x149ec0);};buddyChangeTasks[_0x337cd2(0x1b3)](randomUUID(),_0x558457),napCatCore[_0x337cd2(0x1b5)]['getBuddyService']()['getBuddyList'](_0x31721f)[_0x337cd2(0x197)](_0xfdbb59=>{logDebug('开始获取好友列表',_0xfdbb59);});});}static async[_0x59e920(0x19d)](_0x47f9a5,_0x2c9786){const _0x21a128=_0x59e920;napCatCore[_0x21a128(0x1b5)][_0x21a128(0x1a9)]()?.[_0x21a128(0x1ae)]({'friendUid':_0x47f9a5[_0x21a128(0x1ab)],'reqTime':_0x47f9a5[_0x21a128(0x19a)],'accept':_0x2c9786});}}