function _0x12f5(){const _0x58c0d6=['8pVApuH','getSelfInfo','uin','BviaD','rrlat','fromEntries','then','IfmHz','addListener','QuXnd','rKaKK','hOqNK','请求获取Skey时失败','keyIndex','318180qARfVQ','skey','getPSkey','get','CreatTime','getSkey','getPskey','30syjANy','825975ZyUWIm','getTicketService','getRobotUinRange','push','setStatus','setQQAvatar','bNuKJ','assign','THBxV','getUserDetailInfo\x20timeout','PskeyData','361827Muuwji','getProfileLikeService','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','uVEhm','getUserDetailInfo','response','176XzkCcW','setHeader','session','AaBWH','getTipOffService','12OUlAHo','sCkFP','2276085oaiQSv','MtELk','errMsg','1463ebDufK','set','3234616nTsOsx','Skey','HttpsGetCookies','1018lbweZo','clientKey','result','now','length','RciqI','1628949WGpZIO','robotUinRanges','PskeyTime','getProfileService','uid','AUkCw','HPpNP','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','UBqkM','domainPskeyMap','setSelfOnlineStatus'];_0x12f5=function(){return _0x58c0d6;};return _0x12f5();}const _0x1a662b=_0x31a9;(function(_0x4ac19b,_0x28609c){const _0xcd7bf5=_0x31a9,_0x44f490=_0x4ac19b();while(!![]){try{const _0x585c47=-parseInt(_0xcd7bf5(0xc9))/0x1*(parseInt(_0xcd7bf5(0xce))/0x2)+parseInt(_0xcd7bf5(0xf5))/0x3*(parseInt(_0xcd7bf5(0xdf))/0x4)+parseInt(_0xcd7bf5(0x10d))/0x5+-parseInt(_0xcd7bf5(0x10b))/0x6*(parseInt(_0xcd7bf5(0xd4))/0x7)+parseInt(_0xcd7bf5(0xcb))/0x8+-parseInt(_0xcd7bf5(0x100))/0x9*(parseInt(_0xcd7bf5(0xf4))/0xa)+parseInt(_0xcd7bf5(0x106))/0xb*(parseInt(_0xcd7bf5(0xed))/0xc);if(_0x585c47===_0x28609c)break;else _0x44f490['push'](_0x44f490['shift']());}catch(_0x31086f){_0x44f490['push'](_0x44f490['shift']());}}}(_0x12f5,0x7afc0));import{Credentials,selfInfo,uid2UinMap}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x31a9(_0x4b1799,_0x1a6c9b){const _0x12f598=_0x12f5();return _0x31a9=function(_0x31a9dd,_0x37ea6c){_0x31a9dd=_0x31a9dd-0xc7;let _0x23af02=_0x12f598[_0x31a9dd];return _0x23af02;},_0x31a9(_0x4b1799,_0x1a6c9b);}import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener['onProfileDetailInfoChanged']=_0x8726b4=>{const _0x2175ff=_0x31a9;userInfoCache[_0x8726b4[_0x2175ff(0xd8)]]=_0x8726b4,userDetailHandlers['forEach'](_0x43ff89=>_0x43ff89(_0x8726b4));},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x212ebf=_0x31a9;napCatCore[_0x212ebf(0xe7)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x1a662b(0xde)](_0x12452f,_0x399d1d,_0x334647){const _0x22a3d3=_0x1a662b;return napCatCore[_0x22a3d3(0x108)]['getMsgService']()[_0x22a3d3(0xf9)]({'status':_0x12452f,'extStatus':_0x399d1d,'batteryStatus':_0x334647});}static async['like'](_0x4435aa,_0x113bda=0x1){const _0x2e422e=_0x1a662b;return napCatCore[_0x2e422e(0x108)][_0x2e422e(0x101)]()['setBuddyProfileLike']({'friendUid':_0x4435aa,'sourceId':0x47,'doLikeCount':_0x113bda,'doLikeTollCount':0x0});}static async[_0x1a662b(0xfa)](_0x488219){const _0x2d953e=_0x1a662b,_0x4aeb1d=napCatCore['session'][_0x2d953e(0xd7)]()[_0x2d953e(0x107)](_0x488219);return{'result':_0x4aeb1d?.[_0x2d953e(0xd0)],'errMsg':_0x4aeb1d?.[_0x2d953e(0xc8)]};}static async[_0x1a662b(0xe0)](){}static async['getUserInfo'](_0x2e6776){}static async[_0x1a662b(0x104)](_0x315445){const _0x15aee2=_0x1a662b,_0xcf1f1d={'oRNNj':function(_0x4927c2,_0x1d5b88){return _0x4927c2(_0x1d5b88);},'HPpNP':_0x15aee2(0xfe),'RciqI':function(_0x599a76,_0x1574cd){return _0x599a76===_0x1574cd;},'hOqNK':function(_0x4e6a28,_0x9d4b55){return _0x4e6a28(_0x9d4b55);},'rKaKK':function(_0x3b7f35,_0x19a19d,_0x1ed798){return _0x3b7f35(_0x19a19d,_0x1ed798);}},_0x5d9136=napCatCore[_0x15aee2(0x108)][_0x15aee2(0xd7)]();return new Promise((_0x24d7f7,_0x18396f)=>{const _0xfcd87c=_0x15aee2,_0x1258c8=randomUUID();let _0x4a0022=![];_0xcf1f1d[_0xfcd87c(0xe9)](setTimeout,()=>{const _0x15867=_0xfcd87c;!_0x4a0022&&_0xcf1f1d['oRNNj'](_0x18396f,_0xcf1f1d[_0x15867(0xda)]);},0x1388),userDetailHandlers[_0xfcd87c(0xca)](_0x1258c8,_0x3ec37c=>{const _0x58e30a=_0xfcd87c;_0xcf1f1d[_0x58e30a(0xd3)](_0x3ec37c['uid'],_0x315445)&&(_0x4a0022=!![],userDetailHandlers['delete'](_0x1258c8),uid2UinMap[_0x315445]=_0x3ec37c[_0x58e30a(0xe1)],_0xcf1f1d[_0x58e30a(0xea)](_0x24d7f7,_0x3ec37c));}),_0x5d9136['getUserDetailInfoWithBizInfo'](_0x315445,[0x0])[_0xfcd87c(0xe5)](_0x431809=>{});});}static async[_0x1a662b(0xef)](_0x542321,_0x40bb91=!![]){const _0x5683a3=_0x1a662b,_0x1dc861={'rrlat':function(_0x48cd70,_0x4092cf){return _0x48cd70||_0x4092cf;},'MtELk':function(_0x50cb93,_0x141bd5){return _0x50cb93>_0x141bd5;},'bNuKJ':function(_0x3fc626,_0x6e36b1){return _0x3fc626*_0x6e36b1;},'QuXnd':function(_0x5cf7d3,_0x1c1be7){return _0x5cf7d3===_0x1c1be7;},'IfmHz':function(_0x2d8e05,_0x2e8a04,_0x483190){return _0x2d8e05(_0x2e8a04,_0x483190);},'sZMrV':'获取Pskey失败'},_0x69a630=[],_0x408a8d={};for(const _0x5a922a in _0x542321){const _0x2938cb=Credentials[_0x5683a3(0xff)][_0x5683a3(0xf0)](_0x542321[_0x5a922a]),_0x2c4823=Credentials[_0x5683a3(0xd6)][_0x5683a3(0xf0)](_0x542321[_0x5a922a]);_0x1dc861[_0x5683a3(0xe3)](!_0x2938cb,!_0x2c4823)||_0x1dc861[_0x5683a3(0xc7)](Date['now']()-_0x2c4823,_0x1dc861[_0x5683a3(0xfb)](0x708,0x3e8))||!_0x40bb91?_0x69a630[_0x5683a3(0xf8)](_0x542321[_0x5a922a]):_0x408a8d[_0x542321[_0x5a922a]]=_0x2938cb;}let _0x43749b={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x1dc861['MtELk'](_0x69a630[_0x5683a3(0xd2)],0x0)&&(_0x43749b=await napCatCore['session'][_0x5683a3(0x10a)]()[_0x5683a3(0xf3)](_0x69a630,!![]));const _0x187dff=_0x43749b[_0x5683a3(0xdd)];for(const _0x3be8dd of _0x187dff['entries']()){Credentials[_0x5683a3(0xff)]['set'](_0x3be8dd[0x0],_0x3be8dd[0x1]),Credentials[_0x5683a3(0xd6)][_0x5683a3(0xca)](_0x3be8dd[0x0],Date[_0x5683a3(0xd1)]());}const _0xd3245a=Object[_0x5683a3(0xfc)](Object[_0x5683a3(0xe4)](_0x187dff),_0x408a8d);if(_0x1dc861[_0x5683a3(0xe8)](_0x43749b[_0x5683a3(0xd0)],0x0))return _0xd3245a;else _0x1dc861[_0x5683a3(0xe6)](logError,_0x1dc861['sZMrV'],_0x43749b['errMsg']);return{};}static async[_0x1a662b(0xf7)](){const _0x56fc6e=_0x1a662b,_0x4328ef=await napCatCore[_0x56fc6e(0x108)]['getRobotService']()[_0x56fc6e(0xf7)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x4328ef?.[_0x56fc6e(0x105)]?.[_0x56fc6e(0xd5)];}static async[_0x1a662b(0xf2)](_0x3eb135=!![]){const _0x21d057=_0x1a662b,_0x4416c6={'KpzSP':function(_0x88b3b0,_0x928dac){return _0x88b3b0==_0x928dac;},'dafeG':function(_0x581ecf,_0x4af6ec){return _0x581ecf-_0x4af6ec;},'BviaD':function(_0x2a751d,_0x30a07a){return _0x2a751d!==_0x30a07a;},'AaBWH':function(_0xe7ec4,_0x3d76a5){return _0xe7ec4+_0x3d76a5;},'UBqkM':function(_0x1f0eec,_0x3ad4fe){return _0x1f0eec+_0x3ad4fe;},'AUkCw':function(_0x39467b,_0x2a3965){return _0x39467b+_0x2a3965;},'sCkFP':_0x21d057(0x102),'uVEhm':function(_0x5ceda3,_0x32f59c,_0x22c901){return _0x5ceda3(_0x32f59c,_0x22c901);},'CYecL':_0x21d057(0xeb),'THBxV':_0x21d057(0xee)};try{if(_0x4416c6['KpzSP'](Credentials[_0x21d057(0xf1)],0x0)||_0x4416c6['dafeG'](Date[_0x21d057(0xd1)](),Credentials[_0x21d057(0xf1)])>0x3e8*0xe10||!_0x3eb135){const _0x4a899f=await napCatCore[_0x21d057(0x108)][_0x21d057(0xf6)]()['forceFetchClientKey']('');if(_0x4416c6[_0x21d057(0xe2)](_0x4a899f[_0x21d057(0xd0)],0x0))return'';const _0x38dcdd=_0x4a899f[_0x21d057(0xcf)],_0x48d470=_0x4a899f[_0x21d057(0xec)],_0x1b48b4=_0x4416c6['AaBWH'](_0x4416c6[_0x21d057(0x109)](_0x4416c6[_0x21d057(0xdc)](_0x4416c6[_0x21d057(0xd9)](_0x21d057(0xdb),selfInfo['uin']),'&clientkey='),_0x38dcdd),_0x4416c6[_0x21d057(0x10c)])+_0x48d470;let _0x418e04;try{_0x418e04=await RequestUtil[_0x21d057(0xcd)](_0x1b48b4);}catch(_0x133f86){_0x4416c6[_0x21d057(0x103)](logDebug,_0x4416c6['CYecL'],_0x133f86),_0x418e04=new Map();}const _0x59721a=_0x418e04[_0x21d057(0xf0)](_0x4416c6[_0x21d057(0xfd)]);if(!_0x59721a)return'';return Credentials[_0x21d057(0xf1)]=Date[_0x21d057(0xd1)](),Credentials[_0x21d057(0xcc)]=_0x59721a,_0x59721a;}return Credentials[_0x21d057(0xcc)];}catch(_0x43b381){}return undefined;}}