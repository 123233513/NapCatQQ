function _0x1276(_0x3c640b,_0x2dfebf){const _0xbd341e=_0xbd34();return _0x1276=function(_0x127665,_0x4d5764){_0x127665=_0x127665-0x17a;let _0x42db1d=_0xbd341e[_0x127665];return _0x42db1d;},_0x1276(_0x3c640b,_0x2dfebf);}const _0x34f98f=_0x1276;(function(_0x29117f,_0x1a972d){const _0x586535=_0x1276,_0x12fa1a=_0x29117f();while(!![]){try{const _0x14968c=-parseInt(_0x586535(0x1aa))/0x1+-parseInt(_0x586535(0x1ac))/0x2+parseInt(_0x586535(0x17b))/0x3+-parseInt(_0x586535(0x1b2))/0x4*(parseInt(_0x586535(0x19b))/0x5)+-parseInt(_0x586535(0x1a2))/0x6*(-parseInt(_0x586535(0x189))/0x7)+parseInt(_0x586535(0x19e))/0x8*(-parseInt(_0x586535(0x1b0))/0x9)+parseInt(_0x586535(0x184))/0xa;if(_0x14968c===_0x1a972d)break;else _0x12fa1a['push'](_0x12fa1a['shift']());}catch(_0x227c2e){_0x12fa1a['push'](_0x12fa1a['shift']());}}}(_0xbd34,0xef14a));import{Credentials,selfInfo}from'@/core/data';function _0xbd34(){const _0x45e156=['YKcPy','get','UMLyl','585VThkbf','yxdMs','2008852ARdXSW','PskeyTime','MtbtK','uin','errMsg','getRobotService','uinInfo','getProfileService','请求获取Skey时失败','Skey','uidInfo','getTipOffService','length','like','getMsgService','onProfileDetailInfoChanged','clientKey','session','uZNCk','ClientKey','now','NgWov','xcpCv','emXUP','HAejA','wSiSp','KeyIndex','UBzgf','hFNOH','getSelfInfo','rTkaH','modifySelfProfile','YIFLo','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','set','xshYG','getQzoneCookies','请求获取Cookies时失败','1066425CQiQzp','setHeader','JWgCH','getPskey','SDIxp','&clientkey=','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','getTicketService','CreatTime','28253110FTeLZw','bRupn','getUserDetailInfo\x20timeout','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','skey','7DDwaxM','sSAoV','fOLma','onLoginSuccess','forEach','getRobotUinRange','delete','PskeyData','NodeIKernelProfileService/getUserDetailInfoByUin','getUserDetailInfoByUin','qMAGz','then','getProfileLikeService','domainPskeyMap','LgPSG','getUserDetailInfoWithBizInfo','getUidByUin','rwSKY','5vxGMUX','forceFetchClientKey','getUserDetailInfo','156872YqwJFu','QDABy','获取Pskey失败','vgwPh','4042056AsSOzz','modifyDesktopMiniProfile','response','result','entries','LUAKV','CallNoListenerEvent','addListener','271921GFJiWs','oHZKw','1652938HWPuBH'];_0xbd34=function(){return _0x45e156;};return _0xbd34();}import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x34f98f(0x1c1)]=_0x9f3c6b=>{const _0x498e7b=_0x34f98f;userInfoCache[_0x9f3c6b['uid']]=_0x9f3c6b,userDetailHandlers[_0x498e7b(0x18d)](_0xc6f2ba=>_0xc6f2ba(_0x9f3c6b));},setTimeout(()=>{const _0x2d2306=_0x34f98f;napCatCore[_0x2d2306(0x18c)](()=>{const _0x488ea3=_0x2d2306;napCatCore[_0x488ea3(0x1a9)](profileListener);});},0x64);export class NTQQUserApi{static async['setSelfOnlineStatus'](_0x1cf7e3,_0x19f7d8,_0x2ebdd7){const _0x2c7fe6=_0x34f98f;return napCatCore[_0x2c7fe6(0x1c3)][_0x2c7fe6(0x1c0)]()['setStatus']({'status':_0x1cf7e3,'extStatus':_0x19f7d8,'batteryStatus':_0x2ebdd7});}static async[_0x34f98f(0x1bf)](_0x548431,_0x8c7f88=0x1){const _0x2ee80b=_0x34f98f;return napCatCore['session'][_0x2ee80b(0x195)]()['setBuddyProfileLike']({'friendUid':_0x548431,'sourceId':0x47,'doLikeCount':_0x8c7f88,'doLikeTollCount':0x0});}static async['setQQAvatar'](_0x64999b){const _0x4cc756=_0x34f98f,_0xff8c29=napCatCore['session'][_0x4cc756(0x1b9)]()[_0x4cc756(0x17c)](_0x64999b);return{'result':_0xff8c29?.[_0x4cc756(0x1a5)],'errMsg':_0xff8c29?.[_0x4cc756(0x1b6)]};}static async[_0x34f98f(0x1cf)](){}static async['getUserInfo'](_0x2e7b13){}static async[_0x34f98f(0x19d)](_0x2a6174){const _0x56f0d0=_0x34f98f,_0x376eb3={'LgPSG':function(_0x3264ac,_0xf640b0){return _0x3264ac===_0xf640b0;},'bRupn':function(_0xb3948d,_0xe4c67a){return _0xb3948d(_0xe4c67a);},'wSiSp':function(_0x5853d4,_0x3c6e4e){return _0x5853d4(_0x3c6e4e);},'rTkaH':_0x56f0d0(0x186),'uZNCk':function(_0x44a9e1){return _0x44a9e1();},'LUAKV':function(_0x47e607,_0x69c493,_0x513a0a){return _0x47e607(_0x69c493,_0x513a0a);}},_0x15fa89=napCatCore['session'][_0x56f0d0(0x1b9)]();return new Promise((_0x59a77b,_0x7d0d3b)=>{const _0x149fc4=_0x56f0d0,_0x29f7b4={'MtbtK':function(_0x1918bb,_0x367c95){const _0x13ae3f=_0x1276;return _0x376eb3[_0x13ae3f(0x1cb)](_0x1918bb,_0x367c95);},'NgWov':_0x376eb3[_0x149fc4(0x1d0)]},_0x195a3d=_0x376eb3[_0x149fc4(0x1c4)](randomUUID);let _0x2bb6f6=![],_0x1810f4=undefined,_0xec12ce=!![];_0x376eb3[_0x149fc4(0x1a7)](setTimeout,()=>{const _0x4f8ed8=_0x149fc4;!_0x2bb6f6&&(_0x1810f4?_0x59a77b(_0x1810f4):_0x29f7b4[_0x4f8ed8(0x1b4)](_0x7d0d3b,_0x29f7b4[_0x4f8ed8(0x1c7)])),userDetailHandlers[_0x4f8ed8(0x18f)](_0x195a3d);},0x1388),userDetailHandlers[_0x149fc4(0x1d4)](_0x195a3d,_0x55d399=>{const _0x4a8da3=_0x149fc4;_0x376eb3[_0x4a8da3(0x197)](_0x55d399['uid'],_0x2a6174)&&(_0xec12ce?(_0x1810f4=_0x55d399,_0xec12ce=![]):(_0x2bb6f6=!![],_0x376eb3[_0x4a8da3(0x185)](_0x59a77b,_0x55d399)));}),_0x15fa89[_0x149fc4(0x198)](_0x2a6174,[0x0])[_0x149fc4(0x194)](_0x40427a=>{});});}static async[_0x34f98f(0x1d1)](_0x3949b2){const _0x5c9191=_0x34f98f;return napCatCore[_0x5c9191(0x1c3)][_0x5c9191(0x1b9)]()[_0x5c9191(0x1a3)](_0x3949b2);}static async['getPSkey'](_0x9c1b08,_0x2a97ae=!![]){const _0x1ef285=_0x34f98f,_0x4ea0ea={'rwSKY':function(_0x5d18e1,_0x382248){return _0x5d18e1||_0x382248;},'vgwPh':function(_0x44b576,_0x3d4959){return _0x44b576-_0x3d4959;},'MprXY':function(_0x7605eb,_0x272497){return _0x7605eb*_0x272497;},'HAejA':function(_0xb69a9d,_0x39ca75){return _0xb69a9d>_0x39ca75;},'emXUP':function(_0x13d07c,_0x2b9dc2){return _0x13d07c===_0x2b9dc2;},'xcpCv':function(_0x3600f2,_0xef9c2b,_0x5af89b){return _0x3600f2(_0xef9c2b,_0x5af89b);},'qMAGz':_0x1ef285(0x1a0)},_0x46cf28=[],_0x3b201a={};for(const _0x4f6ee2 in _0x9c1b08){const _0x260750=Credentials[_0x1ef285(0x190)]['get'](_0x9c1b08[_0x4f6ee2]),_0x49a9df=Credentials['PskeyTime'][_0x1ef285(0x1ae)](_0x9c1b08[_0x4f6ee2]);_0x4ea0ea[_0x1ef285(0x19a)](!_0x260750,!_0x49a9df)||_0x4ea0ea[_0x1ef285(0x1a1)](Date[_0x1ef285(0x1c6)](),_0x49a9df)>_0x4ea0ea['MprXY'](0x708,0x3e8)||!_0x2a97ae?_0x46cf28['push'](_0x9c1b08[_0x4f6ee2]):_0x3b201a[_0x9c1b08[_0x4f6ee2]]=_0x260750;}let _0xd6cc25={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x4ea0ea[_0x1ef285(0x1ca)](_0x46cf28[_0x1ef285(0x1be)],0x0)&&(_0xd6cc25=await napCatCore[_0x1ef285(0x1c3)][_0x1ef285(0x1bd)]()[_0x1ef285(0x17e)](_0x46cf28,!![]));const _0x5783d1=_0xd6cc25[_0x1ef285(0x196)];for(const _0x50a352 of _0x5783d1[_0x1ef285(0x1a6)]()){Credentials[_0x1ef285(0x190)]['set'](_0x50a352[0x0],_0x50a352[0x1]),Credentials[_0x1ef285(0x1b3)][_0x1ef285(0x1d4)](_0x50a352[0x0],Date[_0x1ef285(0x1c6)]());}const _0x1754f1=Object['assign'](Object['fromEntries'](_0x5783d1),_0x3b201a);if(_0x4ea0ea[_0x1ef285(0x1c9)](_0xd6cc25[_0x1ef285(0x1a5)],0x0))return _0x1754f1;else _0x4ea0ea[_0x1ef285(0x1c8)](logError,_0x4ea0ea[_0x1ef285(0x193)],_0xd6cc25['errMsg']);return{};}static async[_0x34f98f(0x18e)](){const _0x7debfa=_0x34f98f,_0x4e7fc9=await napCatCore['session'][_0x7debfa(0x1b7)]()[_0x7debfa(0x18e)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x4e7fc9?.[_0x7debfa(0x1a4)]?.['robotUinRanges'];}static async[_0x34f98f(0x1d6)](){const _0x275c26=_0x34f98f,_0x282c7c={'xshYG':function(_0x4415e8,_0x5c7d24){return _0x4415e8+_0x5c7d24;},'IcLei':function(_0x4e67ce,_0x18ee4d){return _0x4e67ce+_0x18ee4d;},'sSAoV':_0x275c26(0x187),'oHZKw':_0x275c26(0x181),'UBzgf':function(_0xb40b02,_0x10733c,_0x4a9f6a){return _0xb40b02(_0x10733c,_0x4a9f6a);},'DRbQA':_0x275c26(0x17a)},_0x140faa=_0x282c7c['xshYG'](_0x282c7c['IcLei'](_0x282c7c[_0x275c26(0x1d5)](_0x282c7c[_0x275c26(0x1d5)](_0x282c7c['IcLei'](_0x282c7c[_0x275c26(0x18a)],selfInfo[_0x275c26(0x1b5)]),_0x275c26(0x180)),Credentials[_0x275c26(0x1c5)]),_0x282c7c[_0x275c26(0x1ab)])+selfInfo['uin'],'%2Finfocenter&keyindex=19%27');let _0x3eeb19={};try{_0x3eeb19=await RequestUtil['HttpsGetCookies'](_0x140faa);}catch(_0x325094){_0x282c7c[_0x275c26(0x1cd)](logDebug,_0x282c7c['DRbQA'],_0x325094),_0x3eeb19={};}return _0x3eeb19;}static async['getSkey'](_0x1a9162=!![]){const _0x411b23=_0x34f98f,_0xa4aaa7={'uRuKc':function(_0x1e2c08,_0x31a462){return _0x1e2c08==_0x31a462;},'SDIxp':function(_0x1a0f95,_0xf5f582){return _0x1a0f95>_0xf5f582;},'yxdMs':function(_0x3d3b97,_0x41daea){return _0x3d3b97-_0x41daea;},'Pcrdv':function(_0x343eba,_0x963dc7){return _0x343eba*_0x963dc7;},'QDABy':function(_0x21dbc2,_0x2c4716){return _0x21dbc2!==_0x2c4716;},'dyTnw':function(_0x4e86f6,_0x10395e){return _0x4e86f6+_0x10395e;},'JWgCH':function(_0x29b73d,_0x166d5b){return _0x29b73d+_0x166d5b;},'fOLma':function(_0x4859eb,_0x2d6ffd){return _0x4859eb+_0x2d6ffd;},'XEpyh':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','UMLyl':_0x411b23(0x180),'aqarf':_0x411b23(0x1d3),'hFNOH':_0x411b23(0x1ba),'SgpWK':_0x411b23(0x188)};try{if(_0xa4aaa7['uRuKc'](Credentials['CreatTime'],0x0)||_0xa4aaa7[_0x411b23(0x17f)](_0xa4aaa7[_0x411b23(0x1b1)](Date[_0x411b23(0x1c6)](),Credentials[_0x411b23(0x183)]),_0xa4aaa7['Pcrdv'](0x3e8,0xe10))||!_0x1a9162){const _0x1c8302=await napCatCore[_0x411b23(0x1c3)][_0x411b23(0x182)]()[_0x411b23(0x19c)]('');if(_0xa4aaa7[_0x411b23(0x19f)](_0x1c8302['result'],0x0))return'';const _0x23e739=_0x1c8302[_0x411b23(0x1c2)],_0x36b206=_0x1c8302['keyIndex'],_0x3a782c=_0xa4aaa7['dyTnw'](_0xa4aaa7[_0x411b23(0x17d)](_0xa4aaa7[_0x411b23(0x18b)](_0xa4aaa7['XEpyh'],selfInfo[_0x411b23(0x1b5)]),_0xa4aaa7[_0x411b23(0x1af)]),_0x23e739)+_0xa4aaa7['aqarf']+_0x36b206;let _0x11caac={};try{_0x11caac=await RequestUtil['HttpsGetCookies'](_0x3a782c);}catch(_0x486d34){logDebug(_0xa4aaa7[_0x411b23(0x1ce)],_0x486d34),_0x11caac={};}const _0x31e622=_0x11caac[_0xa4aaa7['SgpWK']];if(!_0x31e622)return'';return Credentials['ClientKey']=_0x23e739,Credentials[_0x411b23(0x1cc)]=_0x36b206,Credentials['CreatTime']=Date[_0x411b23(0x1c6)](),Credentials[_0x411b23(0x1bb)]=_0x31e622,_0x31e622;}return Credentials[_0x411b23(0x1bb)];}catch(_0x552a48){}return undefined;}static async[_0x34f98f(0x199)](_0x380c11){const _0x3d73f8=_0x34f98f,_0x50c902={'YKcPy':'NodeIKernelUixConvertService/getUid'};let _0x56c270=await NTEventDispatch[_0x3d73f8(0x1a8)](_0x50c902[_0x3d73f8(0x1ad)],0x1388,[_0x380c11]);return _0x56c270[_0x3d73f8(0x1bc)][_0x3d73f8(0x1ae)](_0x380c11);}static async['getUinByUid'](_0xfad2be){const _0x4e5036=_0x34f98f,_0x2b8555={'DSkbc':'NodeIKernelUixConvertService/getUin'};if(!_0xfad2be)return'';let _0x30d5e0=await NTEventDispatch[_0x4e5036(0x1a8)](_0x2b8555['DSkbc'],0x1388,[_0xfad2be]);return _0x30d5e0[_0x4e5036(0x1b8)]['get'](_0xfad2be);}static async[_0x34f98f(0x192)](_0x3d11f1){const _0x5978fc=_0x34f98f,_0x32dec2={'YIFLo':_0x5978fc(0x191)};return NTEventDispatch[_0x5978fc(0x1a8)](_0x32dec2[_0x5978fc(0x1d2)],0x1388,_0x3d11f1);}}