const _0x16554a=_0x2fb1;(function(_0x3933be,_0x5115ea){const _0x286676=_0x2fb1,_0x26d66d=_0x3933be();while(!![]){try{const _0x540bfa=parseInt(_0x286676(0x188))/0x1+parseInt(_0x286676(0x16d))/0x2*(-parseInt(_0x286676(0x1ba))/0x3)+-parseInt(_0x286676(0x1ad))/0x4*(parseInt(_0x286676(0x193))/0x5)+-parseInt(_0x286676(0x1af))/0x6*(parseInt(_0x286676(0x1b5))/0x7)+parseInt(_0x286676(0x1c1))/0x8*(-parseInt(_0x286676(0x190))/0x9)+parseInt(_0x286676(0x178))/0xa+parseInt(_0x286676(0x1c9))/0xb;if(_0x540bfa===_0x5115ea)break;else _0x26d66d['push'](_0x26d66d['shift']());}catch(_0x43d789){_0x26d66d['push'](_0x26d66d['shift']());}}}(_0x2b3e,0x28919));var __decorate=this&&this['__decorate']||function(_0xc205ce,_0x3de706,_0x209977,_0x5c3686){const _0x52aada=_0x2fb1,_0xb36caa={'zLeOM':function(_0x5b47ce,_0x535bbc){return _0x5b47ce<_0x535bbc;},'aLETj':function(_0x34e1b1,_0xd75436){return _0x34e1b1===_0xd75436;},'ZvdAu':function(_0x3842b4,_0x3bbd3e){return _0x3842b4===_0x3bbd3e;},'sTRZu':_0x52aada(0x176),'dnFLo':function(_0x1d4970,_0x14265a){return _0x1d4970-_0x14265a;},'KoeYz':function(_0x492111,_0xf99592){return _0x492111>=_0xf99592;},'bxiYs':function(_0x5c1708,_0xb52218,_0x4693c3,_0x5cd8db){return _0x5c1708(_0xb52218,_0x4693c3,_0x5cd8db);},'dDyEd':function(_0x44d8df,_0x5e7b40,_0x3d1877){return _0x44d8df(_0x5e7b40,_0x3d1877);},'UoZYz':function(_0x5c6d66,_0x5ae11c){return _0x5c6d66>_0x5ae11c;}};var _0x46a327=arguments[_0x52aada(0x183)],_0x94a5d1=_0xb36caa[_0x52aada(0x19c)](_0x46a327,0x3)?_0x3de706:_0xb36caa[_0x52aada(0x1a0)](_0x5c3686,null)?_0x5c3686=Object[_0x52aada(0x1a8)](_0x3de706,_0x209977):_0x5c3686,_0x2dd218;if(_0xb36caa[_0x52aada(0x180)](typeof Reflect,_0xb36caa[_0x52aada(0x17a)])&&_0xb36caa[_0x52aada(0x180)](typeof Reflect[_0x52aada(0x187)],_0x52aada(0x19a)))_0x94a5d1=Reflect[_0x52aada(0x187)](_0xc205ce,_0x3de706,_0x209977,_0x5c3686);else{for(var _0x49bb2d=_0xb36caa[_0x52aada(0x182)](_0xc205ce['length'],0x1);_0xb36caa[_0x52aada(0x18b)](_0x49bb2d,0x0);_0x49bb2d--)if(_0x2dd218=_0xc205ce[_0x49bb2d])_0x94a5d1=(_0xb36caa[_0x52aada(0x19c)](_0x46a327,0x3)?_0x2dd218(_0x94a5d1):_0x46a327>0x3?_0xb36caa[_0x52aada(0x18f)](_0x2dd218,_0x3de706,_0x209977,_0x94a5d1):_0xb36caa[_0x52aada(0x17e)](_0x2dd218,_0x3de706,_0x209977))||_0x94a5d1;}return _0xb36caa[_0x52aada(0x181)](_0x46a327,0x3)&&_0x94a5d1&&Object['defineProperty'](_0x3de706,_0x209977,_0x94a5d1),_0x94a5d1;};function _0x2fb1(_0x350b95,_0x4d8167){const _0x2b3e7f=_0x2b3e();return _0x2fb1=function(_0x2fb107,_0xbaf04e){_0x2fb107=_0x2fb107-0x16a;let _0x503977=_0x2b3e7f[_0x2fb107];return _0x503977;},_0x2fb1(_0x350b95,_0x4d8167);}import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();function _0x2b3e(){const _0x2e0ef5=['getPskey','iBxXQ','LkoGt','object','getRobotUinRange','1853750XzGjcj','ThLwz','sTRZu','set','hNCyQ','NodeIKernelProfileService/getUserDetailInfoByUin','dDyEd','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','ZvdAu','UoZYz','dnFLo','length','skey','rcxIf','setSelfOnlineStatus','decorate','308063jHpSBk','&clientkey=','setBuddyProfileLike','KoeYz','result','%2F','getMsgService','bxiYs','2129526UmgKAf','uinInfo','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','188690VVNFjr','GEsYr','getUserDetailInfoWithBizInfo','forEach','uid','getUserDetailInfo\x20timeout','get','function','VlfzH','zLeOM','getTipOffService','请求获取Cookies时失败','setStatus','aLETj','getPSkey','getUidByUin','eklBL','jMcJr','getProfileService','onLoginSuccess','errMsg','getOwnPropertyDescriptor','ClientKey','keyIndex','ocTvQ','getQzoneCookies','28stlnOV','getBuddyRecommendContactArkJson','378078fCxeLD','LZEnp','session','like','vIbMb','uidInfo','14cdyETr','robotUinRanges','%2Finfocenter&keyindex=19%27','KdtjE','HttpsGetCookies','303357wSpmtd','uin','getTicketService','TiZOb','getCookies','delete','addListener','8XEWWfB','forceFetchClientKey','getUserDetailInfo','hNYfB','FNBDB','MWmOy','getSelfInfo','bgAeT','5519525uNziRV','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','CallNoListenerEvent','请求获取Skey时失败','clientKey','4umqLTC','then','getSkey','tiyJe','KYpRr','setQQAvatar'];_0x2b3e=function(){return _0x2e0ef5;};return _0x2b3e();}profileListener['onProfileDetailInfoChanged']=_0xa93e2d=>{const _0x34440a=_0x2fb1;userInfoCache[_0xa93e2d[_0x34440a(0x197)]]=_0xa93e2d,userDetailHandlers[_0x34440a(0x196)](_0x29d9af=>_0x29d9af(_0xa93e2d));},setTimeout(()=>{const _0x32ed34=_0x2fb1;napCatCore[_0x32ed34(0x1a6)](()=>{const _0x13370d=_0x32ed34;napCatCore[_0x13370d(0x1c0)](profileListener);});},0x64);export class NTQQUserApi{static async['setLongNick'](_0x10510d){const _0x12caf0=_0x2fb1;return napCatCore[_0x12caf0(0x1b1)][_0x12caf0(0x1a5)]()['setLongNick'](_0x10510d);}static async[_0x16554a(0x186)](_0x3c7d7d,_0x445df8,_0x386930){const _0x5ea882=_0x16554a;return napCatCore[_0x5ea882(0x1b1)][_0x5ea882(0x18e)]()[_0x5ea882(0x19f)]({'status':_0x3c7d7d,'extStatus':_0x445df8,'batteryStatus':_0x386930});}static async[_0x16554a(0x1ae)](_0x27d34c,_0x2e9dd5=''){const _0xd10e03=_0x16554a;return napCatCore[_0xd10e03(0x1b1)]['getBuddyService']()[_0xd10e03(0x1ae)](_0x27d34c,_0x2e9dd5);}static async[_0x16554a(0x1b2)](_0x13ab1a,_0xcd1723=0x1){const _0x51a029=_0x16554a;return napCatCore['session']['getProfileLikeService']()[_0x51a029(0x18a)]({'friendUid':_0x13ab1a,'sourceId':0x47,'doLikeCount':_0xcd1723,'doLikeTollCount':0x0});}static async[_0x16554a(0x172)](_0x273fe8){const _0x1dd838=_0x16554a,_0x46ab22=await napCatCore[_0x1dd838(0x1b1)][_0x1dd838(0x1a5)]()['setHeader'](_0x273fe8);return{'result':_0x46ab22?.[_0x1dd838(0x18c)],'errMsg':_0x46ab22?.[_0x1dd838(0x1a7)]};}static async[_0x16554a(0x1c7)](){}static async['getUserInfo'](_0x2c1689){}static async[_0x16554a(0x1c3)](_0x1ac3c1){const _0x2cb542=_0x16554a,_0xc87ec3={'jMcJr':function(_0x3cd6ee,_0x529256){return _0x3cd6ee(_0x529256);},'eklBL':function(_0x6f26d1,_0x216200){return _0x6f26d1(_0x216200);},'VlfzH':function(_0x66b14){return _0x66b14();}},_0x3260e1=napCatCore[_0x2cb542(0x1b1)]['getProfileService']();return new Promise((_0x448854,_0x212250)=>{const _0x252bc3=_0x2cb542,_0x2eb97c={'vIbMb':function(_0x157c99,_0x35fef7){const _0x15a8e5=_0x2fb1;return _0xc87ec3[_0x15a8e5(0x1a3)](_0x157c99,_0x35fef7);}},_0x1ea829=_0xc87ec3[_0x252bc3(0x19b)](randomUUID);let _0x1799fb=![],_0x184429=undefined,_0x2b37b4=!![];setTimeout(()=>{const _0xc999b0=_0x252bc3;!_0x1799fb&&(_0x184429?_0xc87ec3[_0xc999b0(0x1a4)](_0x448854,_0x184429):_0xc87ec3[_0xc999b0(0x1a4)](_0x212250,_0xc999b0(0x198))),userDetailHandlers[_0xc999b0(0x1bf)](_0x1ea829);},0x1388),userDetailHandlers[_0x252bc3(0x17b)](_0x1ea829,_0x11262f=>{const _0x197d96=_0x252bc3;_0x11262f[_0x197d96(0x197)]===_0x1ac3c1&&(_0x2b37b4?(_0x184429=_0x11262f,_0x2b37b4=![]):(_0x1799fb=!![],_0x2eb97c[_0x197d96(0x1b3)](_0x448854,_0x11262f)));}),_0x3260e1[_0x252bc3(0x195)](_0x1ac3c1,[0x0])[_0x252bc3(0x16e)](_0x53c29e=>{});});}static async['modifySelfProfile'](_0xecbfdb){const _0x3d172f=_0x16554a;return napCatCore[_0x3d172f(0x1b1)][_0x3d172f(0x1a5)]()['modifyDesktopMiniProfile'](_0xecbfdb);}static async[_0x16554a(0x1be)](_0x2a0c69){const _0x551dd3=_0x16554a,_0x47eab7={'LkoGt':function(_0x4d9d7c,_0x179f5d){return _0x4d9d7c+_0x179f5d;},'KdtjE':function(_0x144ea5,_0x1d754d){return _0x144ea5+_0x1d754d;},'ThLwz':function(_0xfd585,_0x18574f){return _0xfd585+_0x18574f;},'njOUj':_0x551dd3(0x1ca),'FNBDB':_0x551dd3(0x189),'VendX':'&u1=https%3A%2F%2F','iBxXQ':_0x551dd3(0x18d),'ocTvQ':function(_0x99a2ad,_0x2adb08,_0x5e624f){return _0x99a2ad(_0x2adb08,_0x5e624f);},'tdQge':_0x551dd3(0x19e)},_0x2ab8e7=await NTQQUserApi[_0x551dd3(0x1c2)](),_0x231dd0=_0x47eab7[_0x551dd3(0x175)](_0x47eab7[_0x551dd3(0x175)](_0x47eab7[_0x551dd3(0x1b8)](_0x47eab7[_0x551dd3(0x179)](_0x47eab7['LkoGt'](_0x47eab7['KdtjE'](_0x47eab7['njOUj'],selfInfo[_0x551dd3(0x1bb)]),_0x47eab7[_0x551dd3(0x1c5)]),_0x2ab8e7['clientKey']),_0x47eab7['VendX'])+_0x2a0c69,_0x47eab7[_0x551dd3(0x174)])+selfInfo[_0x551dd3(0x1bb)],_0x551dd3(0x1b7));let _0x132535={};try{_0x132535=await RequestUtil['HttpsGetCookies'](_0x231dd0);}catch(_0x1272a5){_0x47eab7[_0x551dd3(0x1ab)](logDebug,_0x47eab7['tdQge'],_0x1272a5),_0x132535={};}return _0x132535;}static async[_0x16554a(0x1a1)](_0x55c675){const _0x25b32d=_0x16554a;return await napCatCore[_0x25b32d(0x1b1)][_0x25b32d(0x19d)]()[_0x25b32d(0x173)](_0x55c675,!![]);}static async[_0x16554a(0x177)](){const _0x5e5c58=_0x16554a,_0xb3200c=await napCatCore['session']['getRobotService']()[_0x5e5c58(0x177)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0xb3200c?.['response']?.[_0x5e5c58(0x1b6)];}static async[_0x16554a(0x1ac)](){const _0x551ea8=_0x16554a,_0x4c59ad={'jomzI':function(_0x583a6f,_0x2026dd){return _0x583a6f+_0x2026dd;},'GEsYr':function(_0x3dfe86,_0x15f564){return _0x3dfe86+_0x15f564;},'hNYfB':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','bgAeT':'&clientkey=','uQlRt':_0x551ea8(0x192),'TiZOb':_0x551ea8(0x1b7),'MWmOy':function(_0x41edbf,_0x10cb54,_0x4d0fe5){return _0x41edbf(_0x10cb54,_0x4d0fe5);},'KYpRr':_0x551ea8(0x19e)},_0x57fd49=await NTQQUserApi[_0x551ea8(0x1c2)](),_0x20937b=_0x4c59ad['jomzI'](_0x4c59ad['jomzI'](_0x4c59ad[_0x551ea8(0x194)](_0x4c59ad[_0x551ea8(0x194)](_0x4c59ad[_0x551ea8(0x1c4)]+selfInfo['uin']+_0x4c59ad[_0x551ea8(0x1c8)],_0x57fd49[_0x551ea8(0x16c)]),_0x4c59ad['uQlRt']),selfInfo['uin']),_0x4c59ad[_0x551ea8(0x1bd)]);let _0x3ffb10={};try{_0x3ffb10=await RequestUtil[_0x551ea8(0x1b9)](_0x20937b);}catch(_0x6ae46){_0x4c59ad[_0x551ea8(0x1c6)](logDebug,_0x4c59ad[_0x551ea8(0x171)],_0x6ae46),_0x3ffb10={};}return _0x3ffb10;}static async[_0x16554a(0x16f)](){const _0x1b7311=_0x16554a,_0x33d0ca={'tiyJe':function(_0x428606,_0x5ea03a){return _0x428606!==_0x5ea03a;},'KZaUv':function(_0x5721ef,_0x4631e8){return _0x5721ef+_0x4631e8;},'rcxIf':function(_0x355c31,_0x462718){return _0x355c31+_0x462718;},'DoUEQ':_0x1b7311(0x189),'hNCyQ':_0x1b7311(0x17f),'pVDnt':function(_0x123d51,_0x90cd73,_0x5802e7){return _0x123d51(_0x90cd73,_0x5802e7);},'JwIRH':_0x1b7311(0x16b)};try{const _0x30acf3=await NTQQUserApi[_0x1b7311(0x1c2)]();if(_0x33d0ca[_0x1b7311(0x170)](_0x30acf3[_0x1b7311(0x18c)],0x0))return'';const _0x4f19c1=_0x30acf3[_0x1b7311(0x16c)],_0x587131=_0x30acf3[_0x1b7311(0x1aa)],_0x3f694a=_0x33d0ca['KZaUv'](_0x33d0ca[_0x1b7311(0x185)](_0x1b7311(0x1ca)+selfInfo[_0x1b7311(0x1bb)]+_0x33d0ca['DoUEQ'],_0x4f19c1),_0x33d0ca[_0x1b7311(0x17c)]);let _0x315024={};try{_0x315024=await RequestUtil[_0x1b7311(0x1b9)](_0x3f694a);}catch(_0x438378){_0x33d0ca['pVDnt'](logDebug,_0x33d0ca['JwIRH'],_0x438378),_0x315024={};}const _0x45d693=_0x315024[_0x1b7311(0x184)];if(!_0x45d693)return'';return _0x45d693;}catch(_0x20d24b){}return undefined;}static async[_0x16554a(0x1a2)](_0x5caa77){const _0x4d67f2=_0x16554a;let _0x569436=await NTEventDispatch[_0x4d67f2(0x16a)]('NodeIKernelUixConvertService/getUid',0x1388,[_0x5caa77]);return _0x569436[_0x4d67f2(0x1b4)][_0x4d67f2(0x199)](_0x5caa77);}static async['getUinByUid'](_0x1dfd4d){const _0x57d8f4=_0x16554a,_0x2da660={'LZEnp':'NodeIKernelUixConvertService/getUin'};if(!_0x1dfd4d)return'';let _0x1314f0=await NTEventDispatch[_0x57d8f4(0x16a)](_0x2da660[_0x57d8f4(0x1b0)],0x1388,[_0x1dfd4d]);return _0x1314f0[_0x57d8f4(0x191)][_0x57d8f4(0x199)](_0x1dfd4d);}static async['getUserDetailInfoByUin'](_0x34876b){const _0x3d9773=_0x16554a,_0x2c618e={'VHOkK':_0x3d9773(0x17d)};return NTEventDispatch['CallNoListenerEvent'](_0x2c618e['VHOkK'],0x1388,_0x34876b);}static async[_0x16554a(0x1c2)](){const _0x9c343=_0x16554a;return await napCatCore[_0x9c343(0x1b1)][_0x9c343(0x1bc)]()[_0x9c343(0x1c2)]('');}}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getCookies',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x16554a(0x1a1),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getQzoneCookies',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x16554a(0x16f),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,_0x16554a(0x1a9))],NTQQUserApi,'forceFetchClientKey',null);