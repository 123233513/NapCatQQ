const _0x3edc27=_0x5c2c;function _0x5ded(){const _0x43de7f=['setSelfOnlineStatus','ZfCWq','getMsgService','getUserDetailInfo','FIDLj','1145105tqGUcA','JaMEz','onLoginSuccess','420HGPokl','NodeIKernelUixConvertService/getUin','getBuddyRecommendContactArkJson','onProfileDetailInfoChanged','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','请求获取Cookies时失败','length','defineProperty','robotUinRanges','getRobotUinRange','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','vAJig','setBuddyProfileLike','clientKey','addListener','20qPMEcg','LTQSr','getTipOffService','oztaG','getQzoneCookies','60HgrkiU','modifyDesktopMiniProfile','5058KczzxB','7056pPWzzm','function','3945195pUbjiD','AdcVM','getPSkey','NodeIKernelProfileService/getUserDetailInfoByUin','DyWzP','like','HQtIR','errMsg','3121151JlzRMD','__decorate','getUidByUin','setHeader','getUinByUid','then','&clientkey=','qtTFs','Wuktu','setStatus','XYJCp','ORZMA','CallNoListenerEvent','8EGMKgn','CsUaf','setQQAvatar','getUserDetailInfoByUin','Cfzho','YBEsi','result','JJXwO','qpoCb','%2Finfocenter&keyindex=19%27','getUserDetailInfoWithBizInfo','forceFetchClientKey','response','tduCV','498760cncvpd','bpUlf','请求获取Skey时失败','get','set','PByem','uidInfo','getBuddyService','uin','UMeda','delete','modifySelfProfile','MHLey','82196LilnEe','getSkey','session','HttpsGetCookies','getCookies','uinInfo','lgBoJ','setLongNick','DOkMk','kFaUP','getUserDetailInfo\x20timeout','fWkJe','eJMVy','zNPrv','getProfileService','awiKm','NodeIKernelUixConvertService/getUid','keyIndex','RzLHC','getProfileLikeService','8253IGCxEN','%2F','cRSMS','decorate','uid'];_0x5ded=function(){return _0x43de7f;};return _0x5ded();}(function(_0x4c043a,_0x5c61cc){const _0x2fa1c6=_0x5c2c,_0x18b9b3=_0x4c043a();while(!![]){try{const _0x16947=-parseInt(_0x2fa1c6(0x1f1))/0x1*(-parseInt(_0x2fa1c6(0x20c))/0x2)+parseInt(_0x2fa1c6(0x1dc))/0x3+-parseInt(_0x2fa1c6(0x1d2))/0x4*(parseInt(_0x2fa1c6(0x1c0))/0x5)+parseInt(_0x2fa1c6(0x1d9))/0x6*(-parseInt(_0x2fa1c6(0x1b6))/0x7)+-parseInt(_0x2fa1c6(0x1ff))/0x8+-parseInt(_0x2fa1c6(0x1da))/0x9*(parseInt(_0x2fa1c6(0x1c3))/0xa)+parseInt(_0x2fa1c6(0x1e4))/0xb*(parseInt(_0x2fa1c6(0x1d7))/0xc);if(_0x16947===_0x5c61cc)break;else _0x18b9b3['push'](_0x18b9b3['shift']());}catch(_0x568fc8){_0x18b9b3['push'](_0x18b9b3['shift']());}}}(_0x5ded,0xca377));var __decorate=this&&this[_0x3edc27(0x1e5)]||function(_0x30b0df,_0x257313,_0x1b300a,_0x36b678){const _0x450e6f=_0x3edc27,_0x5072ac={'HQtIR':function(_0x89ad56,_0x45a4c8){return _0x89ad56===_0x45a4c8;},'DyWzP':function(_0x1aaf6d,_0x29e31d){return _0x1aaf6d===_0x29e31d;},'UMeda':function(_0x21ce49,_0x56cd84){return _0x21ce49===_0x56cd84;},'eJMVy':_0x450e6f(0x1db),'JJXwO':function(_0x4201f1,_0x1d6704){return _0x4201f1<_0x1d6704;},'kFaUP':function(_0x359b88,_0x13e1cd){return _0x359b88(_0x13e1cd);},'YBEsi':function(_0x148a73,_0x2af798,_0x17ca36,_0x13ea4){return _0x148a73(_0x2af798,_0x17ca36,_0x13ea4);},'Wuktu':function(_0x3e02a,_0xa138d5,_0x538762){return _0x3e02a(_0xa138d5,_0x538762);}};var _0x5af86d=arguments[_0x450e6f(0x1c9)],_0x46b2a0=_0x5af86d<0x3?_0x257313:_0x5072ac[_0x450e6f(0x1e2)](_0x36b678,null)?_0x36b678=Object['getOwnPropertyDescriptor'](_0x257313,_0x1b300a):_0x36b678,_0x54b1c3;if(_0x5072ac[_0x450e6f(0x1e0)](typeof Reflect,'object')&&_0x5072ac[_0x450e6f(0x208)](typeof Reflect[_0x450e6f(0x1b9)],_0x5072ac[_0x450e6f(0x218)]))_0x46b2a0=Reflect[_0x450e6f(0x1b9)](_0x30b0df,_0x257313,_0x1b300a,_0x36b678);else{for(var _0x48cc76=_0x30b0df[_0x450e6f(0x1c9)]-0x1;_0x48cc76>=0x0;_0x48cc76--)if(_0x54b1c3=_0x30b0df[_0x48cc76])_0x46b2a0=(_0x5072ac[_0x450e6f(0x1f8)](_0x5af86d,0x3)?_0x5072ac[_0x450e6f(0x215)](_0x54b1c3,_0x46b2a0):_0x5af86d>0x3?_0x5072ac[_0x450e6f(0x1f6)](_0x54b1c3,_0x257313,_0x1b300a,_0x46b2a0):_0x5072ac[_0x450e6f(0x1ec)](_0x54b1c3,_0x257313,_0x1b300a))||_0x46b2a0;}return _0x5af86d>0x3&&_0x46b2a0&&Object[_0x450e6f(0x1ca)](_0x257313,_0x1b300a,_0x46b2a0),_0x46b2a0;};import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x3edc27(0x1c6)]=_0x5a46d6=>{const _0x26549e=_0x3edc27;userInfoCache[_0x5a46d6[_0x26549e(0x1ba)]]=_0x5a46d6,userDetailHandlers['forEach'](_0x443797=>_0x443797(_0x5a46d6));},setTimeout(()=>{const _0x3278d9=_0x3edc27;napCatCore[_0x3278d9(0x1c2)](()=>{const _0xaaa8e1=_0x3278d9;napCatCore[_0xaaa8e1(0x1d1)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x3edc27(0x213)](_0x1ec05a){const _0xe30e7f=_0x3edc27;return napCatCore[_0xe30e7f(0x20e)][_0xe30e7f(0x21a)]()[_0xe30e7f(0x213)](_0x1ec05a);}static async[_0x3edc27(0x1bb)](_0x516d49,_0x3edbe7,_0x36ddd7){const _0x8c5a8e=_0x3edc27;return napCatCore[_0x8c5a8e(0x20e)][_0x8c5a8e(0x1bd)]()[_0x8c5a8e(0x1ed)]({'status':_0x516d49,'extStatus':_0x3edbe7,'batteryStatus':_0x36ddd7});}static async['getBuddyRecommendContactArkJson'](_0x5c6a98,_0x2478bf=''){const _0x19e01f=_0x3edc27;return napCatCore['session'][_0x19e01f(0x206)]()[_0x19e01f(0x1c5)](_0x5c6a98,_0x2478bf);}static async[_0x3edc27(0x1e1)](_0x3155f0,_0x3bcf0c=0x1){const _0x160db5=_0x3edc27;return napCatCore[_0x160db5(0x20e)][_0x160db5(0x1b5)]()[_0x160db5(0x1cf)]({'friendUid':_0x3155f0,'sourceId':0x47,'doLikeCount':_0x3bcf0c,'doLikeTollCount':0x0});}static async[_0x3edc27(0x1f3)](_0x330067){const _0x4de79b=_0x3edc27,_0x1826e2=await napCatCore[_0x4de79b(0x20e)]['getProfileService']()[_0x4de79b(0x1e7)](_0x330067);return{'result':_0x1826e2?.[_0x4de79b(0x1f7)],'errMsg':_0x1826e2?.[_0x4de79b(0x1e3)]};}static async['getSelfInfo'](){}static async['getUserInfo'](_0x4783bc){}static async[_0x3edc27(0x1be)](_0x293837){const _0x176f57=_0x3edc27,_0x4e17ca={'MHLey':function(_0x5425bf,_0x14e32c){return _0x5425bf(_0x14e32c);},'JaMEz':_0x176f57(0x216),'JTqjY':function(_0x239226,_0x1c9e61){return _0x239226===_0x1c9e61;},'LEbiU':function(_0x7491bc){return _0x7491bc();},'oztaG':function(_0x15ac5a,_0x203cc3,_0x157cbc){return _0x15ac5a(_0x203cc3,_0x157cbc);}},_0x35e64f=napCatCore[_0x176f57(0x20e)][_0x176f57(0x21a)]();return new Promise((_0x168cc0,_0x261201)=>{const _0x43025e=_0x176f57,_0x36e895={'ZfCWq':function(_0x51fa82,_0x19bde9){const _0x3af437=_0x5c2c;return _0x4e17ca[_0x3af437(0x20b)](_0x51fa82,_0x19bde9);},'Cfzho':_0x4e17ca[_0x43025e(0x1c1)],'qtTFs':function(_0x4042dc,_0x5b5335){return _0x4e17ca['JTqjY'](_0x4042dc,_0x5b5335);}},_0x5c06de=_0x4e17ca['LEbiU'](randomUUID);let _0x5e9ed9=![],_0x118aba=undefined,_0x3ea8f5=!![];_0x4e17ca[_0x43025e(0x1d5)](setTimeout,()=>{const _0x5d4a2e=_0x43025e;!_0x5e9ed9&&(_0x118aba?_0x168cc0(_0x118aba):_0x36e895[_0x5d4a2e(0x1bc)](_0x261201,_0x36e895[_0x5d4a2e(0x1f5)])),userDetailHandlers[_0x5d4a2e(0x209)](_0x5c06de);},0x1388),userDetailHandlers[_0x43025e(0x203)](_0x5c06de,_0x5b3c36=>{const _0x376a32=_0x43025e;_0x36e895[_0x376a32(0x1eb)](_0x5b3c36[_0x376a32(0x1ba)],_0x293837)&&(_0x3ea8f5?(_0x118aba=_0x5b3c36,_0x3ea8f5=![]):(_0x5e9ed9=!![],_0x36e895[_0x376a32(0x1bc)](_0x168cc0,_0x5b3c36)));}),_0x35e64f[_0x43025e(0x1fb)](_0x293837,[0x0])[_0x43025e(0x1e9)](_0x21cb81=>{});});}static async[_0x3edc27(0x20a)](_0x5ab4ed){const _0x13f693=_0x3edc27;return napCatCore[_0x13f693(0x20e)]['getProfileService']()[_0x13f693(0x1d8)](_0x5ab4ed);}static async[_0x3edc27(0x210)](_0x186e58){const _0x457a87=_0x3edc27,_0x13f703={'bpUlf':function(_0x5a1f2b,_0xa28988){return _0x5a1f2b+_0xa28988;},'RzLHC':function(_0x2a164c,_0x4598a0){return _0x2a164c+_0x4598a0;},'FIDLj':function(_0x3ef8b6,_0x80a3bf){return _0x3ef8b6+_0x80a3bf;},'eFZpz':function(_0x5b077f,_0x3d5630){return _0x5b077f+_0x3d5630;},'AdcVM':_0x457a87(0x1ea),'CsUaf':'&u1=https%3A%2F%2F','fWkJe':_0x457a87(0x1b7),'zNPrv':'%2Finfocenter&keyindex=19%27','IgUzY':function(_0x3d6876,_0x113eee,_0x393a68){return _0x3d6876(_0x113eee,_0x393a68);},'WLjyU':_0x457a87(0x1c8)},_0x295387=await NTQQUserApi[_0x457a87(0x1fc)](),_0xe8e19a=_0x13f703[_0x457a87(0x200)](_0x13f703['bpUlf'](_0x13f703[_0x457a87(0x1b4)](_0x13f703['bpUlf'](_0x13f703[_0x457a87(0x1bf)](_0x13f703[_0x457a87(0x1b4)](_0x13f703['eFZpz'](_0x457a87(0x1c7),selfInfo[_0x457a87(0x207)]),_0x13f703[_0x457a87(0x1dd)])+_0x295387[_0x457a87(0x1d0)],_0x13f703[_0x457a87(0x1f2)]),_0x186e58),_0x13f703[_0x457a87(0x217)]),selfInfo[_0x457a87(0x207)]),_0x13f703[_0x457a87(0x219)]);let _0x103bdc={};try{_0x103bdc=await RequestUtil[_0x457a87(0x20f)](_0xe8e19a);}catch(_0x1b3763){_0x13f703['IgUzY'](logDebug,_0x13f703['WLjyU'],_0x1b3763),_0x103bdc={};}return _0x103bdc;}static async[_0x3edc27(0x1de)](_0x219111){const _0x3ad636=_0x3edc27;return await napCatCore[_0x3ad636(0x20e)][_0x3ad636(0x1d4)]()['getPskey'](_0x219111,!![]);}static async[_0x3edc27(0x1cc)](){const _0x39c313=_0x3edc27,_0x2de7c9=await napCatCore[_0x39c313(0x20e)]['getRobotService']()[_0x39c313(0x1cc)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x2de7c9?.[_0x39c313(0x1fd)]?.[_0x39c313(0x1cb)];}static async[_0x3edc27(0x1d6)](){const _0xdbade1=_0x3edc27,_0x166dc0={'tduCV':function(_0x37d5cc,_0x58d6ae){return _0x37d5cc+_0x58d6ae;},'XYJCp':_0xdbade1(0x1ea),'qXpwo':'&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','lgBoJ':_0xdbade1(0x1fa),'sfQOX':function(_0x5cd676,_0x3eb451,_0x153eb4){return _0x5cd676(_0x3eb451,_0x153eb4);},'hcSIb':_0xdbade1(0x1c8)},_0x36283d=await NTQQUserApi[_0xdbade1(0x1fc)](),_0x30f686=_0x166dc0[_0xdbade1(0x1fe)](_0x166dc0[_0xdbade1(0x1fe)](_0x166dc0['tduCV'](_0x166dc0[_0xdbade1(0x1fe)](_0xdbade1(0x1c7)+selfInfo[_0xdbade1(0x207)],_0x166dc0[_0xdbade1(0x1ee)]),_0x36283d['clientKey']),_0x166dc0['qXpwo']),selfInfo[_0xdbade1(0x207)])+_0x166dc0[_0xdbade1(0x212)];let _0x45cf85={};try{_0x45cf85=await RequestUtil[_0xdbade1(0x20f)](_0x30f686);}catch(_0x290da7){_0x166dc0['sfQOX'](logDebug,_0x166dc0['hcSIb'],_0x290da7),_0x45cf85={};}return _0x45cf85;}static async[_0x3edc27(0x20d)](){const _0x34bf80=_0x3edc27,_0x491778={'qpoCb':function(_0x52de6f,_0x5ae569){return _0x52de6f!==_0x5ae569;},'qqTPn':function(_0x388217,_0x3d22b9){return _0x388217+_0x3d22b9;},'Zaaer':function(_0x603e15,_0x2c9569){return _0x603e15+_0x2c9569;},'ORZMA':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','awiKm':_0x34bf80(0x1ea),'LTQSr':_0x34bf80(0x1cd),'cRSMS':function(_0xe45ed3,_0x56aa8e,_0x35d432){return _0xe45ed3(_0x56aa8e,_0x35d432);},'PByem':_0x34bf80(0x201),'DOkMk':'skey'};try{const _0x2b8527=await NTQQUserApi[_0x34bf80(0x1fc)]();if(_0x491778[_0x34bf80(0x1f9)](_0x2b8527[_0x34bf80(0x1f7)],0x0))return'';const _0x1dc803=_0x2b8527[_0x34bf80(0x1d0)],_0x1e7e26=_0x2b8527[_0x34bf80(0x21d)],_0x5b9e87=_0x491778['qqTPn'](_0x491778['qqTPn'](_0x491778['qqTPn'](_0x491778['Zaaer'](_0x491778[_0x34bf80(0x1ef)],selfInfo[_0x34bf80(0x207)]),_0x491778[_0x34bf80(0x21b)]),_0x1dc803),_0x491778[_0x34bf80(0x1d3)]);let _0x114223={};try{_0x114223=await RequestUtil[_0x34bf80(0x20f)](_0x5b9e87);}catch(_0x16938f){_0x491778[_0x34bf80(0x1b8)](logDebug,_0x491778[_0x34bf80(0x204)],_0x16938f),_0x114223={};}const _0x559c11=_0x114223[_0x491778[_0x34bf80(0x214)]];if(!_0x559c11)return'';return _0x559c11;}catch(_0x305a88){}return undefined;}static async[_0x3edc27(0x1e6)](_0x5e750b){const _0x3d9761=_0x3edc27;let _0x2c0917=await NTEventDispatch[_0x3d9761(0x1f0)](_0x3d9761(0x21c),0x1388,[_0x5e750b]);return _0x2c0917[_0x3d9761(0x205)][_0x3d9761(0x202)](_0x5e750b);}static async[_0x3edc27(0x1e8)](_0x43ea91){const _0x2ec518=_0x3edc27;if(!_0x43ea91)return'';let _0xeabe62=await NTEventDispatch[_0x2ec518(0x1f0)](_0x2ec518(0x1c4),0x1388,[_0x43ea91]);return _0xeabe62[_0x2ec518(0x211)][_0x2ec518(0x202)](_0x43ea91);}static async[_0x3edc27(0x1f4)](_0x44a8c2){const _0x497e0d=_0x3edc27,_0x73d609={'vAJig':_0x497e0d(0x1df)};return NTEventDispatch['CallNoListenerEvent'](_0x73d609[_0x497e0d(0x1ce)],0x1388,_0x44a8c2);}static async['forceFetchClientKey'](){const _0x2be563=_0x3edc27;return await napCatCore[_0x2be563(0x20e)]['getTicketService']()['forceFetchClientKey']('');}}function _0x5c2c(_0x1b0d65,_0xdca3a7){const _0x5dedda=_0x5ded();return _0x5c2c=function(_0x5c2c9e,_0x236f6d){_0x5c2c9e=_0x5c2c9e-0x1b4;let _0x23b009=_0x5dedda[_0x5c2c9e];return _0x23b009;},_0x5c2c(_0x1b0d65,_0xdca3a7);}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3edc27(0x210),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3edc27(0x1de),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3edc27(0x1d6),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3edc27(0x20d),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,'ClientKey')],NTQQUserApi,_0x3edc27(0x1fc),null);