const _0x3f3fdb=_0x3d3d;(function(_0x44f957,_0x233fa3){const _0x503fdd=_0x3d3d,_0x8740f=_0x44f957();while(!![]){try{const _0x126860=-parseInt(_0x503fdd(0x18a))/0x1*(-parseInt(_0x503fdd(0x170))/0x2)+-parseInt(_0x503fdd(0x13f))/0x3*(-parseInt(_0x503fdd(0x151))/0x4)+parseInt(_0x503fdd(0x13c))/0x5+parseInt(_0x503fdd(0x17b))/0x6+parseInt(_0x503fdd(0x146))/0x7+parseInt(_0x503fdd(0x157))/0x8*(-parseInt(_0x503fdd(0x179))/0x9)+-parseInt(_0x503fdd(0x138))/0xa*(parseInt(_0x503fdd(0x13d))/0xb);if(_0x126860===_0x233fa3)break;else _0x8740f['push'](_0x8740f['shift']());}catch(_0x3f8112){_0x8740f['push'](_0x8740f['shift']());}}}(_0x2f4b,0xea5ad));var __decorate=this&&this[_0x3f3fdb(0x17e)]||function(_0x36cc82,_0x8d6ee5,_0x3384f1,_0x1724c6){const _0x53b0db=_0x3f3fdb,_0x5e5d96={'PnhFf':function(_0x8136af,_0x516015){return _0x8136af===_0x516015;},'IuErY':'function','jJpPc':function(_0x3e2461,_0x47a6d1){return _0x3e2461-_0x47a6d1;},'rfQXP':function(_0x22fe73,_0x2d8f4e){return _0x22fe73<_0x2d8f4e;},'FreTi':function(_0x2cd7e6,_0x158e96){return _0x2cd7e6(_0x158e96);},'wQbkm':function(_0x5cd535,_0x1da72a){return _0x5cd535>_0x1da72a;},'AZqcY':function(_0xa0192,_0x3d23ed,_0x33ddd5,_0x180ea7){return _0xa0192(_0x3d23ed,_0x33ddd5,_0x180ea7);},'sJEuZ':function(_0x4583b1,_0x5eb924,_0x4ff2f5){return _0x4583b1(_0x5eb924,_0x4ff2f5);}};var _0x2ec118=arguments[_0x53b0db(0x14c)],_0x1c93ba=_0x2ec118<0x3?_0x8d6ee5:_0x5e5d96[_0x53b0db(0x140)](_0x1724c6,null)?_0x1724c6=Object['getOwnPropertyDescriptor'](_0x8d6ee5,_0x3384f1):_0x1724c6,_0x11625b;if(typeof Reflect===_0x53b0db(0x160)&&_0x5e5d96[_0x53b0db(0x140)](typeof Reflect['decorate'],_0x5e5d96['IuErY']))_0x1c93ba=Reflect[_0x53b0db(0x17f)](_0x36cc82,_0x8d6ee5,_0x3384f1,_0x1724c6);else{for(var _0x4abf61=_0x5e5d96[_0x53b0db(0x15a)](_0x36cc82[_0x53b0db(0x14c)],0x1);_0x4abf61>=0x0;_0x4abf61--)if(_0x11625b=_0x36cc82[_0x4abf61])_0x1c93ba=(_0x5e5d96['rfQXP'](_0x2ec118,0x3)?_0x5e5d96[_0x53b0db(0x16c)](_0x11625b,_0x1c93ba):_0x5e5d96[_0x53b0db(0x148)](_0x2ec118,0x3)?_0x5e5d96[_0x53b0db(0x174)](_0x11625b,_0x8d6ee5,_0x3384f1,_0x1c93ba):_0x5e5d96[_0x53b0db(0x16b)](_0x11625b,_0x8d6ee5,_0x3384f1))||_0x1c93ba;}return _0x5e5d96[_0x53b0db(0x148)](_0x2ec118,0x3)&&_0x1c93ba&&Object[_0x53b0db(0x15d)](_0x8d6ee5,_0x3384f1,_0x1c93ba),_0x1c93ba;};import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';function _0x3d3d(_0x359661,_0x380961){const _0x2f4b0a=_0x2f4b();return _0x3d3d=function(_0x3d3d13,_0x9916b9){_0x3d3d13=_0x3d3d13-0x135;let _0x20fed6=_0x2f4b0a[_0x3d3d13];return _0x20fed6;},_0x3d3d(_0x359661,_0x380961);}function _0x2f4b(){const _0x1b57c7=['2256510CCRggF','1010075aZQCNH','modifySelfProfile','871338tbOmWu','PnhFf','HttpsGetCookies','kueIo','CaKRi','getPskey','clientKey','8782879mOhXBD','getPSkey','wQbkm','TutlY','uin','EjqVt','length','slkOR','forEach','getQzoneCookies','ATyqo','20mCUEjm','setLongNick','KhiSs','addListener','NodeIKernelUixConvertService/getUin','uinInfo','8ibSVjh','getClientKey\x20Error','twqyc','jJpPc','uCCXw','XKXoh','defineProperty','uidInfo','%2Finfocenter&keyindex=19%27','object','onLoginSuccess','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','getRobotService','then','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','session','result','getProfileLikeService','ocZIc','RfNBr','sJEuZ','FreTi','ASsIa','response','oRlwf','790FODeua','skey','&clientkey=','aLchq','AZqcY','setQQAvatar','Pvboe','getProfileService','%2F','5100903LtJgCL','errMsg','562500JcrgrG','CallNoListenerEvent','getUserDetailInfoWithBizInfo','__decorate','decorate','dYPKG','NodeIKernelProfileService/getUserDetailInfoByUin','getCookies','modifyDesktopMiniProfile','dPGKx','KhqOl','getUserInfo','getSelfInfo','getSkey','uid','514hkNeBe','getUinByUid','NodeIKernelUixConvertService/getUid','CqfBT','forceFetchClientKey','keyIndex','xZBvv','inAsU','pMRHJ','210RRCXoh','like','setHeader','DfCqP'];_0x2f4b=function(){return _0x1b57c7;};return _0x2f4b();}import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener['onProfileDetailInfoChanged']=_0x407320=>{const _0x4bf971=_0x3f3fdb;userInfoCache[_0x407320['uid']]=_0x407320,userDetailHandlers[_0x4bf971(0x14e)](_0x57e88f=>_0x57e88f(_0x407320));},setTimeout(()=>{const _0x5251e4=_0x3f3fdb;napCatCore[_0x5251e4(0x161)](()=>{const _0x57c5f3=_0x5251e4;napCatCore[_0x57c5f3(0x154)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x3f3fdb(0x152)](_0x4eed8e){const _0xe31a92=_0x3f3fdb;return napCatCore['session'][_0xe31a92(0x177)]()[_0xe31a92(0x152)](_0x4eed8e);}static async['setSelfOnlineStatus'](_0x2f47a0,_0x45fbd9,_0xc46fe2){const _0xbb150b=_0x3f3fdb;return napCatCore[_0xbb150b(0x166)]['getMsgService']()['setStatus']({'status':_0x2f47a0,'extStatus':_0x45fbd9,'batteryStatus':_0xc46fe2});}static async['getBuddyRecommendContactArkJson'](_0x5d9950,_0x56027b=''){const _0x3b258b=_0x3f3fdb;return napCatCore[_0x3b258b(0x166)]['getBuddyService']()['getBuddyRecommendContactArkJson'](_0x5d9950,_0x56027b);}static async[_0x3f3fdb(0x139)](_0x84772f,_0x7de4a3=0x1){const _0x1df38b=_0x3f3fdb;return napCatCore[_0x1df38b(0x166)][_0x1df38b(0x168)]()['setBuddyProfileLike']({'friendUid':_0x84772f,'sourceId':0x47,'doLikeCount':_0x7de4a3,'doLikeTollCount':0x0});}static async[_0x3f3fdb(0x175)](_0x6b1ac7){const _0x505aa3=_0x3f3fdb,_0x1f3c6a=await napCatCore[_0x505aa3(0x166)][_0x505aa3(0x177)]()[_0x505aa3(0x13a)](_0x6b1ac7);return{'result':_0x1f3c6a?.['result'],'errMsg':_0x1f3c6a?.[_0x505aa3(0x17a)]};}static async[_0x3f3fdb(0x187)](){}static async[_0x3f3fdb(0x186)](_0x504634){}static async['getUserDetailInfo'](_0x2fa524){const _0x1a07dd={'kurSA':function(_0x52b079,_0x425145){return _0x52b079===_0x425145;},'aLchq':function(_0x5490a3,_0x4c57c8){return _0x5490a3(_0x4c57c8);},'inAsU':'getUserDetailInfo\x20timeout','KhiSs':function(_0x3fe4e8){return _0x3fe4e8();}},_0x231e73=napCatCore['session']['getProfileService']();return new Promise((_0xe7b128,_0x4ccee9)=>{const _0x5cf1da=_0x3d3d,_0x1bf97f={'slkOR':function(_0x553bd5,_0x38e9ab){return _0x1a07dd['aLchq'](_0x553bd5,_0x38e9ab);},'KWOtn':_0x1a07dd[_0x5cf1da(0x136)]},_0xa35ce=_0x1a07dd[_0x5cf1da(0x153)](randomUUID);let _0xa09628=![],_0x168c48=undefined,_0x5652a4=!![];setTimeout(()=>{const _0x1aab61=_0x5cf1da;!_0xa09628&&(_0x168c48?_0xe7b128(_0x168c48):_0x1bf97f[_0x1aab61(0x14d)](_0x4ccee9,_0x1bf97f['KWOtn'])),userDetailHandlers['delete'](_0xa35ce);},0x1388),userDetailHandlers['set'](_0xa35ce,_0x2d07cf=>{const _0x4ddeac=_0x5cf1da;_0x1a07dd['kurSA'](_0x2d07cf[_0x4ddeac(0x189)],_0x2fa524)&&(_0x5652a4?(_0x168c48=_0x2d07cf,_0x5652a4=![]):(_0xa09628=!![],_0x1a07dd[_0x4ddeac(0x173)](_0xe7b128,_0x2d07cf)));}),_0x231e73[_0x5cf1da(0x17d)](_0x2fa524,[0x0])[_0x5cf1da(0x164)](_0x3478a7=>{});});}static async[_0x3f3fdb(0x13e)](_0x2d4c1e){const _0x1d4338=_0x3f3fdb;return napCatCore[_0x1d4338(0x166)][_0x1d4338(0x177)]()[_0x1d4338(0x183)](_0x2d4c1e);}static async[_0x3f3fdb(0x182)](_0x5685ae){const _0x1fe1ad=_0x3f3fdb,_0x1b1044={'xZBvv':function(_0x560065,_0x54e2ac){return _0x560065+_0x54e2ac;},'TutlY':function(_0x309c9a,_0x320a65){return _0x309c9a+_0x320a65;},'Pvboe':function(_0x16c915,_0x2b19eb){return _0x16c915+_0x2b19eb;},'oRlwf':_0x1fe1ad(0x162),'kueIo':'&clientkey=','CqfBT':'&u1=https%3A%2F%2F','dYPKG':_0x1fe1ad(0x178),'XKXoh':'%2Finfocenter&keyindex=19%27'},_0x23fde4=await NTQQUserApi['forceFetchClientKey'](),_0x45d2b8=_0x1b1044[_0x1fe1ad(0x135)](_0x1b1044[_0x1fe1ad(0x135)](_0x1b1044[_0x1fe1ad(0x135)](_0x1b1044[_0x1fe1ad(0x149)](_0x1b1044['TutlY'](_0x1b1044[_0x1fe1ad(0x176)](_0x1b1044[_0x1fe1ad(0x16f)],selfInfo[_0x1fe1ad(0x14a)]),_0x1b1044[_0x1fe1ad(0x142)])+_0x23fde4[_0x1fe1ad(0x145)],_0x1b1044[_0x1fe1ad(0x18d)]),_0x5685ae),_0x1b1044[_0x1fe1ad(0x180)]),selfInfo['uin'])+_0x1b1044[_0x1fe1ad(0x15c)];let _0x1fb835=await RequestUtil[_0x1fe1ad(0x141)](_0x45d2b8);return _0x1fb835;}static async[_0x3f3fdb(0x147)](_0x293e3a){const _0x465f61=_0x3f3fdb;return await napCatCore[_0x465f61(0x166)]['getTipOffService']()[_0x465f61(0x144)](_0x293e3a,!![]);}static async['getRobotUinRange'](){const _0x5478d6=_0x3f3fdb,_0x2bf917=await napCatCore[_0x5478d6(0x166)][_0x5478d6(0x163)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x2bf917?.[_0x5478d6(0x16e)]?.['robotUinRanges'];}static async[_0x3f3fdb(0x14f)](){const _0x1aa0b2=_0x3f3fdb,_0xa2405a={'ocZIc':function(_0x4d3c72,_0x4fe4cd){return _0x4d3c72+_0x4fe4cd;},'DfCqP':function(_0xf396b1,_0x1c2c44){return _0xf396b1+_0x1c2c44;},'dPGKx':_0x1aa0b2(0x162),'ATyqo':_0x1aa0b2(0x172),'uCCXw':_0x1aa0b2(0x165)},_0x49834d=await NTQQUserApi[_0x1aa0b2(0x18e)](),_0x224bd5=_0xa2405a[_0x1aa0b2(0x169)](_0xa2405a['ocZIc'](_0xa2405a[_0x1aa0b2(0x169)](_0xa2405a[_0x1aa0b2(0x13b)](_0xa2405a[_0x1aa0b2(0x13b)](_0xa2405a[_0x1aa0b2(0x184)],selfInfo['uin']),_0xa2405a[_0x1aa0b2(0x150)])+_0x49834d[_0x1aa0b2(0x145)],_0xa2405a[_0x1aa0b2(0x15b)]),selfInfo[_0x1aa0b2(0x14a)]),_0x1aa0b2(0x15f));let _0x550de1=await RequestUtil[_0x1aa0b2(0x141)](_0x224bd5);return _0x550de1;}static async[_0x3f3fdb(0x188)](){const _0x2151ea=_0x3f3fdb,_0x59ce3d={'CaKRi':function(_0x18b8c3,_0x3fb42c){return _0x18b8c3!==_0x3fb42c;},'ASsIa':function(_0x4fc196,_0x378603){return _0x4fc196+_0x378603;},'EjqVt':function(_0x91e0b9,_0x3ecd54){return _0x91e0b9+_0x3ecd54;},'RfNBr':_0x2151ea(0x162),'pMRHJ':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','bvcbx':_0x2151ea(0x171),'twqyc':'getSkey\x20Skey\x20is\x20Empty'},_0x4bc89a=await NTQQUserApi[_0x2151ea(0x18e)]();if(_0x59ce3d[_0x2151ea(0x143)](_0x4bc89a[_0x2151ea(0x167)],0x0))throw new Error(_0x2151ea(0x158));const _0xd84d70=_0x4bc89a[_0x2151ea(0x145)],_0x1662d7=_0x4bc89a[_0x2151ea(0x18f)],_0x479f0e=_0x59ce3d[_0x2151ea(0x16d)](_0x59ce3d[_0x2151ea(0x14b)](_0x59ce3d[_0x2151ea(0x16a)]+selfInfo['uin'],_0x2151ea(0x172)),_0xd84d70)+_0x59ce3d[_0x2151ea(0x137)];let _0x510eb1=await RequestUtil[_0x2151ea(0x141)](_0x479f0e);const _0xbaf078=_0x510eb1[_0x59ce3d['bvcbx']];if(!_0xbaf078)throw new Error(_0x59ce3d[_0x2151ea(0x159)]);return _0xbaf078;}static async['getUidByUin'](_0x787606){const _0x4d7209=_0x3f3fdb;let _0x14f54e=await NTEventDispatch[_0x4d7209(0x17c)](_0x4d7209(0x18c),0x1388,[_0x787606]);return _0x14f54e[_0x4d7209(0x15e)]['get'](_0x787606);}static async[_0x3f3fdb(0x18b)](_0x240e6e){const _0x327e0b=_0x3f3fdb,_0x3a629e={'KhqOl':_0x327e0b(0x155)};if(!_0x240e6e)return'';let _0x5901f2=await NTEventDispatch[_0x327e0b(0x17c)](_0x3a629e[_0x327e0b(0x185)],0x1388,[_0x240e6e]);return _0x5901f2[_0x327e0b(0x156)]['get'](_0x240e6e);}static async['getUserDetailInfoByUin'](_0x3c9188){const _0x230239=_0x3f3fdb,_0x3ede8f={'mQneX':_0x230239(0x181)};return NTEventDispatch[_0x230239(0x17c)](_0x3ede8f['mQneX'],0x1388,_0x3c9188);}static async['forceFetchClientKey'](){const _0x46b954=_0x3f3fdb;return await napCatCore[_0x46b954(0x166)]['getTicketService']()[_0x46b954(0x18e)]('');}}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getCookies',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3f3fdb(0x147),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x3f3fdb(0x14f),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getSkey',null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,'ClientKey')],NTQQUserApi,_0x3f3fdb(0x18e),null);