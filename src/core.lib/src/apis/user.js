const _0x4a86f1=_0x5532;function _0x5532(_0x4db42e,_0x3ea30c){const _0x43cee9=_0x43ce();return _0x5532=function(_0x5532e8,_0x5489bd){_0x5532e8=_0x5532e8-0x17a;let _0xb06299=_0x43cee9[_0x5532e8];return _0xb06299;},_0x5532(_0x4db42e,_0x3ea30c);}(function(_0x16a4a6,_0x424928){const _0x272e65=_0x5532,_0x1329cc=_0x16a4a6();while(!![]){try{const _0x5ddb57=parseInt(_0x272e65(0x182))/0x1*(-parseInt(_0x272e65(0x196))/0x2)+-parseInt(_0x272e65(0x1b0))/0x3*(parseInt(_0x272e65(0x1bb))/0x4)+parseInt(_0x272e65(0x1a5))/0x5+parseInt(_0x272e65(0x185))/0x6+parseInt(_0x272e65(0x18e))/0x7*(parseInt(_0x272e65(0x18b))/0x8)+-parseInt(_0x272e65(0x18f))/0x9*(parseInt(_0x272e65(0x18c))/0xa)+-parseInt(_0x272e65(0x195))/0xb*(parseInt(_0x272e65(0x1a4))/0xc);if(_0x5ddb57===_0x424928)break;else _0x1329cc['push'](_0x1329cc['shift']());}catch(_0x1aa8ed){_0x1329cc['push'](_0x1329cc['shift']());}}}(_0x43ce,0x80e3e));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x43ce(){const _0x18907a=['NxHAO','result','eGHut','getUserDetailInfo','now','PskeyData','robotUinRanges','18708PYvqkr','Skey','forEach','errMsg','getProfileService','getProfileLikeService','Ogmua','setHeader','getRobotUinRange','skey','ESDPG','forceFetchClientKey','jBxsc','FLKEN','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','478777lIodLC','获取Pskey失败','getTipOffService','5783346DkgKoE','then','opWfK','zMdQy','like','cnQvU','1168VFNUPC','3182690FbfNKS','session','44849ZTaByw','18cdldBh','uin','getSelfInfo','brhIO','getUserDetailInfo\x20timeout','clientKey','132AvuHiG','4BtrCfz','FGIzw','PAUTb','&clientkey=','setQQAvatar','push','entries','hpHDZ','getMsgService','delete','jQliS','PskeyTime','uid','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','95772VgbWzy','2293975QXwYub','setBuddyProfileLike','XLgIh','setSelfOnlineStatus','set','keyIndex','mLqqr','getSkey','CreatTime','get','assign','90pQDnbt','onProfileDetailInfoChanged','fromEntries','yFjIA'];_0x43ce=function(){return _0x18907a;};return _0x43ce();}import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x4a86f1(0x1b1)]=_0x3fde08=>{const _0x13a3e9=_0x4a86f1;userInfoCache[_0x3fde08[_0x13a3e9(0x1a2)]]=_0x3fde08,userDetailHandlers[_0x13a3e9(0x1bd)](_0x51276c=>_0x51276c(_0x3fde08));},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async[_0x4a86f1(0x1a8)](_0x6c7cb5,_0x3f0c9f,_0x584a12){const _0x497a66=_0x4a86f1;return napCatCore[_0x497a66(0x18d)][_0x497a66(0x19e)]()['setStatus']({'status':_0x6c7cb5,'extStatus':_0x3f0c9f,'batteryStatus':_0x584a12});}static async[_0x4a86f1(0x189)](_0x544753,_0x2b9f0e=0x1){const _0x1269b5=_0x4a86f1;return napCatCore['session'][_0x1269b5(0x1c0)]()[_0x1269b5(0x1a6)]({'friendUid':_0x544753,'sourceId':0x47,'doLikeCount':_0x2b9f0e,'doLikeTollCount':0x0});}static async[_0x4a86f1(0x19a)](_0x68de97){const _0x5e65b9=_0x4a86f1,_0x3ab1f5=napCatCore[_0x5e65b9(0x18d)][_0x5e65b9(0x1bf)]()[_0x5e65b9(0x17a)](_0x68de97);return{'result':_0x3ab1f5?.[_0x5e65b9(0x1b5)],'errMsg':_0x3ab1f5?.[_0x5e65b9(0x1be)]};}static async[_0x4a86f1(0x191)](){}static async['getUserInfo'](_0xa23738){}static async[_0x4a86f1(0x1b7)](_0x18ec06){const _0x129160=_0x4a86f1,_0x293cc2={'ESDPG':function(_0x25acb0,_0x218aae){return _0x25acb0(_0x218aae);},'gdZTX':_0x129160(0x193),'ejQtI':function(_0x20381d,_0xd96ec1){return _0x20381d===_0xd96ec1;},'Ogmua':function(_0x83230c){return _0x83230c();},'mLqqr':function(_0x3567e4,_0x8cbe73,_0x434cba){return _0x3567e4(_0x8cbe73,_0x434cba);}},_0x1d18a7=napCatCore['session'][_0x129160(0x1bf)]();return new Promise((_0x1a4200,_0xff48b)=>{const _0x29690a=_0x129160,_0x2b1b86={'yFjIA':function(_0xd490e2,_0x51ea96){const _0x201b67=_0x5532;return _0x293cc2[_0x201b67(0x17d)](_0xd490e2,_0x51ea96);},'brhIO':_0x293cc2['gdZTX'],'xhIRp':function(_0x2eb598,_0x4a67be){return _0x293cc2['ejQtI'](_0x2eb598,_0x4a67be);}},_0x560779=_0x293cc2[_0x29690a(0x1c1)](randomUUID);let _0x154e00=![];_0x293cc2[_0x29690a(0x1ab)](setTimeout,()=>{const _0x546e4d=_0x29690a;!_0x154e00&&_0x2b1b86[_0x546e4d(0x1b3)](_0xff48b,_0x2b1b86[_0x546e4d(0x192)]);},0x1388),userDetailHandlers[_0x29690a(0x1a9)](_0x560779,_0x5465a7=>{const _0x279454=_0x29690a;_0x2b1b86['xhIRp'](_0x5465a7[_0x279454(0x1a2)],_0x18ec06)&&(_0x154e00=!![],userDetailHandlers[_0x279454(0x19f)](_0x560779),_0x2b1b86[_0x279454(0x1b3)](_0x1a4200,_0x5465a7));}),_0x1d18a7['getUserDetailInfoWithBizInfo'](_0x18ec06,[0x0])[_0x29690a(0x186)](_0x17aab7=>{});});}static async['getPSkey'](_0x3a46c0,_0x2115e7=!![]){const _0x3540e5=_0x4a86f1,_0x3e48d2={'jQliS':function(_0x5dccf4,_0x4a9cde){return _0x5dccf4>_0x4a9cde;},'hpHDZ':function(_0x3f28a2,_0x421c50){return _0x3f28a2-_0x421c50;},'cnQvU':function(_0x48f212,_0x198f8f){return _0x48f212===_0x198f8f;},'KMUdw':function(_0x121738,_0x5a1ce7,_0x44630e){return _0x121738(_0x5a1ce7,_0x44630e);},'FLKEN':_0x3540e5(0x183)};let _0x2755ad=[],_0x29f2d6={};for(let _0x2ca3ca in _0x3a46c0){let _0x4fbcf7=Credentials['PskeyData'][_0x3540e5(0x1ae)](_0x3a46c0[_0x2ca3ca]),_0x406e47=Credentials[_0x3540e5(0x1a1)]['get'](_0x3a46c0[_0x2ca3ca]);!_0x4fbcf7||!_0x406e47||_0x3e48d2[_0x3540e5(0x1a0)](_0x3e48d2[_0x3540e5(0x19d)](Date[_0x3540e5(0x1b8)](),_0x406e47),0x708*0x3e8)||!_0x2115e7?_0x2755ad[_0x3540e5(0x19b)](_0x3a46c0[_0x2ca3ca]):_0x29f2d6[_0x3a46c0[_0x2ca3ca]]=_0x4fbcf7;}let _0x14d62f={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x3e48d2['jQliS'](_0x2755ad['length'],0x0)&&(_0x14d62f=await napCatCore['session'][_0x3540e5(0x184)]()['getPskey'](_0x2755ad,!![]));let _0x138fc8=_0x14d62f['domainPskeyMap'];for(let _0x324807 of _0x138fc8[_0x3540e5(0x19c)]()){Credentials[_0x3540e5(0x1b9)][_0x3540e5(0x1a9)](_0x324807[0x0],_0x324807[0x1]),Credentials['PskeyTime'][_0x3540e5(0x1a9)](_0x324807[0x0],Date[_0x3540e5(0x1b8)]());}let _0x15bdbe=Object[_0x3540e5(0x1af)](Object[_0x3540e5(0x1b2)](_0x138fc8),_0x29f2d6);if(_0x3e48d2[_0x3540e5(0x18a)](_0x14d62f['result'],0x0))return _0x15bdbe;else _0x3e48d2['KMUdw'](logError,_0x3e48d2[_0x3540e5(0x180)],_0x14d62f[_0x3540e5(0x1be)]);return{};}static async[_0x4a86f1(0x17b)](){const _0x3ec935=_0x4a86f1,_0x546d3d=await napCatCore[_0x3ec935(0x18d)]['getRobotService']()[_0x3ec935(0x17b)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x546d3d?.['response']?.[_0x3ec935(0x1ba)];}static async[_0x4a86f1(0x1ac)](_0x4dc4ec=!![]){const _0x3533ef=_0x4a86f1,_0x50d351={'jBxsc':function(_0x265ceb,_0x1bd0ce){return _0x265ceb==_0x1bd0ce;},'FGIzw':function(_0x1cf89f,_0x1def26){return _0x1cf89f>_0x1def26;},'GIRXX':function(_0x19b145,_0x32e470){return _0x19b145-_0x32e470;},'IzLfG':function(_0x53c70d,_0x500fe4){return _0x53c70d*_0x500fe4;},'zMdQy':function(_0x40b81f,_0x1f6544){return _0x40b81f!==_0x1f6544;},'eGHut':function(_0x4ab1a9,_0x9c1bc5){return _0x4ab1a9+_0x9c1bc5;},'NxHAO':function(_0x507100,_0x85c260){return _0x507100+_0x85c260;},'efIEA':function(_0x1c1cc6,_0x47ac0b){return _0x1c1cc6+_0x47ac0b;},'opWfK':_0x3533ef(0x1a3),'PAUTb':function(_0x5b97d1,_0x39d155){return _0x5b97d1(_0x39d155);},'XLgIh':_0x3533ef(0x17c)};try{if(_0x50d351[_0x3533ef(0x17f)](Credentials[_0x3533ef(0x1ad)],0x0)||_0x50d351[_0x3533ef(0x197)](_0x50d351['GIRXX'](Date['now'](),Credentials[_0x3533ef(0x1ad)]),_0x50d351['IzLfG'](0x3e8,0xe10))||!_0x4dc4ec){const _0x5d2598=await napCatCore[_0x3533ef(0x18d)]['getTicketService']()[_0x3533ef(0x17e)]('');if(_0x50d351[_0x3533ef(0x188)](_0x5d2598[_0x3533ef(0x1b5)],0x0))return'';const _0x3b41d0=_0x5d2598[_0x3533ef(0x194)],_0x2a1eb5=_0x5d2598[_0x3533ef(0x1aa)],_0x4adf7d=_0x50d351[_0x3533ef(0x1b6)](_0x50d351[_0x3533ef(0x1b4)](_0x50d351[_0x3533ef(0x1b4)](_0x50d351['efIEA'](_0x50d351[_0x3533ef(0x1b6)](_0x3533ef(0x181),selfInfo[_0x3533ef(0x190)]),_0x3533ef(0x199)),_0x3b41d0),_0x50d351[_0x3533ef(0x187)]),_0x2a1eb5),_0x4265d3=await _0x50d351[_0x3533ef(0x198)](HttpGetCookies,_0x4adf7d),_0x49c996=_0x4265d3[_0x3533ef(0x1ae)](_0x50d351[_0x3533ef(0x1a7)]);if(!_0x49c996)return'';return Credentials['CreatTime']=Date['now'](),Credentials[_0x3533ef(0x1bc)]=_0x49c996,_0x49c996;}return Credentials[_0x3533ef(0x1bc)];}catch(_0x298884){}return undefined;}}