const _0x51104c=_0x27f5;(function(_0x44b6bc,_0x208413){const _0x49c21f=_0x27f5,_0x153a86=_0x44b6bc();while(!![]){try{const _0x32300a=parseInt(_0x49c21f(0x84))/0x1+parseInt(_0x49c21f(0x8c))/0x2*(-parseInt(_0x49c21f(0x7f))/0x3)+-parseInt(_0x49c21f(0x96))/0x4+-parseInt(_0x49c21f(0x93))/0x5+-parseInt(_0x49c21f(0x90))/0x6*(-parseInt(_0x49c21f(0x80))/0x7)+-parseInt(_0x49c21f(0x81))/0x8*(-parseInt(_0x49c21f(0x7c))/0x9)+-parseInt(_0x49c21f(0x9e))/0xa*(-parseInt(_0x49c21f(0xa9))/0xb);if(_0x32300a===_0x208413)break;else _0x153a86['push'](_0x153a86['shift']());}catch(_0x1bc7a9){_0x153a86['push'](_0x153a86['shift']());}}}(_0x3e7b,0xb3519));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{HttpGetWithCookies}from'../../../common/utils/request';function _0x3e7b(){const _0x5bfa85=['setStatus','getTipOffService','tRzeD','TyQtc','&clientkey=','getRobotService','setBuddyProfileLike','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','keyIndex','1062eoUTwC','result','getPSkey','3GayIje','225190oBSaru','49592UvZMbD','setHeader','getSelfInfo','863889XyAieH','response','uin','setQQAvatar','CreatTime','TBbtX','then','forEach','933886OSAzaJ','HoqZq','onLoginSuccess','fromEntries','6VsHlzc','like','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','2055685thmsyr','getTicketService','session','5357072UsDgLU','getProfileService','getPskey','YutcM','HQxce','getSkey','robotUinRanges','onProfileDetailInfoChanged','1471440XaZAml','getUserDetailInfo','Skey','dpcfy','hIMGK','now','getProfileLikeService','clientKey','rFdQd','delete','RdrBs','99OYnCSd','setSelfOnlineStatus'];_0x3e7b=function(){return _0x5bfa85;};return _0x3e7b();}const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x51104c(0x9d)]=_0x3575d2=>{const _0x874d62=_0x51104c;userInfoCache[_0x3575d2['uid']]=_0x3575d2,userDetailHandlers[_0x874d62(0x8b)](_0x1e44ed=>_0x1e44ed(_0x3575d2));},setTimeout(()=>{const _0x301dab=_0x51104c;napCatCore[_0x301dab(0x8e)](()=>{napCatCore['addListener'](profileListener);});},0x64);function _0x27f5(_0x5316e6,_0x31e557){const _0x3e7b02=_0x3e7b();return _0x27f5=function(_0x27f57a,_0x37b04c){_0x27f57a=_0x27f57a-0x76;let _0x28a887=_0x3e7b02[_0x27f57a];return _0x28a887;},_0x27f5(_0x5316e6,_0x31e557);}export class NTQQUserApi{static async[_0x51104c(0xaa)](_0x42fd10,_0x414f20,_0x2b8948){const _0x29587c=_0x51104c;return napCatCore[_0x29587c(0x95)]['getMsgService']()[_0x29587c(0xab)]({'status':_0x42fd10,'extStatus':_0x414f20,'batteryStatus':_0x2b8948});}static async[_0x51104c(0x91)](_0x26895f,_0x339b5b=0x1){const _0x298210=_0x51104c;return napCatCore[_0x298210(0x95)][_0x298210(0xa4)]()[_0x298210(0x79)]({'friendUid':_0x26895f,'sourceId':0x47,'doLikeCount':_0x339b5b,'doLikeTollCount':0x0});}static async[_0x51104c(0x87)](_0x2c10d7){const _0x5cabad=_0x51104c,_0x2a4cb5=napCatCore[_0x5cabad(0x95)][_0x5cabad(0x97)]()[_0x5cabad(0x82)](_0x2c10d7);return{'result':_0x2a4cb5?.[_0x5cabad(0x7d)],'errMsg':_0x2a4cb5?.['errMsg']};}static async[_0x51104c(0x83)](){}static async['getUserInfo'](_0x52394b){}static async[_0x51104c(0x9f)](_0x54aec6){const _0x5271b8=_0x51104c,_0x513353={'aaXIL':function(_0x3398a4,_0x53ad95){return _0x3398a4===_0x53ad95;},'HQxce':function(_0x4f389d,_0xddc33a){return _0x4f389d(_0xddc33a);},'jXOUi':function(_0x7ce25d,_0x3a54eb,_0x3a3ec0){return _0x7ce25d(_0x3a54eb,_0x3a3ec0);}},_0x1b615f=napCatCore['session'][_0x5271b8(0x97)]();return new Promise((_0xfe7ead,_0x2d7995)=>{const _0x46a5c8=_0x5271b8,_0x36351f={'tRzeD':function(_0x48e749,_0x29ff1f){const _0x5a634a=_0x27f5;return _0x513353[_0x5a634a(0x9a)](_0x48e749,_0x29ff1f);}},_0xf9e47f=randomUUID();let _0x1dbd8b=![];_0x513353['jXOUi'](setTimeout,()=>{const _0x202ea5=_0x27f5;!_0x1dbd8b&&_0x36351f[_0x202ea5(0xad)](_0x2d7995,'getUserDetailInfo\x20timeout');},0x1388),userDetailHandlers['set'](_0xf9e47f,_0x266ac3=>{const _0x21b7ae=_0x27f5;_0x513353['aaXIL'](_0x266ac3['uid'],_0x54aec6)&&(_0x1dbd8b=!![],userDetailHandlers[_0x21b7ae(0xa7)](_0xf9e47f),_0x513353[_0x21b7ae(0x9a)](_0xfe7ead,_0x266ac3));}),_0x1b615f['getUserDetailInfoWithBizInfo'](_0x54aec6,[0x0])[_0x46a5c8(0x8a)](_0x2068fa=>{});});}static async[_0x51104c(0x7e)](_0x368fff){const _0x2741eb=_0x51104c,_0x575eb7={'rFdQd':function(_0x53102b,_0x28ce9d){return _0x53102b===_0x28ce9d;}},_0x2d406d=await napCatCore[_0x2741eb(0x95)][_0x2741eb(0xac)]()[_0x2741eb(0x98)](_0x368fff,!![]);if(_0x575eb7[_0x2741eb(0xa6)](_0x2d406d[_0x2741eb(0x7d)],0x0)){const _0x31e484=_0x2d406d['domainPskeyMap'];return Object[_0x2741eb(0x8f)](_0x31e484);}return{};}static async['getRobotUinRange'](){const _0x23c7c1=_0x51104c,_0x501eab=await napCatCore[_0x23c7c1(0x95)][_0x23c7c1(0x78)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x501eab?.[_0x23c7c1(0x85)]?.[_0x23c7c1(0x9c)];}static async[_0x51104c(0x9b)](){const _0x44564c=_0x51104c,_0x2b7d26={'YutcM':function(_0x39be80,_0x2ba8c7){return _0x39be80==_0x2ba8c7;},'RdrBs':function(_0x5187a6,_0x3d238d){return _0x5187a6>_0x3d238d;},'TBbtX':function(_0xfc6257,_0x50e449){return _0xfc6257*_0x50e449;},'dpcfy':function(_0x1c618a,_0x1521f7){return _0x1c618a!==_0x1521f7;},'hIMGK':function(_0x3e777d,_0x4ed21b){return _0x3e777d+_0x4ed21b;},'TyQtc':function(_0x487ad6,_0x5940d0){return _0x487ad6(_0x5940d0);},'HoqZq':'skey'};try{if(_0x2b7d26[_0x44564c(0x99)](Credentials[_0x44564c(0x88)],0x0)||_0x2b7d26[_0x44564c(0xa8)](Date[_0x44564c(0xa3)]()-Credentials[_0x44564c(0x88)],_0x2b7d26[_0x44564c(0x89)](0x3e8,0xe10))){const _0x288784=await napCatCore[_0x44564c(0x95)][_0x44564c(0x94)]()['forceFetchClientKey']('');if(_0x2b7d26[_0x44564c(0xa1)](_0x288784['result'],0x0))return'';const _0x313ef4=_0x288784[_0x44564c(0xa5)],_0x27c059=_0x288784[_0x44564c(0x7b)],_0x4ddd1c=_0x2b7d26[_0x44564c(0xa2)](_0x2b7d26[_0x44564c(0xa2)](_0x2b7d26['hIMGK'](_0x44564c(0x92),selfInfo[_0x44564c(0x86)]),_0x44564c(0x77))+_0x313ef4,_0x44564c(0x7a))+_0x27c059,_0x8bf6=await _0x2b7d26[_0x44564c(0x76)](HttpGetWithCookies,_0x4ddd1c);let _0x301969=_0x8bf6['get'](_0x2b7d26[_0x44564c(0x8d)]);if(!_0x301969)return'';return Credentials[_0x44564c(0x88)]=Date['now'](),Credentials[_0x44564c(0xa0)]=_0x301969,_0x301969;}return Credentials[_0x44564c(0xa0)];}catch(_0x146e81){}return undefined;}}