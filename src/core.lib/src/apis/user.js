function _0x5802(_0x15e69b,_0x1ce3c3){const _0x3d0966=_0x3d09();return _0x5802=function(_0x58024a,_0x573aa0){_0x58024a=_0x58024a-0xdb;let _0x395c64=_0x3d0966[_0x58024a];return _0x395c64;},_0x5802(_0x15e69b,_0x1ce3c3);}function _0x3d09(){const _0x217a2b=['forceFetchClientKey','get','HttpsGetCookies','gNayy','Xqojt','wkdNj','polDB','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','length','like','result','response','getRobotUinRange','getUserDetailInfo','GcWrd','2138MPxpjx','setQQAvatar','keyIndex','getProfileLikeService','16SjfPMj','session','CBDDf','delete','Skey','请求获取Skey时失败','2819802HvnKrd','setBuddyProfileLike','uid','qfOXW','domainPskeyMap','5465710JJwydJ','KeyIndex','EdQUF','getRobotService','请求获取Cookies时失败','getUserDetailInfoWithBizInfo','LrvLm','XBoZc','CreatTime','PskeyTime','now','YLXbj','getPskey','kGxYm','DKBFp','SwRok','addListener','getPSkey','2062224ocwxmN','forEach','getSelfInfo','push','getUserInfo','PskeyData','486825hxQrgQ','errMsg','setHeader','onLoginSuccess','42wgfSXX','709152XZeuqP','set','oQYsw','IIdvc','fromEntries','getMsgService','setStatus','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','getQzoneCookies','ClientKey','获取Pskey失败','entries','SFqPj','50TXtjYk','uin','getTicketService','Ksfrl','7642593avkVtT','getSkey','getUserDetailInfo\x20timeout'];_0x3d09=function(){return _0x217a2b;};return _0x3d09();}const _0x395722=_0x5802;(function(_0x357c6a,_0x413646){const _0xe2e226=_0x5802,_0x3a274e=_0x357c6a();while(!![]){try{const _0x35f28b=parseInt(_0xe2e226(0x100))/0x1*(parseInt(_0xe2e226(0xea))/0x2)+-parseInt(_0xe2e226(0x121))/0x3+parseInt(_0xe2e226(0x104))/0x4*(parseInt(_0xe2e226(0x127))/0x5)+parseInt(_0xe2e226(0x10a))/0x6+-parseInt(_0xe2e226(0xdc))/0x7*(-parseInt(_0xe2e226(0xdd))/0x8)+-parseInt(_0xe2e226(0xee))/0x9+parseInt(_0xe2e226(0x10f))/0xa;if(_0x35f28b===_0x413646)break;else _0x3a274e['push'](_0x3a274e['shift']());}catch(_0x493338){_0x3a274e['push'](_0x3a274e['shift']());}}}(_0x3d09,0x6f047));import{Credentials,selfInfo,uid2UinMap}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener['onProfileDetailInfoChanged']=_0x5d5217=>{const _0x2bff1c=_0x5802;userInfoCache[_0x5d5217[_0x2bff1c(0x10c)]]=_0x5d5217,userDetailHandlers[_0x2bff1c(0x122)](_0x2667f7=>_0x2667f7(_0x5d5217));},setTimeout(()=>{const _0x5731d3=_0x5802;napCatCore[_0x5731d3(0xdb)](()=>{const _0x11beb7=_0x5731d3;napCatCore[_0x11beb7(0x11f)](profileListener);});},0x64);export class NTQQUserApi{static async['setSelfOnlineStatus'](_0x14eb2f,_0x50a07c,_0x3b308e){const _0x5addfb=_0x5802;return napCatCore[_0x5addfb(0x105)][_0x5addfb(0xe2)]()[_0x5addfb(0xe3)]({'status':_0x14eb2f,'extStatus':_0x50a07c,'batteryStatus':_0x3b308e});}static async[_0x395722(0xfa)](_0x30cb5d,_0x4255f8=0x1){const _0xc07d3e=_0x395722;return napCatCore[_0xc07d3e(0x105)][_0xc07d3e(0x103)]()[_0xc07d3e(0x10b)]({'friendUid':_0x30cb5d,'sourceId':0x47,'doLikeCount':_0x4255f8,'doLikeTollCount':0x0});}static async[_0x395722(0x101)](_0x5224cb){const _0x45e41e=_0x395722,_0x10cf4c=napCatCore[_0x45e41e(0x105)]['getProfileService']()[_0x45e41e(0x129)](_0x5224cb);return{'result':_0x10cf4c?.[_0x45e41e(0xfb)],'errMsg':_0x10cf4c?.['errMsg']};}static async[_0x395722(0x123)](){}static async[_0x395722(0x125)](_0x58717c){}static async[_0x395722(0xfe)](_0x12c4d5){const _0x33b41b=_0x395722,_0x4a8d9d={'Xeixd':function(_0x4d1597,_0x4085e7){return _0x4d1597===_0x4085e7;},'qfOXW':function(_0x4337a7,_0x50c913){return _0x4337a7(_0x50c913);},'BevCJ':_0x33b41b(0xf0),'IIdvc':function(_0x5e12ae,_0x2c9a39,_0x19be93){return _0x5e12ae(_0x2c9a39,_0x19be93);}},_0x370aa9=napCatCore['session']['getProfileService']();return new Promise((_0x275b6e,_0x10e79c)=>{const _0x1db64e=_0x33b41b,_0x503528={'gNayy':function(_0x1f30c1,_0x382565){return _0x1f30c1(_0x382565);},'Ksfrl':_0x4a8d9d['BevCJ']},_0x1a0333=randomUUID();let _0x4a04fe=![],_0x412ee2=undefined,_0x2c186c=!![];_0x4a8d9d[_0x1db64e(0xe0)](setTimeout,()=>{const _0x15c0ef=_0x1db64e;!_0x4a04fe&&(_0x412ee2?_0x503528[_0x15c0ef(0xf4)](_0x275b6e,_0x412ee2):_0x10e79c(_0x503528[_0x15c0ef(0xed)])),userDetailHandlers[_0x15c0ef(0x107)](_0x1a0333);},0x1388),userDetailHandlers[_0x1db64e(0xde)](_0x1a0333,_0x1ec86a=>{const _0x230b9e=_0x1db64e;_0x4a8d9d['Xeixd'](_0x1ec86a[_0x230b9e(0x10c)],_0x12c4d5)&&(uid2UinMap[_0x12c4d5]=_0x1ec86a[_0x230b9e(0xeb)],_0x2c186c?(_0x412ee2=_0x1ec86a,_0x2c186c=![]):(_0x4a04fe=!![],_0x4a8d9d[_0x230b9e(0x10d)](_0x275b6e,_0x1ec86a)));}),_0x370aa9[_0x1db64e(0x114)](_0x12c4d5,[0x0])['then'](_0x2f3841=>{});});}static async[_0x395722(0x120)](_0xbf2eb6,_0xf54920=!![]){const _0x593a72=_0x395722,_0x4d8f10={'Bgyek':function(_0x17bf6b,_0x31a930){return _0x17bf6b>_0x31a930;},'kGxYm':function(_0x1735bb,_0x49c9e2){return _0x1735bb-_0x49c9e2;},'oQYsw':function(_0x30f7fd,_0x595ce6){return _0x30f7fd*_0x595ce6;},'SFqPj':function(_0x30301b,_0x216fb8){return _0x30301b===_0x216fb8;},'iPgOn':function(_0x4f2fb6,_0x293230,_0x83fe47){return _0x4f2fb6(_0x293230,_0x83fe47);},'Xqojt':_0x593a72(0xe7)},_0x5d6806=[],_0x5926f5={};for(const _0x149ef4 in _0xbf2eb6){const _0x5825df=Credentials['PskeyData'][_0x593a72(0xf2)](_0xbf2eb6[_0x149ef4]),_0x3e97c0=Credentials['PskeyTime'][_0x593a72(0xf2)](_0xbf2eb6[_0x149ef4]);!_0x5825df||!_0x3e97c0||_0x4d8f10['Bgyek'](_0x4d8f10[_0x593a72(0x11c)](Date[_0x593a72(0x119)](),_0x3e97c0),_0x4d8f10[_0x593a72(0xdf)](0x708,0x3e8))||!_0xf54920?_0x5d6806[_0x593a72(0x124)](_0xbf2eb6[_0x149ef4]):_0x5926f5[_0xbf2eb6[_0x149ef4]]=_0x5825df;}let _0x47ffa8={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x5d6806[_0x593a72(0xf9)]>0x0&&(_0x47ffa8=await napCatCore[_0x593a72(0x105)]['getTipOffService']()[_0x593a72(0x11b)](_0x5d6806,!![]));const _0x2c161e=_0x47ffa8[_0x593a72(0x10e)];for(const _0x5c5376 of _0x2c161e[_0x593a72(0xe8)]()){Credentials[_0x593a72(0x126)][_0x593a72(0xde)](_0x5c5376[0x0],_0x5c5376[0x1]),Credentials[_0x593a72(0x118)][_0x593a72(0xde)](_0x5c5376[0x0],Date[_0x593a72(0x119)]());}const _0x259218=Object['assign'](Object[_0x593a72(0xe1)](_0x2c161e),_0x5926f5);if(_0x4d8f10[_0x593a72(0xe9)](_0x47ffa8[_0x593a72(0xfb)],0x0))return _0x259218;else _0x4d8f10['iPgOn'](logError,_0x4d8f10[_0x593a72(0xf5)],_0x47ffa8[_0x593a72(0x128)]);return{};}static async['getRobotUinRange'](){const _0x164c4c=_0x395722,_0x5ab458=await napCatCore['session'][_0x164c4c(0x112)]()[_0x164c4c(0xfd)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x5ab458?.[_0x164c4c(0xfc)]?.['robotUinRanges'];}static async[_0x395722(0xe5)](){const _0x2ef709=_0x395722,_0x4c20bb={'SwRok':function(_0x53b4ee,_0xa1c3f9){return _0x53b4ee+_0xa1c3f9;},'YLXbj':function(_0x1fdd8f,_0x2afa19){return _0x1fdd8f+_0x2afa19;},'LrvLm':function(_0x287fd4,_0x1da909){return _0x287fd4+_0x1da909;},'Xyaku':_0x2ef709(0xe4),'CBDDf':'&clientkey=','tZhEc':_0x2ef709(0xf8),'EdQUF':function(_0x46d817,_0x5d1755,_0x6183a8){return _0x46d817(_0x5d1755,_0x6183a8);},'GcWrd':_0x2ef709(0x113)},_0x39c88e=_0x4c20bb[_0x2ef709(0x11e)](_0x4c20bb[_0x2ef709(0x11a)](_0x4c20bb[_0x2ef709(0x115)](_0x4c20bb[_0x2ef709(0x11a)](_0x4c20bb[_0x2ef709(0x11e)](_0x4c20bb['Xyaku']+selfInfo['uin'],_0x4c20bb[_0x2ef709(0x106)]),Credentials['ClientKey']),_0x4c20bb['tZhEc']),selfInfo[_0x2ef709(0xeb)]),'%2Finfocenter&keyindex=19%27');let _0x244d66={};try{_0x244d66=await RequestUtil[_0x2ef709(0xf3)](_0x39c88e);}catch(_0x37026b){_0x4c20bb[_0x2ef709(0x111)](logDebug,_0x4c20bb[_0x2ef709(0xff)],_0x37026b),_0x244d66={};}return _0x244d66;}static async[_0x395722(0xef)](_0x4a3110=!![]){const _0x45fc65=_0x395722,_0x5702e0={'KBmhU':function(_0x4802ff,_0x3f32cc){return _0x4802ff==_0x3f32cc;},'BsorH':function(_0x44ff9c,_0x2dbb85){return _0x44ff9c-_0x2dbb85;},'GLzYF':function(_0x4ac553,_0x523c25){return _0x4ac553*_0x523c25;},'polDB':function(_0x285fa5,_0xf5035e){return _0x285fa5+_0xf5035e;},'DKBFp':function(_0x4e73e7,_0x5e1877){return _0x4e73e7+_0x5e1877;},'wkdNj':function(_0x5173d7,_0x5c3db4){return _0x5173d7+_0x5c3db4;},'ILOij':function(_0x1f3b13,_0x50638e){return _0x1f3b13+_0x50638e;},'XBoZc':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','hoSJc':function(_0x57948f,_0x469c61,_0x19823a){return _0x57948f(_0x469c61,_0x19823a);},'ekrfZ':_0x45fc65(0x109),'oisJE':'skey'};try{if(_0x5702e0['KBmhU'](Credentials[_0x45fc65(0x117)],0x0)||_0x5702e0['BsorH'](Date[_0x45fc65(0x119)](),Credentials[_0x45fc65(0x117)])>_0x5702e0['GLzYF'](0x3e8,0xe10)||!_0x4a3110){const _0x546168=await napCatCore[_0x45fc65(0x105)][_0x45fc65(0xec)]()[_0x45fc65(0xf1)]('');if(_0x546168[_0x45fc65(0xfb)]!==0x0)return'';const _0x150656=_0x546168['clientKey'],_0x47355a=_0x546168[_0x45fc65(0x102)],_0x3b116e=_0x5702e0[_0x45fc65(0xf7)](_0x5702e0[_0x45fc65(0x11d)](_0x5702e0[_0x45fc65(0xf6)](_0x5702e0['ILOij'](_0x45fc65(0xe4),selfInfo[_0x45fc65(0xeb)])+'&clientkey=',_0x150656),_0x5702e0[_0x45fc65(0x116)]),_0x47355a);let _0x6c6754={};try{_0x6c6754=await RequestUtil[_0x45fc65(0xf3)](_0x3b116e);}catch(_0x42f138){_0x5702e0['hoSJc'](logDebug,_0x5702e0['ekrfZ'],_0x42f138),_0x6c6754={};}const _0x5cf1be=_0x6c6754[_0x5702e0['oisJE']];if(!_0x5cf1be)return'';return Credentials[_0x45fc65(0xe6)]=_0x150656,Credentials[_0x45fc65(0x110)]=_0x47355a,Credentials[_0x45fc65(0x117)]=Date[_0x45fc65(0x119)](),Credentials['Skey']=_0x5cf1be,_0x5cf1be;}return Credentials[_0x45fc65(0x108)];}catch(_0x9b7f6d){}return undefined;}}