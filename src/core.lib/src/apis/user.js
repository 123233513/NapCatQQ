const _0x26c0d2=_0x5376;(function(_0x3a8653,_0xff7ae4){const _0x393673=_0x5376,_0x527cb0=_0x3a8653();while(!![]){try{const _0x53f9eb=parseInt(_0x393673(0x1f1))/0x1+parseInt(_0x393673(0x1e0))/0x2*(-parseInt(_0x393673(0x1d3))/0x3)+parseInt(_0x393673(0x200))/0x4+parseInt(_0x393673(0x1e7))/0x5*(parseInt(_0x393673(0x1eb))/0x6)+-parseInt(_0x393673(0x1e2))/0x7*(parseInt(_0x393673(0x1ee))/0x8)+-parseInt(_0x393673(0x1ec))/0x9+parseInt(_0x393673(0x1d0))/0xa*(parseInt(_0x393673(0x1e5))/0xb);if(_0x53f9eb===_0xff7ae4)break;else _0x527cb0['push'](_0x527cb0['shift']());}catch(_0x2c2235){_0x527cb0['push'](_0x527cb0['shift']());}}}(_0x1513,0xeaddf));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();function _0x1513(){const _0x1b8f1e=['99768YRTHhG','3592323IiBwyo','keyIndex','520RWPPIf','getProfileService','getUserDetailInfo','1261568kOQbtW','setHeader','get','errMsg','delete','setStatus','uid','CreatTime','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','Nvlke','result','获取Pskey失败','getSkey','domainPskeyMap','oAVWC','2730568Lyhijb','wrHuF','rsTvy','now','getPskey','jdGGp','getMsgService','FzQFm','forceFetchClientKey','getProfileLikeService','30KXJJvm','LqgAd','getUserDetailInfoWithBizInfo','15768RsiOcV','getSelfInfo','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','then','getPSkey','getRobotUinRange','Skey','setSelfOnlineStatus','aZqXf','NtMCi','DyHvi','SnmtY','session','578oaAmHd','skey','57029PHyzid','response','gqCAF','800767LiUvZg','RuMpd','375UBjnma','getTicketService','clientKey','getUserDetailInfo\x20timeout'];_0x1513=function(){return _0x1b8f1e;};return _0x1513();}profileListener['onProfileDetailInfoChanged']=_0x5b3a54=>{const _0x13f896=_0x5376;userInfoCache[_0x5b3a54[_0x13f896(0x1f7)]]=_0x5b3a54,userDetailHandlers['forEach'](_0x1202b4=>_0x1202b4(_0x5b3a54));},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{napCatCore['addListener'](profileListener);});},0x64);function _0x5376(_0xc5d526,_0x451ab1){const _0x151358=_0x1513();return _0x5376=function(_0x537631,_0x26583e){_0x537631=_0x537631-0x1cd;let _0x4989b3=_0x151358[_0x537631];return _0x4989b3;},_0x5376(_0xc5d526,_0x451ab1);}export class NTQQUserApi{static async[_0x26c0d2(0x1da)](_0x2b7d76,_0x19877e,_0x3f216d){const _0x184386=_0x26c0d2;return napCatCore[_0x184386(0x1df)][_0x184386(0x206)]()[_0x184386(0x1f6)]({'status':_0x2b7d76,'extStatus':_0x19877e,'batteryStatus':_0x3f216d});}static async['like'](_0x45c54a,_0x130422=0x1){const _0x38accd=_0x26c0d2;return napCatCore[_0x38accd(0x1df)][_0x38accd(0x1cf)]()['setBuddyProfileLike']({'friendUid':_0x45c54a,'sourceId':0x47,'doLikeCount':_0x130422,'doLikeTollCount':0x0});}static async['setQQAvatar'](_0x45070d){const _0x31075c=_0x26c0d2,_0x442a48=napCatCore[_0x31075c(0x1df)][_0x31075c(0x1ef)]()[_0x31075c(0x1f2)](_0x45070d);return{'result':_0x442a48?.['result'],'errMsg':_0x442a48?.[_0x31075c(0x1f4)]};}static async[_0x26c0d2(0x1d4)](){}static async['getUserInfo'](_0x273548){}static async[_0x26c0d2(0x1f0)](_0x3da231){const _0x2c8641=_0x26c0d2,_0x318897={'FzQFm':_0x2c8641(0x1ea),'SnmtY':function(_0x2df7ec,_0x105ed3){return _0x2df7ec===_0x105ed3;},'DyHvi':function(_0x5c4dda){return _0x5c4dda();},'mlMCb':function(_0x45556b,_0x14fda1,_0x1fabb3){return _0x45556b(_0x14fda1,_0x1fabb3);}},_0x2f33b1=napCatCore[_0x2c8641(0x1df)][_0x2c8641(0x1ef)]();return new Promise((_0x6ec6d6,_0x2d2d4f)=>{const _0x3ca180=_0x2c8641,_0x5c1eae=_0x318897[_0x3ca180(0x1dd)](randomUUID);let _0x41b6a4=![];_0x318897['mlMCb'](setTimeout,()=>{const _0x839059=_0x3ca180;!_0x41b6a4&&_0x2d2d4f(_0x318897[_0x839059(0x1cd)]);},0x1388),userDetailHandlers['set'](_0x5c1eae,_0x540da3=>{const _0x5dcc23=_0x3ca180;_0x318897[_0x5dcc23(0x1de)](_0x540da3[_0x5dcc23(0x1f7)],_0x3da231)&&(_0x41b6a4=!![],userDetailHandlers[_0x5dcc23(0x1f5)](_0x5c1eae),_0x6ec6d6(_0x540da3));}),_0x2f33b1[_0x3ca180(0x1d2)](_0x3da231,[0x0])[_0x3ca180(0x1d6)](_0x2d1419=>{});});}static async[_0x26c0d2(0x1d7)](_0x150bff){const _0x46402b=_0x26c0d2,_0x3e7185={'LqgAd':function(_0x440f45,_0x3ce3be){return _0x440f45===_0x3ce3be;},'LgCRd':function(_0x2322ca,_0x45d315,_0x4d1f31){return _0x2322ca(_0x45d315,_0x4d1f31);},'jdGGp':_0x46402b(0x1fc)},_0x4dc81b=await napCatCore[_0x46402b(0x1df)]['getTipOffService']()[_0x46402b(0x204)](_0x150bff,!![]);if(_0x3e7185[_0x46402b(0x1d1)](_0x4dc81b['result'],0x0)){const _0x3ad211=_0x4dc81b[_0x46402b(0x1fe)];return Object['fromEntries'](_0x3ad211);}else _0x3e7185['LgCRd'](logError,_0x3e7185[_0x46402b(0x205)],_0x4dc81b['errMsg']);return{};}static async['getRobotUinRange'](){const _0x4f62df=_0x26c0d2,_0x2e227c=await napCatCore['session']['getRobotService']()[_0x4f62df(0x1d8)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x2e227c?.[_0x4f62df(0x1e3)]?.['robotUinRanges'];}static async[_0x26c0d2(0x1fd)](){const _0x14b713=_0x26c0d2,_0x5220ef={'oAVWC':function(_0x4297d1,_0x32917b){return _0x4297d1==_0x32917b;},'NtMCi':function(_0x44397a,_0x7c45f8){return _0x44397a>_0x7c45f8;},'RuMpd':function(_0x247a8e,_0x28d57b){return _0x247a8e-_0x28d57b;},'khUOV':function(_0x337943,_0x3ceda0){return _0x337943*_0x3ceda0;},'wrHuF':function(_0x3f47d8,_0x4c8c08){return _0x3f47d8!==_0x4c8c08;},'rsTvy':function(_0x272d3b,_0xacbb88){return _0x272d3b+_0xacbb88;},'Nvlke':function(_0x3e4188,_0x1042ef){return _0x3e4188+_0x1042ef;},'gqCAF':function(_0x3c8dd6,_0x138dbc){return _0x3c8dd6(_0x138dbc);},'aZqXf':_0x14b713(0x1e1)};try{if(_0x5220ef[_0x14b713(0x1ff)](Credentials[_0x14b713(0x1f8)],0x0)||_0x5220ef[_0x14b713(0x1dc)](_0x5220ef[_0x14b713(0x1e6)](Date[_0x14b713(0x203)](),Credentials[_0x14b713(0x1f8)]),_0x5220ef['khUOV'](0x3e8,0xe10))){const _0x1d9e09=await napCatCore[_0x14b713(0x1df)][_0x14b713(0x1e8)]()[_0x14b713(0x1ce)]('');if(_0x5220ef[_0x14b713(0x201)](_0x1d9e09[_0x14b713(0x1fb)],0x0))return'';const _0x398f58=_0x1d9e09[_0x14b713(0x1e9)],_0x2d84ff=_0x1d9e09[_0x14b713(0x1ed)],_0x48d02a=_0x5220ef[_0x14b713(0x202)](_0x5220ef[_0x14b713(0x1fa)](_0x5220ef[_0x14b713(0x1fa)](_0x14b713(0x1f9),selfInfo['uin'])+'&clientkey=',_0x398f58),_0x14b713(0x1d5))+_0x2d84ff,_0x45e8cf=await _0x5220ef[_0x14b713(0x1e4)](HttpGetCookies,_0x48d02a),_0xecb45=_0x45e8cf[_0x14b713(0x1f3)](_0x5220ef[_0x14b713(0x1db)]);if(!_0xecb45)return'';return Credentials['CreatTime']=Date['now'](),Credentials[_0x14b713(0x1d9)]=_0xecb45,_0xecb45;}return Credentials[_0x14b713(0x1d9)];}catch(_0xd60c47){}return undefined;}}