const _0xabdc1c=_0x3603;(function(_0x5ecc23,_0x269a20){const _0x1a95d7=_0x3603,_0xc21941=_0x5ecc23();while(!![]){try{const _0x3b925b=-parseInt(_0x1a95d7(0xcf))/0x1*(parseInt(_0x1a95d7(0xdd))/0x2)+-parseInt(_0x1a95d7(0xdc))/0x3*(parseInt(_0x1a95d7(0xb4))/0x4)+-parseInt(_0x1a95d7(0xd4))/0x5+-parseInt(_0x1a95d7(0xb8))/0x6*(parseInt(_0x1a95d7(0xeb))/0x7)+-parseInt(_0x1a95d7(0xce))/0x8+-parseInt(_0x1a95d7(0xe0))/0x9*(-parseInt(_0x1a95d7(0xd6))/0xa)+parseInt(_0x1a95d7(0xbe))/0xb;if(_0x3b925b===_0x269a20)break;else _0xc21941['push'](_0xc21941['shift']());}catch(_0x45b3a3){_0xc21941['push'](_0xc21941['shift']());}}}(_0x37f4,0xa18df));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x37f4(){const _0x24b28a=['setQQAvatar','like','EfxNC','2437115uVzyLZ','getUserDetailInfo','10JoDAKk','push','setHeader','getUserDetailInfo\x20timeout','bnwQf','TbEXV','1106091DisXZY','2396452iVMGvy','kIuIw','CreatTime','7324452hXhDFw','JUvEN','CrXOl','PskeyTime','response','gMIOD','entries','then','addListener','dsQlA','onProfileDetailInfoChanged','3499846VZkLkB','delete','setStatus','yXaDn','now','getSelfInfo','nnHVr','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','wFUfZ','onLoginSuccess','getTicketService','errMsg','getPSkey','PMqTz','setSelfOnlineStatus','getProfileService','jUsRo','uin','PskeyData','12OdKgNq','keyIndex','getMsgService','FIlZG','12pUhaFJ','uid','&clientkey=','getUserInfo','getTipOffService','ONzni','47059771BDzlON','getUserDetailInfoWithBizInfo','domainPskeyMap','session','setBuddyProfileLike','forceFetchClientKey','clientKey','getRobotUinRange','get','kDqaf','skey','Ncagr','getPskey','robotUinRanges','Skey','dbnXH','5108528QAfYYq','1OMWgJg','result'];_0x37f4=function(){return _0x24b28a;};return _0x37f4();}import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';function _0x3603(_0xbaa4cd,_0x10a590){const _0x37f4d2=_0x37f4();return _0x3603=function(_0x360316,_0x387932){_0x360316=_0x360316-0xb3;let _0x4978de=_0x37f4d2[_0x360316];return _0x4978de;},_0x3603(_0xbaa4cd,_0x10a590);}const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0xabdc1c(0xea)]=_0x3f975f=>{const _0x1f25b5=_0xabdc1c;userInfoCache[_0x3f975f[_0x1f25b5(0xb9)]]=_0x3f975f,userDetailHandlers['forEach'](_0x46e150=>_0x46e150(_0x3f975f));},setTimeout(()=>{const _0x5abdbb=_0xabdc1c;napCatCore[_0x5abdbb(0xf4)](()=>{const _0x7f46bc=_0x5abdbb;napCatCore[_0x7f46bc(0xe8)](profileListener);});},0x64);export class NTQQUserApi{static async[_0xabdc1c(0xf9)](_0x4569f1,_0x14a68b,_0x3062cd){const _0x45013d=_0xabdc1c;return napCatCore[_0x45013d(0xc1)][_0x45013d(0xb6)]()[_0x45013d(0xed)]({'status':_0x4569f1,'extStatus':_0x14a68b,'batteryStatus':_0x3062cd});}static async[_0xabdc1c(0xd2)](_0x36ea36,_0x287fb3=0x1){const _0x2dfe24=_0xabdc1c;return napCatCore['session']['getProfileLikeService']()[_0x2dfe24(0xc2)]({'friendUid':_0x36ea36,'sourceId':0x47,'doLikeCount':_0x287fb3,'doLikeTollCount':0x0});}static async[_0xabdc1c(0xd1)](_0x5b2030){const _0x5909c9=_0xabdc1c,_0xd91f06=napCatCore[_0x5909c9(0xc1)][_0x5909c9(0xfa)]()[_0x5909c9(0xd8)](_0x5b2030);return{'result':_0xd91f06?.[_0x5909c9(0xd0)],'errMsg':_0xd91f06?.[_0x5909c9(0xf6)]};}static async[_0xabdc1c(0xf0)](){}static async[_0xabdc1c(0xbb)](_0x20163c){}static async[_0xabdc1c(0xd5)](_0x524573){const _0x4c57f5=_0xabdc1c,_0x3b97c0={'gMIOD':function(_0x444300,_0x2acd8a){return _0x444300(_0x2acd8a);},'jUsRo':_0x4c57f5(0xd9),'kDqaf':function(_0x3725de,_0x5309e8){return _0x3725de===_0x5309e8;},'dsQlA':function(_0xd592aa,_0x5a7fc5){return _0xd592aa(_0x5a7fc5);},'XjEYf':function(_0x54315d,_0x4de6c8,_0xd3fa82){return _0x54315d(_0x4de6c8,_0xd3fa82);}},_0x251345=napCatCore['session'][_0x4c57f5(0xfa)]();return new Promise((_0x4dab0d,_0x3310cb)=>{const _0x251043=_0x4c57f5,_0x2e203f={'wFUfZ':function(_0x411550,_0x3bebda){const _0x160ab9=_0x3603;return _0x3b97c0[_0x160ab9(0xc7)](_0x411550,_0x3bebda);},'FIlZG':function(_0x379323,_0x9544c7){const _0x33da1b=_0x3603;return _0x3b97c0[_0x33da1b(0xe9)](_0x379323,_0x9544c7);}},_0x515246=randomUUID();let _0x17acc3=![];_0x3b97c0['XjEYf'](setTimeout,()=>{const _0x5247e0=_0x3603;!_0x17acc3&&_0x3b97c0[_0x5247e0(0xe5)](_0x3310cb,_0x3b97c0[_0x5247e0(0xfb)]);},0x1388),userDetailHandlers['set'](_0x515246,_0x3dee16=>{const _0xdab602=_0x3603;_0x2e203f[_0xdab602(0xf3)](_0x3dee16[_0xdab602(0xb9)],_0x524573)&&(_0x17acc3=!![],userDetailHandlers[_0xdab602(0xec)](_0x515246),_0x2e203f[_0xdab602(0xb7)](_0x4dab0d,_0x3dee16));}),_0x251345[_0x251043(0xbf)](_0x524573,[0x0])[_0x251043(0xe7)](_0x230e87=>{});});}static async[_0xabdc1c(0xf7)](_0x1be0aa,_0x3e6f24=!![]){const _0x1f4c3f=_0xabdc1c,_0x5bb770={'TbEXV':function(_0x2f0559,_0x30129a){return _0x2f0559||_0x30129a;},'tkIhn':function(_0x14c18f,_0x27a9b0){return _0x14c18f>_0x27a9b0;},'nnHVr':function(_0x3622e4,_0x3f0aaf){return _0x3622e4-_0x3f0aaf;},'EfxNC':function(_0x1b20d8,_0x4a64ec){return _0x1b20d8===_0x4a64ec;},'Cphdy':function(_0x4e96d9,_0x4d57a8,_0x615e5f){return _0x4e96d9(_0x4d57a8,_0x615e5f);},'Ncagr':'获取Pskey失败'};let _0x16205d=[],_0x2c223c={};for(let _0x21c811 in _0x1be0aa){let _0x5590e8=Credentials['PskeyData'][_0x1f4c3f(0xc6)](_0x1be0aa[_0x21c811]),_0x469220=Credentials[_0x1f4c3f(0xe3)][_0x1f4c3f(0xc6)](_0x1be0aa[_0x21c811]);_0x5bb770[_0x1f4c3f(0xdb)](!_0x5590e8,!_0x469220)||_0x5bb770['tkIhn'](_0x5bb770[_0x1f4c3f(0xf1)](Date['now'](),_0x469220),0x708*0x3e8)||!_0x3e6f24?_0x16205d[_0x1f4c3f(0xd7)](_0x1be0aa[_0x21c811]):_0x2c223c[_0x1be0aa[_0x21c811]]=_0x5590e8;}let _0x29731c={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x5bb770['tkIhn'](_0x16205d['length'],0x0)&&(_0x29731c=await napCatCore['session'][_0x1f4c3f(0xbc)]()[_0x1f4c3f(0xca)](_0x16205d,!![]));let _0x2743c8=_0x29731c[_0x1f4c3f(0xc0)];for(let _0x3f43bb of _0x2743c8[_0x1f4c3f(0xe6)]()){Credentials[_0x1f4c3f(0xb3)]['set'](_0x3f43bb[0x0],_0x3f43bb[0x1]),Credentials[_0x1f4c3f(0xe3)]['set'](_0x3f43bb[0x0],Date['now']());}let _0x117792=Object['assign'](Object['fromEntries'](_0x2743c8),_0x2c223c);if(_0x5bb770[_0x1f4c3f(0xd3)](_0x29731c[_0x1f4c3f(0xd0)],0x0))return _0x117792;else _0x5bb770['Cphdy'](logError,_0x5bb770[_0x1f4c3f(0xc9)],_0x29731c[_0x1f4c3f(0xf6)]);return{};}static async[_0xabdc1c(0xc5)](){const _0x1a1beb=_0xabdc1c,_0x40891a=await napCatCore['session']['getRobotService']()[_0x1a1beb(0xc5)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x40891a?.[_0x1a1beb(0xe4)]?.[_0x1a1beb(0xcb)];}static async['getSkey'](_0x21e93f=!![]){const _0x49f9e2=_0xabdc1c,_0x1b8ee9={'PMqTz':function(_0x199987,_0x3339b6){return _0x199987==_0x3339b6;},'grykj':function(_0x18ea54,_0x2bb0cc){return _0x18ea54>_0x2bb0cc;},'dbnXH':function(_0x6d916d,_0x28d513){return _0x6d916d-_0x28d513;},'yXaDn':function(_0x2838cd,_0x27e5b2){return _0x2838cd*_0x27e5b2;},'CrXOl':function(_0x9c8c9d,_0x1118b3){return _0x9c8c9d+_0x1118b3;},'JUvEN':function(_0x591e93,_0x517665){return _0x591e93+_0x517665;},'kIuIw':function(_0x51c434,_0x1ebe01){return _0x51c434+_0x1ebe01;},'TlAkj':_0x49f9e2(0xf2),'xVApH':_0x49f9e2(0xba),'ONzni':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','bnwQf':function(_0x191521,_0x58cd7f){return _0x191521(_0x58cd7f);}};try{if(_0x1b8ee9[_0x49f9e2(0xf8)](Credentials[_0x49f9e2(0xdf)],0x0)||_0x1b8ee9['grykj'](_0x1b8ee9[_0x49f9e2(0xcd)](Date[_0x49f9e2(0xef)](),Credentials['CreatTime']),_0x1b8ee9[_0x49f9e2(0xee)](0x3e8,0xe10))||!_0x21e93f){const _0x1ea7f0=await napCatCore[_0x49f9e2(0xc1)][_0x49f9e2(0xf5)]()[_0x49f9e2(0xc3)]('');if(_0x1ea7f0[_0x49f9e2(0xd0)]!==0x0)return'';const _0x37ca54=_0x1ea7f0[_0x49f9e2(0xc4)],_0x3ad1c3=_0x1ea7f0[_0x49f9e2(0xb5)],_0x14d3a1=_0x1b8ee9[_0x49f9e2(0xe2)](_0x1b8ee9[_0x49f9e2(0xe1)](_0x1b8ee9[_0x49f9e2(0xe2)](_0x1b8ee9[_0x49f9e2(0xde)](_0x1b8ee9['TlAkj']+selfInfo[_0x49f9e2(0xfc)],_0x1b8ee9['xVApH']),_0x37ca54),_0x1b8ee9[_0x49f9e2(0xbd)]),_0x3ad1c3),_0x5468b1=await _0x1b8ee9[_0x49f9e2(0xda)](HttpGetCookies,_0x14d3a1),_0x2e376c=_0x5468b1[_0x49f9e2(0xc6)](_0x49f9e2(0xc8));if(!_0x2e376c)return'';return Credentials[_0x49f9e2(0xdf)]=Date[_0x49f9e2(0xef)](),Credentials[_0x49f9e2(0xcc)]=_0x2e376c,_0x2e376c;}return Credentials[_0x49f9e2(0xcc)];}catch(_0x2962c3){}return undefined;}}