const _0x3a08b5=_0x1557;(function(_0x586b49,_0x4f671d){const _0x3716b8=_0x1557,_0x363264=_0x586b49();while(!![]){try{const _0x130863=-parseInt(_0x3716b8(0x92))/0x1*(-parseInt(_0x3716b8(0x8a))/0x2)+-parseInt(_0x3716b8(0x72))/0x3*(-parseInt(_0x3716b8(0x71))/0x4)+parseInt(_0x3716b8(0xad))/0x5*(parseInt(_0x3716b8(0x84))/0x6)+parseInt(_0x3716b8(0x8e))/0x7*(-parseInt(_0x3716b8(0x8f))/0x8)+-parseInt(_0x3716b8(0x6c))/0x9*(parseInt(_0x3716b8(0xa7))/0xa)+-parseInt(_0x3716b8(0x81))/0xb+parseInt(_0x3716b8(0xa4))/0xc;if(_0x130863===_0x4f671d)break;else _0x363264['push'](_0x363264['shift']());}catch(_0x4c0f79){_0x363264['push'](_0x363264['shift']());}}}(_0x4e79,0x27640));import{Credentials,selfInfo}from'@/core/data';function _0x1557(_0x5e2c3f,_0x359c8a){const _0x4e799a=_0x4e79();return _0x1557=function(_0x1557fb,_0x3a81e2){_0x1557fb=_0x1557fb-0x64;let _0x401699=_0x4e799a[_0x1557fb];return _0x401699;},_0x1557(_0x5e2c3f,_0x359c8a);}function _0x4e79(){const _0x59e6af=['fromEntries','dpxRY','set','20065SSydKy','uidInfo','addListener','getProfileService','onProfileDetailInfoChanged','RktRT','CreatTime','mCDvx','push','lXKza','YZFqJ','uin','DzRzd','lmNlZ','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','DzKEE','uid','xmBsP','ClientKey','get','getUidByUin','getUserDetailInfo','Knlde','now','domainPskeyMap','getQzoneCookies','RYeLY','JnucA','session','getUserDetailInfoByUin','modifyDesktopMiniProfile','length','getUserInfo','getRobotService','getUserDetailInfoWithBizInfo','entries','getMsgService','144efiGHZ','iPCjw','setStatus','getSkey','KeyIndex','44ZDiFTG','41988oKrtNy','getTicketService','modifySelfProfile','getPskey','setBuddyProfileLike','OniMP','KBwcu','NodeIKernelUixConvertService/getUin','result','xgQYC','setHeader','setQQAvatar','gUgZn','HttpsGetCookies','oGsVr','2787224xlKvJF','ECXAS','eugWs','90LfLvQM','getSelfInfo','getPSkey','response','keyIndex','forEach','8jwLDVG','robotUinRanges','assign','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','7qeOdDi','1591728MCPSjG','NodeIKernelUixConvertService/getUid','forceFetchClientKey','68633IYGkiI','like','getTipOffService','PskeyData','获取Pskey失败','clientKey','Bzkun','请求获取Skey时失败','NodeIKernelProfileService/getUserDetailInfoByUin','onLoginSuccess','uinInfo','getProfileLikeService','cwqKH','getRobotUinRange','PskeyTime','Skey','errMsg','%2Finfocenter&keyindex=19%27','1638564bELTDG','CallNoListenerEvent','&clientkey=','7210zoaAWk','getUinByUid','getUserDetailInfo\x20timeout'];_0x4e79=function(){return _0x59e6af;};return _0x4e79();}import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x3a08b5(0xb1)]=_0x322f3f=>{const _0x208c9c=_0x3a08b5;userInfoCache[_0x322f3f[_0x208c9c(0xbd)]]=_0x322f3f,userDetailHandlers[_0x208c9c(0x89)](_0x35d15d=>_0x35d15d(_0x322f3f));},setTimeout(()=>{const _0xc0258=_0x3a08b5;napCatCore[_0xc0258(0x9b)](()=>{const _0x258fea=_0xc0258;napCatCore[_0x258fea(0xaf)](profileListener);});},0x64);export class NTQQUserApi{static async['setSelfOnlineStatus'](_0x3f5372,_0x5f370b,_0x481e83){const _0x4616ba=_0x3a08b5;return napCatCore[_0x4616ba(0xc9)][_0x4616ba(0x6b)]()[_0x4616ba(0x6e)]({'status':_0x3f5372,'extStatus':_0x5f370b,'batteryStatus':_0x481e83});}static async[_0x3a08b5(0x93)](_0x3283a8,_0x3ee48c=0x1){const _0x350773=_0x3a08b5;return napCatCore[_0x350773(0xc9)][_0x350773(0x9d)]()[_0x350773(0x76)]({'friendUid':_0x3283a8,'sourceId':0x47,'doLikeCount':_0x3ee48c,'doLikeTollCount':0x0});}static async[_0x3a08b5(0x7d)](_0x122246){const _0x4589b3=_0x3a08b5,_0x300cca=napCatCore[_0x4589b3(0xc9)][_0x4589b3(0xb0)]()[_0x4589b3(0x7c)](_0x122246);return{'result':_0x300cca?.['result'],'errMsg':_0x300cca?.['errMsg']};}static async[_0x3a08b5(0x85)](){}static async[_0x3a08b5(0x67)](_0x456128){}static async[_0x3a08b5(0xc2)](_0x4f927e){const _0x346526=_0x3a08b5,_0x469d56={'TOAcC':function(_0xc86dca,_0x3e6207){return _0xc86dca(_0x3e6207);},'iPCjw':function(_0x43faf){return _0x43faf();},'RktRT':function(_0x3f81f3,_0x24e69d,_0xbb1b90){return _0x3f81f3(_0x24e69d,_0xbb1b90);}},_0x2ad930=napCatCore[_0x346526(0xc9)][_0x346526(0xb0)]();return new Promise((_0x107804,_0x3c1afd)=>{const _0x53eb6a=_0x346526,_0x60ae69={'YTDGz':function(_0x28d57d,_0x311341){return _0x469d56['TOAcC'](_0x28d57d,_0x311341);}},_0x2fe0eb=_0x469d56[_0x53eb6a(0x6d)](randomUUID);let _0x282fe5=![],_0x57e95c=undefined,_0x42e1f0=!![];_0x469d56[_0x53eb6a(0xb2)](setTimeout,()=>{const _0x16e819=_0x53eb6a;!_0x282fe5&&(_0x57e95c?_0x107804(_0x57e95c):_0x3c1afd(_0x16e819(0xa9))),userDetailHandlers['delete'](_0x2fe0eb);},0x1388),userDetailHandlers[_0x53eb6a(0xac)](_0x2fe0eb,_0x541907=>{_0x541907['uid']===_0x4f927e&&(_0x42e1f0?(_0x57e95c=_0x541907,_0x42e1f0=![]):(_0x282fe5=!![],_0x60ae69['YTDGz'](_0x107804,_0x541907)));}),_0x2ad930[_0x53eb6a(0x69)](_0x4f927e,[0x0])['then'](_0x441020=>{});});}static async[_0x3a08b5(0x74)](_0x49d293){const _0x28517e=_0x3a08b5;return napCatCore[_0x28517e(0xc9)]['getProfileService']()[_0x28517e(0x65)](_0x49d293);}static async[_0x3a08b5(0x86)](_0x7c1129,_0x4033b3=!![]){const _0x37b9cb=_0x3a08b5,_0x4a87e5={'KBwcu':function(_0x157b64,_0x4b3afe){return _0x157b64>_0x4b3afe;},'DzKEE':function(_0x504499,_0x3ff738){return _0x504499-_0x3ff738;},'dpxRY':function(_0x174557,_0x1add0c){return _0x174557*_0x1add0c;},'oVUdg':function(_0x541127,_0x37ba54){return _0x541127===_0x37ba54;},'OniMP':function(_0x40288c,_0x287123,_0xf7b294){return _0x40288c(_0x287123,_0xf7b294);},'RYeLY':_0x37b9cb(0x96)},_0x4315e8=[],_0x2a084f={};for(const _0x2c05c5 in _0x7c1129){const _0x2ae855=Credentials[_0x37b9cb(0x95)][_0x37b9cb(0xc0)](_0x7c1129[_0x2c05c5]),_0x476271=Credentials[_0x37b9cb(0xa0)][_0x37b9cb(0xc0)](_0x7c1129[_0x2c05c5]);!_0x2ae855||!_0x476271||_0x4a87e5[_0x37b9cb(0x78)](_0x4a87e5[_0x37b9cb(0xbc)](Date[_0x37b9cb(0xc4)](),_0x476271),_0x4a87e5[_0x37b9cb(0xab)](0x708,0x3e8))||!_0x4033b3?_0x4315e8[_0x37b9cb(0xb5)](_0x7c1129[_0x2c05c5]):_0x2a084f[_0x7c1129[_0x2c05c5]]=_0x2ae855;}let _0x51ce2a={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x4a87e5[_0x37b9cb(0x78)](_0x4315e8[_0x37b9cb(0x66)],0x0)&&(_0x51ce2a=await napCatCore['session'][_0x37b9cb(0x94)]()[_0x37b9cb(0x75)](_0x4315e8,!![]));const _0x5e3136=_0x51ce2a[_0x37b9cb(0xc5)];for(const _0x1255a5 of _0x5e3136[_0x37b9cb(0x6a)]()){Credentials[_0x37b9cb(0x95)][_0x37b9cb(0xac)](_0x1255a5[0x0],_0x1255a5[0x1]),Credentials[_0x37b9cb(0xa0)][_0x37b9cb(0xac)](_0x1255a5[0x0],Date[_0x37b9cb(0xc4)]());}const _0x2f2172=Object[_0x37b9cb(0x8c)](Object[_0x37b9cb(0xaa)](_0x5e3136),_0x2a084f);if(_0x4a87e5['oVUdg'](_0x51ce2a[_0x37b9cb(0x7a)],0x0))return _0x2f2172;else _0x4a87e5[_0x37b9cb(0x77)](logError,_0x4a87e5[_0x37b9cb(0xc7)],_0x51ce2a[_0x37b9cb(0xa2)]);return{};}static async[_0x3a08b5(0x9f)](){const _0x3a6c2d=_0x3a08b5,_0x48e9a6=await napCatCore[_0x3a6c2d(0xc9)][_0x3a6c2d(0x68)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x48e9a6?.[_0x3a6c2d(0x87)]?.[_0x3a6c2d(0x8b)];}static async[_0x3a08b5(0xc6)](){const _0x13f915=_0x3a08b5,_0x5d8be5={'Bzkun':function(_0x2f6d57,_0x2fdd58){return _0x2f6d57+_0x2fdd58;},'lXKza':_0x13f915(0xbb),'xgQYC':_0x13f915(0x8d),'Knlde':_0x13f915(0xa3),'ZOjvx':function(_0x1221ae,_0x4dc8c5,_0x6f240){return _0x1221ae(_0x4dc8c5,_0x6f240);},'lmNlZ':'请求获取Cookies时失败'},_0x4637dd=_0x5d8be5[_0x13f915(0x98)](_0x5d8be5['Bzkun'](_0x5d8be5[_0x13f915(0x98)](_0x5d8be5['Bzkun'](_0x5d8be5[_0x13f915(0xb6)]+selfInfo[_0x13f915(0xb8)]+_0x13f915(0xa6),Credentials[_0x13f915(0xbf)]),_0x5d8be5[_0x13f915(0x7b)]),selfInfo[_0x13f915(0xb8)]),_0x5d8be5[_0x13f915(0xc3)]);let _0x202f1c={};try{_0x202f1c=await RequestUtil[_0x13f915(0x7f)](_0x4637dd);}catch(_0x297c92){_0x5d8be5['ZOjvx'](logDebug,_0x5d8be5[_0x13f915(0xba)],_0x297c92),_0x202f1c={};}return _0x202f1c;}static async[_0x3a08b5(0x6f)](_0x6a04e5=!![]){const _0x405b14=_0x3a08b5,_0x3632ed={'cwqKH':function(_0x2ac195,_0x5630a8){return _0x2ac195>_0x5630a8;},'DzRzd':function(_0x34e1b2,_0x41fdf3){return _0x34e1b2*_0x41fdf3;},'ECXAS':function(_0x327d80,_0x47e1db){return _0x327d80+_0x47e1db;},'gUgZn':function(_0x39c089,_0x24d5e5){return _0x39c089+_0x24d5e5;},'mCDvx':function(_0x115213,_0x14eea3){return _0x115213+_0x14eea3;},'eugWs':_0x405b14(0xbb),'JnucA':_0x405b14(0xa6),'YZFqJ':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','oGsVr':function(_0x20b352,_0xf8d706,_0x475eb2){return _0x20b352(_0xf8d706,_0x475eb2);},'gETCq':_0x405b14(0x99),'xmBsP':'skey'};try{if(Credentials[_0x405b14(0xb3)]==0x0||_0x3632ed[_0x405b14(0x9e)](Date['now']()-Credentials['CreatTime'],_0x3632ed[_0x405b14(0xb9)](0x3e8,0xe10))||!_0x6a04e5){const _0x170dc8=await napCatCore[_0x405b14(0xc9)][_0x405b14(0x73)]()[_0x405b14(0x91)]('');if(_0x170dc8[_0x405b14(0x7a)]!==0x0)return'';const _0xebad49=_0x170dc8[_0x405b14(0x97)],_0x340ad7=_0x170dc8[_0x405b14(0x88)],_0x18ee7a=_0x3632ed[_0x405b14(0x82)](_0x3632ed[_0x405b14(0x82)](_0x3632ed[_0x405b14(0x7e)](_0x3632ed[_0x405b14(0xb4)](_0x3632ed[_0x405b14(0x83)]+selfInfo['uin'],_0x3632ed[_0x405b14(0xc8)]),_0xebad49),_0x3632ed[_0x405b14(0xb7)]),_0x340ad7);let _0x41328c={};try{_0x41328c=await RequestUtil['HttpsGetCookies'](_0x18ee7a);}catch(_0x1af5a2){_0x3632ed[_0x405b14(0x80)](logDebug,_0x3632ed['gETCq'],_0x1af5a2),_0x41328c={};}const _0x4e0800=_0x41328c[_0x3632ed[_0x405b14(0xbe)]];if(!_0x4e0800)return'';return Credentials[_0x405b14(0xbf)]=_0xebad49,Credentials[_0x405b14(0x70)]=_0x340ad7,Credentials[_0x405b14(0xb3)]=Date[_0x405b14(0xc4)](),Credentials[_0x405b14(0xa1)]=_0x4e0800,_0x4e0800;}return Credentials['Skey'];}catch(_0x3bd512){}return undefined;}static async[_0x3a08b5(0xc1)](_0x18b429){const _0x57aa28=_0x3a08b5;let _0x1f09a5=await NTEventDispatch[_0x57aa28(0xa5)](_0x57aa28(0x90),0x1388,[_0x18b429]);return _0x1f09a5[_0x57aa28(0xae)][_0x57aa28(0xc0)](_0x18b429);}static async[_0x3a08b5(0xa8)](_0x2f7008){const _0x54b5eb=_0x3a08b5,_0x5e7340={'gmxwE':_0x54b5eb(0x79)};if(!_0x2f7008)return'';let _0x2fc490=await NTEventDispatch[_0x54b5eb(0xa5)](_0x5e7340['gmxwE'],0x1388,[_0x2f7008]);return _0x2fc490[_0x54b5eb(0x9c)]['get'](_0x2f7008);}static async[_0x3a08b5(0x64)](_0x532936){const _0x38ee0e=_0x3a08b5,_0x4d57f5={'OPQpd':_0x38ee0e(0x9a)};return NTEventDispatch[_0x38ee0e(0xa5)](_0x4d57f5['OPQpd'],0x1388,_0x532936);}}