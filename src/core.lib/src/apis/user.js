const _0x116c1e=_0x2ea3;(function(_0x46f88b,_0x31fb53){const _0x299443=_0x2ea3,_0x4b101d=_0x46f88b();while(!![]){try{const _0x1ed854=-parseInt(_0x299443(0xa1))/0x1*(-parseInt(_0x299443(0x8e))/0x2)+parseInt(_0x299443(0x89))/0x3+-parseInt(_0x299443(0x86))/0x4+parseInt(_0x299443(0x97))/0x5*(parseInt(_0x299443(0x78))/0x6)+-parseInt(_0x299443(0x84))/0x7+-parseInt(_0x299443(0x95))/0x8*(-parseInt(_0x299443(0x8d))/0x9)+parseInt(_0x299443(0x96))/0xa*(-parseInt(_0x299443(0x71))/0xb);if(_0x1ed854===_0x31fb53)break;else _0x4b101d['push'](_0x4b101d['shift']());}catch(_0x2fe608){_0x4b101d['push'](_0x4b101d['shift']());}}}(_0x3579,0xd638b));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';function _0x2ea3(_0x48873f,_0x46c3fc){const _0x35793f=_0x3579();return _0x2ea3=function(_0x2ea37e,_0xa4339d){_0x2ea37e=_0x2ea37e-0x6f;let _0xe397f0=_0x35793f[_0x2ea37e];return _0xe397f0;},_0x2ea3(_0x48873f,_0x46c3fc);}import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x3579(){const _0x4063f6=['getUserInfo','FjPMG','getPSkey','wovCw','setHeader','getProfileService','9754780sBksyQ','getSelfInfo','2163244AmtyuA','获取Pskey失败','getUserDetailInfo\x20timeout','2735499alSpRA','response','OdpzV','yYGaF','1143SvabTb','2548222ldRHRJ','delete','setQQAvatar','daqAE','uid','assign','push','19144UqwqAJ','1811740PuLgEu','5jEeIUT','getSkey','result','AvTJz','getMsgService','PskeyData','getPskey','now','addListener','onProfileDetailInfoChanged','1fThMjD','get','onLoginSuccess','like','PskeyTime','getUserDetailInfo','domainPskeyMap','bIWHl','CreatTime','getUserDetailInfoWithBizInfo','keyIndex','HUXwK','getRobotUinRange','&clientkey=','getProfileLikeService','uOnvL','uOkXu','aepYP','setSelfOnlineStatus','MpEuh','22RIlvcq','set','getTicketService','session','iabIZ','PxDmm','uin','4105770ZtNRag','lvMkl','awJlf','clientKey','skey','Skey'];_0x3579=function(){return _0x4063f6;};return _0x3579();}import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x116c1e(0xa0)]=_0xf874d=>{const _0x243a39=_0x116c1e;userInfoCache[_0xf874d[_0x243a39(0x92)]]=_0xf874d,userDetailHandlers['forEach'](_0x176e10=>_0x176e10(_0xf874d));},setTimeout(()=>{const _0x2ca77c=_0x116c1e;napCatCore[_0x2ca77c(0xa3)](()=>{const _0x1d15e6=_0x2ca77c;napCatCore[_0x1d15e6(0x9f)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x116c1e(0x6f)](_0x44ea1a,_0x1d2c12,_0x9fb7a1){const _0x4b8e97=_0x116c1e;return napCatCore['session'][_0x4b8e97(0x9b)]()['setStatus']({'status':_0x44ea1a,'extStatus':_0x1d2c12,'batteryStatus':_0x9fb7a1});}static async[_0x116c1e(0xa4)](_0xdb349e,_0x5c3355=0x1){const _0x5bcfce=_0x116c1e;return napCatCore['session'][_0x5bcfce(0xaf)]()['setBuddyProfileLike']({'friendUid':_0xdb349e,'sourceId':0x47,'doLikeCount':_0x5c3355,'doLikeTollCount':0x0});}static async[_0x116c1e(0x90)](_0x3bcb6d){const _0xbeb658=_0x116c1e,_0x5cb181=napCatCore[_0xbeb658(0x74)][_0xbeb658(0x83)]()[_0xbeb658(0x82)](_0x3bcb6d);return{'result':_0x5cb181?.[_0xbeb658(0x99)],'errMsg':_0x5cb181?.['errMsg']};}static async[_0x116c1e(0x85)](){}static async[_0x116c1e(0x7e)](_0x180986){}static async[_0x116c1e(0xa6)](_0x439e5d){const _0x3199fe=_0x116c1e,_0x13da29={'wovCw':function(_0x227e77,_0x3cb8c0){return _0x227e77(_0x3cb8c0);},'awJlf':_0x3199fe(0x88),'bIWHl':function(_0x55bf19,_0x6e2204){return _0x55bf19===_0x6e2204;},'iabIZ':function(_0x5bcb5b){return _0x5bcb5b();},'PxDmm':function(_0x4b159c,_0x311c14,_0x35530c){return _0x4b159c(_0x311c14,_0x35530c);}},_0x546abe=napCatCore[_0x3199fe(0x74)][_0x3199fe(0x83)]();return new Promise((_0x1273de,_0x10a435)=>{const _0x3409a0=_0x3199fe,_0x198288=_0x13da29[_0x3409a0(0x75)](randomUUID);let _0x62becd=![];_0x13da29[_0x3409a0(0x76)](setTimeout,()=>{const _0x5eeae5=_0x3409a0;!_0x62becd&&_0x13da29[_0x5eeae5(0x81)](_0x10a435,_0x13da29[_0x5eeae5(0x7a)]);},0x1388),userDetailHandlers[_0x3409a0(0x72)](_0x198288,_0x2c1dd3=>{const _0x4996b4=_0x3409a0;_0x13da29[_0x4996b4(0xa8)](_0x2c1dd3[_0x4996b4(0x92)],_0x439e5d)&&(_0x62becd=!![],userDetailHandlers[_0x4996b4(0x8f)](_0x198288),_0x13da29[_0x4996b4(0x81)](_0x1273de,_0x2c1dd3));}),_0x546abe[_0x3409a0(0xaa)](_0x439e5d,[0x0])['then'](_0x5b6a19=>{});});}static async[_0x116c1e(0x80)](_0x2887ab,_0x4b2bb6=!![]){const _0x4f4d97=_0x116c1e,_0x39a78b={'yYGaF':function(_0x187450,_0x56f290){return _0x187450||_0x56f290;},'HUXwK':function(_0x3ed329,_0x290bbe){return _0x3ed329>_0x290bbe;},'wSlbY':function(_0x4f0bca,_0x533fbe){return _0x4f0bca*_0x533fbe;},'FjPMG':function(_0x1ecbf5,_0x41eccf){return _0x1ecbf5>_0x41eccf;},'ouoEF':function(_0x20b968,_0x1a26ac){return _0x20b968===_0x1a26ac;},'JbFRo':function(_0xfced9e,_0x478f69,_0x52d0d8){return _0xfced9e(_0x478f69,_0x52d0d8);}};let _0x2aa71a=[],_0x80aef3={};for(let _0x221c21 in _0x2887ab){let _0x247afb=Credentials['PskeyData'][_0x4f4d97(0xa2)](_0x2887ab[_0x221c21]),_0x502e64=Credentials[_0x4f4d97(0xa5)][_0x4f4d97(0xa2)](_0x2887ab[_0x221c21]);_0x39a78b[_0x4f4d97(0x8c)](!_0x247afb,!_0x502e64)||_0x39a78b[_0x4f4d97(0xac)](Date[_0x4f4d97(0x9e)]()-_0x502e64,_0x39a78b['wSlbY'](0x708,0x3e8))||!_0x4b2bb6?_0x2aa71a[_0x4f4d97(0x94)](_0x2887ab[_0x221c21]):_0x80aef3[_0x2887ab[_0x221c21]]=_0x247afb;}let _0x11555b={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x39a78b[_0x4f4d97(0x7f)](_0x2aa71a['length'],0x0)&&(_0x11555b=await napCatCore[_0x4f4d97(0x74)]['getTipOffService']()[_0x4f4d97(0x9d)](_0x2aa71a,!![]));let _0x54f268=_0x11555b[_0x4f4d97(0xa7)];for(let _0x555b13 of _0x54f268['entries']()){Credentials[_0x4f4d97(0x9c)][_0x4f4d97(0x72)](_0x555b13[0x0],_0x555b13[0x1]),Credentials[_0x4f4d97(0xa5)][_0x4f4d97(0x72)](_0x555b13[0x0],Date[_0x4f4d97(0x9e)]());}let _0x37e383=Object[_0x4f4d97(0x93)](Object['fromEntries'](_0x54f268),_0x80aef3);if(_0x39a78b['ouoEF'](_0x11555b['result'],0x0))return _0x37e383;else _0x39a78b['JbFRo'](logError,_0x4f4d97(0x87),_0x11555b['errMsg']);return{};}static async[_0x116c1e(0xad)](){const _0x40e3b7=_0x116c1e,_0x3e48a6=await napCatCore[_0x40e3b7(0x74)]['getRobotService']()[_0x40e3b7(0xad)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x3e48a6?.[_0x40e3b7(0x8a)]?.['robotUinRanges'];}static async[_0x116c1e(0x98)](_0x158fd9=!![]){const _0x1e3e45=_0x116c1e,_0x59a218={'OdpzV':function(_0x19eeba,_0x5858d0){return _0x19eeba==_0x5858d0;},'uOkXu':function(_0x424323,_0x2b42b5){return _0x424323>_0x2b42b5;},'usjtX':function(_0x478ba6,_0x50d11c){return _0x478ba6*_0x50d11c;},'qrhYz':function(_0x16585d,_0x1b50ce){return _0x16585d!==_0x1b50ce;},'daqAE':function(_0x2af6dc,_0xf30f5e){return _0x2af6dc+_0xf30f5e;},'AvTJz':function(_0xb09966,_0x39ba4b){return _0xb09966+_0x39ba4b;},'MpEuh':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','lvMkl':_0x1e3e45(0xae),'uOnvL':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','aepYP':function(_0x1e75e4,_0x530c17){return _0x1e75e4(_0x530c17);}};try{if(_0x59a218[_0x1e3e45(0x8b)](Credentials[_0x1e3e45(0xa9)],0x0)||_0x59a218[_0x1e3e45(0xb1)](Date['now']()-Credentials[_0x1e3e45(0xa9)],_0x59a218['usjtX'](0x3e8,0xe10))||!_0x158fd9){const _0x2c5a2d=await napCatCore['session'][_0x1e3e45(0x73)]()['forceFetchClientKey']('');if(_0x59a218['qrhYz'](_0x2c5a2d[_0x1e3e45(0x99)],0x0))return'';const _0x5780e9=_0x2c5a2d[_0x1e3e45(0x7b)],_0x496bab=_0x2c5a2d[_0x1e3e45(0xab)],_0x434260=_0x59a218['daqAE'](_0x59a218[_0x1e3e45(0x9a)](_0x59a218['AvTJz'](_0x59a218[_0x1e3e45(0x91)](_0x59a218[_0x1e3e45(0x70)]+selfInfo[_0x1e3e45(0x77)],_0x59a218[_0x1e3e45(0x79)]),_0x5780e9),_0x59a218[_0x1e3e45(0xb0)]),_0x496bab),_0x31de66=await _0x59a218[_0x1e3e45(0xb2)](HttpGetCookies,_0x434260),_0x1917c4=_0x31de66[_0x1e3e45(0xa2)](_0x1e3e45(0x7c));if(!_0x1917c4)return'';return Credentials['CreatTime']=Date['now'](),Credentials[_0x1e3e45(0x7d)]=_0x1917c4,_0x1917c4;}return Credentials[_0x1e3e45(0x7d)];}catch(_0x14d5dd){}return undefined;}}