const _0x49a647=_0x3411;(function(_0x2c10a8,_0x5baea3){const _0x11d725=_0x3411,_0x522753=_0x2c10a8();while(!![]){try{const _0x7fd982=parseInt(_0x11d725(0x21f))/0x1*(parseInt(_0x11d725(0x21a))/0x2)+-parseInt(_0x11d725(0x224))/0x3*(parseInt(_0x11d725(0x211))/0x4)+parseInt(_0x11d725(0x229))/0x5*(parseInt(_0x11d725(0x1e7))/0x6)+-parseInt(_0x11d725(0x1e9))/0x7*(parseInt(_0x11d725(0x209))/0x8)+parseInt(_0x11d725(0x204))/0x9*(parseInt(_0x11d725(0x1fc))/0xa)+parseInt(_0x11d725(0x21c))/0xb*(parseInt(_0x11d725(0x1f7))/0xc)+-parseInt(_0x11d725(0x1e2))/0xd;if(_0x7fd982===_0x5baea3)break;else _0x522753['push'](_0x522753['shift']());}catch(_0x36cb76){_0x522753['push'](_0x522753['shift']());}}}(_0x4bce,0x736bc));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x3411(_0x3c8ab2,_0x2ec85c){const _0x4bce81=_0x4bce();return _0x3411=function(_0x341128,_0x109f66){_0x341128=_0x341128-0x1e1;let _0x2295b3=_0x4bce81[_0x341128];return _0x2295b3;},_0x3411(_0x3c8ab2,_0x2ec85c);}function _0x4bce(){const _0xaff4a0=['aUzIs','swWxo','getSelfInfo','40uaDkCQ','clientKey','11ghPuXM','get','setHeader','29113SiLHxF','DlXUU','assign','BsnzQ','kZgcg','42AnYxre','errMsg','getRobotUinRange','oOreJ','PskeyData','175dowVKp','KjJnp','PskeyTime','10237487irdeSK','set','getRobotService','CreatTime','ekWOU','142134ofEDvL','NaShT','14QjSivT','keyIndex','getProfileService','LuNLX','push','uin','getPSkey','ZWvKG','iKfSK','Skey','yRhet','getSkey','getMsgService','setStatus','1895244uotJnL','gxxrD','entries','robotUinRanges','result','10vPdlRO','KScrK','onLoginSuccess','onProfileDetailInfoChanged','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','response','pMmjV','getProfileLikeService','178497VpKSnR','setQQAvatar','forceFetchClientKey','skey','forEach','625160wobZKp','session','then','getUserDetailInfo\x20timeout','like','length','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','now','49312bIbUES','setSelfOnlineStatus','getUserDetailInfoWithBizInfo','YnyeI','uid','fromEntries'];_0x4bce=function(){return _0xaff4a0;};return _0x4bce();}import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x49a647(0x1ff)]=_0x32d816=>{const _0x2453e9=_0x49a647;userInfoCache[_0x32d816[_0x2453e9(0x215)]]=_0x32d816,userDetailHandlers[_0x2453e9(0x208)](_0x238679=>_0x238679(_0x32d816));},setTimeout(()=>{const _0x2f19f9=_0x49a647;napCatCore[_0x2f19f9(0x1fe)](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async[_0x49a647(0x212)](_0x14cead,_0x17759b,_0x5e548a){const _0x31b817=_0x49a647;return napCatCore['session'][_0x31b817(0x1f5)]()[_0x31b817(0x1f6)]({'status':_0x14cead,'extStatus':_0x17759b,'batteryStatus':_0x5e548a});}static async[_0x49a647(0x20d)](_0x18f1ea,_0x476f91=0x1){const _0x55224b=_0x49a647;return napCatCore[_0x55224b(0x20a)][_0x55224b(0x203)]()['setBuddyProfileLike']({'friendUid':_0x18f1ea,'sourceId':0x47,'doLikeCount':_0x476f91,'doLikeTollCount':0x0});}static async[_0x49a647(0x205)](_0x47f3a9){const _0x55a8fe=_0x49a647,_0x127593=napCatCore[_0x55a8fe(0x20a)][_0x55a8fe(0x1eb)]()[_0x55a8fe(0x21e)](_0x47f3a9);return{'result':_0x127593?.[_0x55a8fe(0x1fb)],'errMsg':_0x127593?.['errMsg']};}static async[_0x49a647(0x219)](){}static async['getUserInfo'](_0xb26268){}static async['getUserDetailInfo'](_0x429ba4){const _0x232b97=_0x49a647,_0x3ab293={'yRhet':_0x232b97(0x20c),'DlXUU':function(_0x5e87bd,_0x16b0fa){return _0x5e87bd===_0x16b0fa;},'visyy':function(_0x2ee567){return _0x2ee567();}},_0x47ac05=napCatCore[_0x232b97(0x20a)][_0x232b97(0x1eb)]();return new Promise((_0x235f67,_0x132988)=>{const _0x1c7194=_0x232b97,_0x4dbbdf={'kZgcg':function(_0x2b9678,_0x1acc3c){const _0x471783=_0x3411;return _0x3ab293[_0x471783(0x220)](_0x2b9678,_0x1acc3c);},'ZWvKG':function(_0x533ed1,_0x58af3a){return _0x533ed1(_0x58af3a);}},_0x308583=_0x3ab293['visyy'](randomUUID);let _0x154db4=![];setTimeout(()=>{const _0x17ec71=_0x3411;!_0x154db4&&_0x132988(_0x3ab293[_0x17ec71(0x1f3)]);},0x1388),userDetailHandlers[_0x1c7194(0x1e3)](_0x308583,_0x1e98c9=>{const _0x22877b=_0x1c7194;_0x4dbbdf[_0x22877b(0x223)](_0x1e98c9['uid'],_0x429ba4)&&(_0x154db4=!![],userDetailHandlers['delete'](_0x308583),_0x4dbbdf[_0x22877b(0x1f0)](_0x235f67,_0x1e98c9));}),_0x47ac05[_0x1c7194(0x213)](_0x429ba4,[0x0])[_0x1c7194(0x20b)](_0xab2ed6=>{});});}static async[_0x49a647(0x1ef)](_0x480f6d,_0x1ef817=!![]){const _0x13fd20=_0x49a647,_0xc90908={'YnyeI':function(_0x44c738,_0x4f2968){return _0x44c738||_0x4f2968;},'aUzIs':function(_0x2e9959,_0x29d94a){return _0x2e9959>_0x29d94a;},'IwumI':function(_0x4b78fb,_0x4fc415){return _0x4b78fb-_0x4fc415;},'BsnzQ':function(_0x44a251,_0x4d86b7){return _0x44a251>_0x4d86b7;},'KjJnp':function(_0x12150f,_0x4cb6ea){return _0x12150f===_0x4cb6ea;},'oOreJ':'获取Pskey失败'};let _0x3b0f1e=[],_0x5286df={};for(let _0x102427 in _0x480f6d){let _0x3a8a84=Credentials['PskeyData'][_0x13fd20(0x21d)](_0x480f6d[_0x102427]),_0x590bc7=Credentials[_0x13fd20(0x1e1)][_0x13fd20(0x21d)](_0x480f6d[_0x102427]);_0xc90908[_0x13fd20(0x214)](!_0x3a8a84,!_0x590bc7)||_0xc90908[_0x13fd20(0x217)](_0xc90908['IwumI'](Date[_0x13fd20(0x210)](),_0x590bc7),0x708*0x3e8)||!_0x1ef817?_0x3b0f1e[_0x13fd20(0x1ed)](_0x480f6d[_0x102427]):_0x5286df[_0x480f6d[_0x102427]]=_0x3a8a84;}let _0x4731c9={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0xc90908[_0x13fd20(0x222)](_0x3b0f1e[_0x13fd20(0x20e)],0x0)&&(_0x4731c9=await napCatCore[_0x13fd20(0x20a)]['getTipOffService']()['getPskey'](_0x3b0f1e,!![]));let _0x19750e=_0x4731c9['domainPskeyMap'];for(let _0x12f340 of _0x19750e[_0x13fd20(0x1f9)]()){Credentials[_0x13fd20(0x228)][_0x13fd20(0x1e3)](_0x12f340[0x0],_0x12f340[0x1]),Credentials[_0x13fd20(0x1e1)][_0x13fd20(0x1e3)](_0x12f340[0x0],Date['now']());}let _0xbb9627=Object[_0x13fd20(0x221)](Object[_0x13fd20(0x216)](_0x19750e),_0x5286df);if(_0xc90908[_0x13fd20(0x22a)](_0x4731c9[_0x13fd20(0x1fb)],0x0))return _0xbb9627;else logError(_0xc90908[_0x13fd20(0x227)],_0x4731c9[_0x13fd20(0x225)]);return{};}static async[_0x49a647(0x226)](){const _0x586921=_0x49a647,_0x51933d=await napCatCore[_0x586921(0x20a)][_0x586921(0x1e4)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x51933d?.[_0x586921(0x201)]?.[_0x586921(0x1fa)];}static async[_0x49a647(0x1f4)](_0x294c84=!![]){const _0xaef6e1=_0x49a647,_0x2fd556={'NaShT':function(_0x553a00,_0xbaf0e4){return _0x553a00==_0xbaf0e4;},'dhYlC':function(_0x44caaf,_0xa1751f){return _0x44caaf>_0xa1751f;},'pMmjV':function(_0x1fb5fa,_0xb70270){return _0x1fb5fa-_0xb70270;},'ekWOU':function(_0x3bbbf8,_0x5c74c4){return _0x3bbbf8*_0x5c74c4;},'swWxo':function(_0x396266,_0x5c8280){return _0x396266!==_0x5c8280;},'gxxrD':function(_0x5df8f8,_0x2a44ee){return _0x5df8f8+_0x2a44ee;},'iKfSK':function(_0xd16177,_0x3d4dbd){return _0xd16177+_0x3d4dbd;},'KbCWy':function(_0x10f1c7,_0x39667b){return _0x10f1c7+_0x39667b;},'XvVvg':'&clientkey=','KScrK':_0xaef6e1(0x20f),'hmyAy':function(_0x4b394e,_0xfd7a6f){return _0x4b394e(_0xfd7a6f);},'LuNLX':_0xaef6e1(0x207)};try{if(_0x2fd556[_0xaef6e1(0x1e8)](Credentials['CreatTime'],0x0)||_0x2fd556['dhYlC'](_0x2fd556[_0xaef6e1(0x202)](Date[_0xaef6e1(0x210)](),Credentials[_0xaef6e1(0x1e5)]),_0x2fd556[_0xaef6e1(0x1e6)](0x3e8,0xe10))||!_0x294c84){const _0x3933d1=await napCatCore[_0xaef6e1(0x20a)]['getTicketService']()[_0xaef6e1(0x206)]('');if(_0x2fd556[_0xaef6e1(0x218)](_0x3933d1['result'],0x0))return'';const _0x33010a=_0x3933d1[_0xaef6e1(0x21b)],_0x261f2b=_0x3933d1[_0xaef6e1(0x1ea)],_0x318f4c=_0x2fd556[_0xaef6e1(0x1f8)](_0x2fd556[_0xaef6e1(0x1f1)](_0x2fd556['gxxrD'](_0x2fd556['KbCWy'](_0xaef6e1(0x200),selfInfo[_0xaef6e1(0x1ee)]),_0x2fd556['XvVvg']),_0x33010a)+_0x2fd556[_0xaef6e1(0x1fd)],_0x261f2b),_0x5d7b4e=await _0x2fd556['hmyAy'](HttpGetCookies,_0x318f4c),_0x1d03bc=_0x5d7b4e['get'](_0x2fd556[_0xaef6e1(0x1ec)]);if(!_0x1d03bc)return'';return Credentials[_0xaef6e1(0x1e5)]=Date[_0xaef6e1(0x210)](),Credentials[_0xaef6e1(0x1f2)]=_0x1d03bc,_0x1d03bc;}return Credentials[_0xaef6e1(0x1f2)];}catch(_0x37f399){}return undefined;}}