function _0x53de(){const _0x3b1f87=['https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','robotUinRanges','9860942XCYCHQ','errMsg','result','fmsxg','onLoginSuccess','getPSkey','khmTG','6igKXrz','getRobotService','assign','now','tUiZn','5712800nmjJQb','setHeader','ggyPH','entries','length','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','CreatTime','addListener','28071TmcSPJ','Skey','getRobotUinRange','KpNAi','getProfileLikeService','getUserDetailInfo\x20timeout','16kCgBHS','iPZaw','getPskey','get','push','2586681gIgITj','set','getUserInfo','&clientkey=','like','QgvRQ','getUserDetailInfoWithBizInfo','forEach','setBuddyProfileLike','session','delete','domainPskeyMap','rbLHL','getProfileService','setStatus','getSelfInfo','PskeyTime','eveQP','nJWMQ','PskeyData','VkcJE','kpiKR','uDjvL','866945VCICzS','forceFetchClientKey','1364419diAKma','setSelfOnlineStatus','50xRxWqv','getMsgService','getTicketService','fDgwS','mWRoT','rzsON','32332850sYYBbK','response','fromEntries','FyUIt'];_0x53de=function(){return _0x3b1f87;};return _0x53de();}const _0x4e1d2a=_0x16f7;(function(_0x4e8ed4,_0x540b5f){const _0xfb6322=_0x16f7,_0x417612=_0x4e8ed4();while(!![]){try{const _0x16bbb4=parseInt(_0xfb6322(0x1a5))/0x1+parseInt(_0xfb6322(0x1a7))/0x2*(parseInt(_0xfb6322(0x1c7))/0x3)+parseInt(_0xfb6322(0x1bf))/0x4+-parseInt(_0xfb6322(0x1a3))/0x5*(-parseInt(_0xfb6322(0x1ba))/0x6)+parseInt(_0xfb6322(0x1b3))/0x7+-parseInt(_0xfb6322(0x1cd))/0x8*(parseInt(_0xfb6322(0x1d2))/0x9)+-parseInt(_0xfb6322(0x1ad))/0xa;if(_0x16bbb4===_0x540b5f)break;else _0x417612['push'](_0x417612['shift']());}catch(_0x20b8d0){_0x417612['push'](_0x417612['shift']());}}}(_0x53de,0xc3718));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener['onProfileDetailInfoChanged']=_0x15cf5c=>{const _0x40ea3f=_0x16f7;userInfoCache[_0x15cf5c['uid']]=_0x15cf5c,userDetailHandlers[_0x40ea3f(0x1d9)](_0x4b656b=>_0x4b656b(_0x15cf5c));},setTimeout(()=>{const _0x1982d7=_0x16f7;napCatCore[_0x1982d7(0x1b7)](()=>{const _0x40f3d1=_0x1982d7;napCatCore[_0x40f3d1(0x1c6)](profileListener);});},0x64);function _0x16f7(_0x39e026,_0x4af8e8){const _0x53de9b=_0x53de();return _0x16f7=function(_0x16f723,_0x1d5e4b){_0x16f723=_0x16f723-0x1a2;let _0x526311=_0x53de9b[_0x16f723];return _0x526311;},_0x16f7(_0x39e026,_0x4af8e8);}export class NTQQUserApi{static async[_0x4e1d2a(0x1a6)](_0x23a1d5,_0x3a7242,_0x1efd43){const _0x3206e4=_0x4e1d2a;return napCatCore[_0x3206e4(0x1db)][_0x3206e4(0x1a8)]()[_0x3206e4(0x1e0)]({'status':_0x23a1d5,'extStatus':_0x3a7242,'batteryStatus':_0x1efd43});}static async[_0x4e1d2a(0x1d6)](_0x1ad548,_0x5da610=0x1){const _0x1d7466=_0x4e1d2a;return napCatCore[_0x1d7466(0x1db)][_0x1d7466(0x1cb)]()[_0x1d7466(0x1da)]({'friendUid':_0x1ad548,'sourceId':0x47,'doLikeCount':_0x5da610,'doLikeTollCount':0x0});}static async['setQQAvatar'](_0x33080b){const _0x5abc75=_0x4e1d2a,_0x2efb5b=napCatCore[_0x5abc75(0x1db)][_0x5abc75(0x1df)]()[_0x5abc75(0x1c0)](_0x33080b);return{'result':_0x2efb5b?.[_0x5abc75(0x1b5)],'errMsg':_0x2efb5b?.[_0x5abc75(0x1b4)]};}static async[_0x4e1d2a(0x1e1)](){}static async[_0x4e1d2a(0x1d4)](_0x1c9ee3){}static async['getUserDetailInfo'](_0x1ae77a){const _0x3a81d8=_0x4e1d2a,_0x1da7ee={'VkcJE':function(_0x4ee7e5,_0x251f02){return _0x4ee7e5(_0x251f02);},'MsxmI':_0x3a81d8(0x1cc),'iPZaw':function(_0x23dfdb){return _0x23dfdb();},'tUiZn':function(_0x1a6b52,_0xe57bb7,_0x10a62c){return _0x1a6b52(_0xe57bb7,_0x10a62c);}},_0x575fcf=napCatCore['session'][_0x3a81d8(0x1df)]();return new Promise((_0x3612c1,_0x51e835)=>{const _0x492cdc=_0x3a81d8,_0x318b0a=_0x1da7ee[_0x492cdc(0x1ce)](randomUUID);let _0x15d607=![];_0x1da7ee[_0x492cdc(0x1be)](setTimeout,()=>{const _0x162fe2=_0x492cdc;!_0x15d607&&_0x1da7ee[_0x162fe2(0x1e6)](_0x51e835,_0x1da7ee['MsxmI']);},0x1388),userDetailHandlers[_0x492cdc(0x1d3)](_0x318b0a,_0x46bafa=>{const _0x38312d=_0x492cdc;_0x46bafa['uid']===_0x1ae77a&&(_0x15d607=!![],userDetailHandlers[_0x38312d(0x1dc)](_0x318b0a),_0x1da7ee[_0x38312d(0x1e6)](_0x3612c1,_0x46bafa));}),_0x575fcf[_0x492cdc(0x1d8)](_0x1ae77a,[0x0])['then'](_0x5803fd=>{});});}static async[_0x4e1d2a(0x1b8)](_0x44da40,_0x32a146=!![]){const _0x3284a0=_0x4e1d2a,_0x2e9889={'ggyPH':function(_0x4cd546,_0xe5327f){return _0x4cd546>_0xe5327f;},'rzsON':function(_0x32351e,_0x5c78ea){return _0x32351e-_0x5c78ea;},'QgvRQ':function(_0xe4313e,_0x541bed){return _0xe4313e*_0x541bed;},'kpiKR':function(_0x16fb29,_0x505d6c){return _0x16fb29>_0x505d6c;},'khmTG':function(_0x57fa11,_0x35886b){return _0x57fa11===_0x35886b;},'FyUIt':function(_0x2404f4,_0x28d2ae,_0x11131b){return _0x2404f4(_0x28d2ae,_0x11131b);},'ULXeu':'获取Pskey失败'};let _0xe00eff=[],_0x46e3e9={};for(let _0x278c33 in _0x44da40){let _0x2761b9=Credentials[_0x3284a0(0x1e5)][_0x3284a0(0x1d0)](_0x44da40[_0x278c33]),_0x1fabf1=Credentials[_0x3284a0(0x1e2)][_0x3284a0(0x1d0)](_0x44da40[_0x278c33]);!_0x2761b9||!_0x1fabf1||_0x2e9889[_0x3284a0(0x1c1)](_0x2e9889[_0x3284a0(0x1ac)](Date['now'](),_0x1fabf1),_0x2e9889[_0x3284a0(0x1d7)](0x708,0x3e8))||!_0x32a146?_0xe00eff[_0x3284a0(0x1d1)](_0x44da40[_0x278c33]):_0x46e3e9[_0x44da40[_0x278c33]]=_0x2761b9;}let _0x3eb03f={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x2e9889[_0x3284a0(0x1e7)](_0xe00eff[_0x3284a0(0x1c3)],0x0)&&(_0x3eb03f=await napCatCore['session']['getTipOffService']()[_0x3284a0(0x1cf)](_0xe00eff,!![]));let _0x26e3a4=_0x3eb03f[_0x3284a0(0x1dd)];for(let _0x577f62 of _0x26e3a4[_0x3284a0(0x1c2)]()){Credentials['PskeyData'][_0x3284a0(0x1d3)](_0x577f62[0x0],_0x577f62[0x1]),Credentials['PskeyTime'][_0x3284a0(0x1d3)](_0x577f62[0x0],Date[_0x3284a0(0x1bd)]());}let _0x59b3e8=Object[_0x3284a0(0x1bc)](Object[_0x3284a0(0x1af)](_0x26e3a4),_0x46e3e9);if(_0x2e9889[_0x3284a0(0x1b9)](_0x3eb03f['result'],0x0))return _0x59b3e8;else _0x2e9889[_0x3284a0(0x1b0)](logError,_0x2e9889['ULXeu'],_0x3eb03f['errMsg']);return{};}static async['getRobotUinRange'](){const _0x3c8572=_0x4e1d2a,_0x18c839=await napCatCore[_0x3c8572(0x1db)][_0x3c8572(0x1bb)]()[_0x3c8572(0x1c9)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x18c839?.[_0x3c8572(0x1ae)]?.[_0x3c8572(0x1b2)];}static async['getSkey'](_0x55d27e=!![]){const _0x4c5f5c=_0x4e1d2a,_0x390651={'mWRoT':function(_0x5173a9,_0x56b6c7){return _0x5173a9==_0x56b6c7;},'hHLFA':function(_0x2aef7d,_0x13092f){return _0x2aef7d*_0x13092f;},'fDgwS':function(_0x2e32f4,_0x59de9f){return _0x2e32f4!==_0x59de9f;},'rbLHL':function(_0x226482,_0x435e33){return _0x226482+_0x435e33;},'nJWMQ':function(_0x15f3ec,_0x1c4eb3){return _0x15f3ec+_0x1c4eb3;},'KpNAi':_0x4c5f5c(0x1b1),'uDjvL':_0x4c5f5c(0x1d5),'fmsxg':_0x4c5f5c(0x1c4),'yDJio':function(_0x44ef4b,_0x1c3617){return _0x44ef4b(_0x1c3617);},'eveQP':'skey'};try{if(_0x390651[_0x4c5f5c(0x1ab)](Credentials['CreatTime'],0x0)||Date[_0x4c5f5c(0x1bd)]()-Credentials[_0x4c5f5c(0x1c5)]>_0x390651['hHLFA'](0x3e8,0xe10)||!_0x55d27e){const _0x17b4ce=await napCatCore[_0x4c5f5c(0x1db)][_0x4c5f5c(0x1a9)]()[_0x4c5f5c(0x1a4)]('');if(_0x390651[_0x4c5f5c(0x1aa)](_0x17b4ce[_0x4c5f5c(0x1b5)],0x0))return'';const _0x5cd724=_0x17b4ce['clientKey'],_0x342743=_0x17b4ce['keyIndex'],_0x4ab8e8=_0x390651[_0x4c5f5c(0x1de)](_0x390651[_0x4c5f5c(0x1e4)](_0x390651[_0x4c5f5c(0x1ca)]+selfInfo['uin']+_0x390651[_0x4c5f5c(0x1a2)],_0x5cd724),_0x390651[_0x4c5f5c(0x1b6)])+_0x342743,_0x3e0570=await _0x390651['yDJio'](HttpGetCookies,_0x4ab8e8),_0x49bf38=_0x3e0570[_0x4c5f5c(0x1d0)](_0x390651[_0x4c5f5c(0x1e3)]);if(!_0x49bf38)return'';return Credentials['CreatTime']=Date[_0x4c5f5c(0x1bd)](),Credentials[_0x4c5f5c(0x1c8)]=_0x49bf38,_0x49bf38;}return Credentials['Skey'];}catch(_0x5e7c08){}return undefined;}}