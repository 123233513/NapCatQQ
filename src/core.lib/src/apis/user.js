function _0x2f24(){const _0xb7bf2e=['delete','set','skey','onProfileDetailInfoChanged','7gTSctb','getRobotUinRange','result','session','getUserDetailInfoWithBizInfo','uid','getTicketService','&clientkey=','rRLKC','askli','onLoginSuccess','ohsIN','forceFetchClientKey','lfeYZ','11147150tdPYpw','6840305pZpJcw','atlNm','robotUinRanges','errMsg','get','DwrQA','keyIndex','5484087ksACaL','uin','14711103oBgRAm','HvrBa','232908TwycBi','push','setHeader','pBgLm','PskeyTime','BSedR','getPskey','Skey','148flQhBg','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','getTipOffService','forEach','获取Pskey失败','16XbPnMc','5tcqxeZ','545782JlaPRp','getPSkey','zAejj','domainPskeyMap','jPSlv','PskeyData','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','setSelfOnlineStatus','SbCCB','entries','getSkey','now','RAhPG','20778OSlnDm','getRobotService','GXlJI','getProfileService','lrGdt','CreatTime','getUserInfo','length','setStatus','response','clientKey','getUserDetailInfo\x20timeout','setBuddyProfileLike','fromEntries'];_0x2f24=function(){return _0xb7bf2e;};return _0x2f24();}const _0x315752=_0x3cb3;(function(_0x26292c,_0x4ff3ef){const _0x3a6ae8=_0x3cb3,_0x109125=_0x26292c();while(!![]){try{const _0x5bdd16=-parseInt(_0x3a6ae8(0x9b))/0x1*(parseInt(_0x3a6ae8(0x9c))/0x2)+-parseInt(_0x3a6ae8(0xa9))/0x3*(parseInt(_0x3a6ae8(0x95))/0x4)+parseInt(_0x3a6ae8(0xca))/0x5+-parseInt(_0x3a6ae8(0x8d))/0x6*(parseInt(_0x3a6ae8(0xbb))/0x7)+-parseInt(_0x3a6ae8(0x9a))/0x8*(-parseInt(_0x3a6ae8(0x89))/0x9)+parseInt(_0x3a6ae8(0xc9))/0xa+-parseInt(_0x3a6ae8(0x8b))/0xb;if(_0x5bdd16===_0x4ff3ef)break;else _0x109125['push'](_0x109125['shift']());}catch(_0x515139){_0x109125['push'](_0x109125['shift']());}}}(_0x2f24,0xac02a));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';function _0x3cb3(_0x5f2f47,_0x2f7b05){const _0x2f2485=_0x2f24();return _0x3cb3=function(_0x3cb39f,_0x2ae1cc){_0x3cb39f=_0x3cb39f-0x88;let _0x4b40db=_0x2f2485[_0x3cb39f];return _0x4b40db;},_0x3cb3(_0x5f2f47,_0x2f7b05);}import{randomUUID}from'crypto';import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x315752(0xba)]=_0x41d7db=>{const _0xab3d51=_0x315752;userInfoCache[_0x41d7db[_0xab3d51(0xc0)]]=_0x41d7db,userDetailHandlers[_0xab3d51(0x98)](_0x18768f=>_0x18768f(_0x41d7db));},setTimeout(()=>{const _0x3ee0c4=_0x315752;napCatCore[_0x3ee0c4(0xc5)](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async[_0x315752(0xa3)](_0x3b58bb,_0x3dad2b,_0x5510a7){const _0x42ec84=_0x315752;return napCatCore['session']['getMsgService']()[_0x42ec84(0xb1)]({'status':_0x3b58bb,'extStatus':_0x3dad2b,'batteryStatus':_0x5510a7});}static async['like'](_0x1217c5,_0xbbbff2=0x1){const _0x1e039d=_0x315752;return napCatCore[_0x1e039d(0xbe)]['getProfileLikeService']()[_0x1e039d(0xb5)]({'friendUid':_0x1217c5,'sourceId':0x47,'doLikeCount':_0xbbbff2,'doLikeTollCount':0x0});}static async['setQQAvatar'](_0x332b22){const _0x16817a=_0x315752,_0x135bea=napCatCore[_0x16817a(0xbe)][_0x16817a(0xac)]()[_0x16817a(0x8f)](_0x332b22);return{'result':_0x135bea?.[_0x16817a(0xbd)],'errMsg':_0x135bea?.[_0x16817a(0xcd)]};}static async['getSelfInfo'](){}static async[_0x315752(0xaf)](_0x5747ce){}static async['getUserDetailInfo'](_0x48f559){const _0x2e41d1=_0x315752,_0x11d0a4={'DwrQA':function(_0x5ec645,_0x1b4c2a){return _0x5ec645(_0x1b4c2a);},'ohsIN':_0x2e41d1(0xb4),'lrGdt':function(_0x17f0f5){return _0x17f0f5();},'hRHoW':function(_0x577d24,_0xbb43fc,_0x2b6d63){return _0x577d24(_0xbb43fc,_0x2b6d63);}},_0x45b681=napCatCore['session'][_0x2e41d1(0xac)]();return new Promise((_0x15920c,_0x1b2074)=>{const _0x4872f2=_0x2e41d1,_0x2d0c4e={'lfeYZ':function(_0x5551de,_0x58470f){const _0xa4ffe9=_0x3cb3;return _0x11d0a4[_0xa4ffe9(0xcf)](_0x5551de,_0x58470f);},'bZhMw':_0x11d0a4[_0x4872f2(0xc6)]},_0x4237d8=_0x11d0a4[_0x4872f2(0xad)](randomUUID);let _0xdbb731=![];_0x11d0a4['hRHoW'](setTimeout,()=>{const _0x245e54=_0x4872f2;!_0xdbb731&&_0x2d0c4e[_0x245e54(0xc8)](_0x1b2074,_0x2d0c4e['bZhMw']);},0x1388),userDetailHandlers[_0x4872f2(0xb8)](_0x4237d8,_0x33f8f0=>{const _0x2fd92b=_0x4872f2;_0x33f8f0[_0x2fd92b(0xc0)]===_0x48f559&&(_0xdbb731=!![],userDetailHandlers[_0x2fd92b(0xb7)](_0x4237d8),_0x15920c(_0x33f8f0));}),_0x45b681[_0x4872f2(0xbf)](_0x48f559,[0x0])['then'](_0x5084d7=>{});});}static async[_0x315752(0x9d)](_0x40dd01,_0x507570=!![]){const _0x53eeb8=_0x315752,_0x26bbc0={'RAhPG':function(_0x595fc8,_0x1f124f){return _0x595fc8>_0x1f124f;},'rRLKC':function(_0x5b69c9,_0x556e65){return _0x5b69c9-_0x556e65;},'mEwsw':_0x53eeb8(0x99)};let _0x44b520=[],_0x53425d={};for(let _0x2df0f0 in _0x40dd01){let _0x5e6026=Credentials[_0x53eeb8(0xa1)][_0x53eeb8(0xce)](_0x40dd01[_0x2df0f0]),_0x9f5fdf=Credentials['PskeyTime']['get'](_0x40dd01[_0x2df0f0]);!_0x5e6026||!_0x9f5fdf||_0x26bbc0[_0x53eeb8(0xa8)](_0x26bbc0[_0x53eeb8(0xc3)](Date[_0x53eeb8(0xa7)](),_0x9f5fdf),0x708*0x3e8)||!_0x507570?_0x44b520[_0x53eeb8(0x8e)](_0x40dd01[_0x2df0f0]):_0x53425d[_0x40dd01[_0x2df0f0]]=_0x5e6026;}let _0x7a93a2={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x26bbc0[_0x53eeb8(0xa8)](_0x44b520[_0x53eeb8(0xb0)],0x0)&&(_0x7a93a2=await napCatCore[_0x53eeb8(0xbe)][_0x53eeb8(0x97)]()[_0x53eeb8(0x93)](_0x44b520,!![]));let _0x1064d2=_0x7a93a2[_0x53eeb8(0x9f)];for(let _0x3fd8d5 of _0x1064d2[_0x53eeb8(0xa5)]()){Credentials[_0x53eeb8(0xa1)][_0x53eeb8(0xb8)](_0x3fd8d5[0x0],_0x3fd8d5[0x1]),Credentials[_0x53eeb8(0x91)]['set'](_0x3fd8d5[0x0],Date['now']());}let _0x954148=Object['assign'](Object[_0x53eeb8(0xb6)](_0x1064d2),_0x53425d);if(_0x7a93a2[_0x53eeb8(0xbd)]===0x0)return _0x954148;else logError(_0x26bbc0['mEwsw'],_0x7a93a2[_0x53eeb8(0xcd)]);return{};}static async[_0x315752(0xbc)](){const _0x28eabf=_0x315752,_0x32d75f=await napCatCore['session'][_0x28eabf(0xaa)]()[_0x28eabf(0xbc)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x32d75f?.[_0x28eabf(0xb2)]?.[_0x28eabf(0xcc)];}static async[_0x315752(0xa6)](_0x478ffa=!![]){const _0x3dbebd=_0x315752,_0x216874={'zAejj':function(_0x1e04aa,_0x57eddf){return _0x1e04aa==_0x57eddf;},'bUhzF':function(_0x4ae02c,_0x157478){return _0x4ae02c>_0x157478;},'pBgLm':function(_0x2948af,_0x130cff){return _0x2948af*_0x130cff;},'mPfFp':function(_0xd8cdc2,_0x1a808e){return _0xd8cdc2!==_0x1a808e;},'askli':function(_0x10fff6,_0x5ebf26){return _0x10fff6+_0x5ebf26;},'GXlJI':function(_0x2a7c6c,_0x1bc684){return _0x2a7c6c+_0x1bc684;},'HvrBa':_0x3dbebd(0xa2),'atlNm':_0x3dbebd(0xc2),'jPSlv':_0x3dbebd(0x96),'SbCCB':function(_0x418c3a,_0x54bb92){return _0x418c3a(_0x54bb92);},'BSedR':_0x3dbebd(0xb9)};try{if(_0x216874[_0x3dbebd(0x9e)](Credentials[_0x3dbebd(0xae)],0x0)||_0x216874['bUhzF'](Date[_0x3dbebd(0xa7)]()-Credentials['CreatTime'],_0x216874[_0x3dbebd(0x90)](0x3e8,0xe10))||!_0x478ffa){const _0x1d111c=await napCatCore[_0x3dbebd(0xbe)][_0x3dbebd(0xc1)]()[_0x3dbebd(0xc7)]('');if(_0x216874['mPfFp'](_0x1d111c[_0x3dbebd(0xbd)],0x0))return'';const _0x4aac0e=_0x1d111c[_0x3dbebd(0xb3)],_0x3e5b58=_0x1d111c[_0x3dbebd(0x88)],_0x241ff4=_0x216874[_0x3dbebd(0xc4)](_0x216874['GXlJI'](_0x216874[_0x3dbebd(0xab)](_0x216874[_0x3dbebd(0xc4)](_0x216874[_0x3dbebd(0x8c)],selfInfo[_0x3dbebd(0x8a)]),_0x216874[_0x3dbebd(0xcb)])+_0x4aac0e,_0x216874[_0x3dbebd(0xa0)]),_0x3e5b58),_0x48705a=await _0x216874[_0x3dbebd(0xa4)](HttpGetCookies,_0x241ff4),_0x4c2e65=_0x48705a['get'](_0x216874[_0x3dbebd(0x92)]);if(!_0x4c2e65)return'';return Credentials[_0x3dbebd(0xae)]=Date[_0x3dbebd(0xa7)](),Credentials[_0x3dbebd(0x94)]=_0x4c2e65,_0x4c2e65;}return Credentials[_0x3dbebd(0x94)];}catch(_0xce16ad){}return undefined;}}