const _0x5f9b19=_0x3ea8;(function(_0x12de20,_0x30e93d){const _0x1ce57e=_0x3ea8,_0x45bf63=_0x12de20();while(!![]){try{const _0x1c497d=-parseInt(_0x1ce57e(0x102))/0x1*(parseInt(_0x1ce57e(0x12d))/0x2)+parseInt(_0x1ce57e(0x113))/0x3*(-parseInt(_0x1ce57e(0x12e))/0x4)+-parseInt(_0x1ce57e(0x126))/0x5+-parseInt(_0x1ce57e(0x12a))/0x6+-parseInt(_0x1ce57e(0x13e))/0x7*(-parseInt(_0x1ce57e(0x104))/0x8)+parseInt(_0x1ce57e(0x132))/0x9*(parseInt(_0x1ce57e(0x137))/0xa)+parseInt(_0x1ce57e(0x105))/0xb*(parseInt(_0x1ce57e(0x118))/0xc);if(_0x1c497d===_0x30e93d)break;else _0x45bf63['push'](_0x45bf63['shift']());}catch(_0x5a88d8){_0x45bf63['push'](_0x45bf63['shift']());}}}(_0x4dc8,0x2e522));import{Credentials,selfInfo}from'@/core/data';function _0x3ea8(_0x3320cd,_0x41fde5){const _0x4dc849=_0x4dc8();return _0x3ea8=function(_0x3ea8b8,_0x3336ef){_0x3ea8b8=_0x3ea8b8-0xfd;let _0x59dea4=_0x4dc849[_0x3ea8b8];return _0x59dea4;},_0x3ea8(_0x3320cd,_0x41fde5);}import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';function _0x4dc8(){const _0x54539d=['set','getSkey','forceFetchClientKey','getUserInfo','rXeiX','robotUinRanges','domainPskeyMap','Skey','CreatTime','1551KwOCrR','setQQAvatar','clientKey','dlmOJ','pwSIY','18168okfCJP','XVpsR','&clientkey=','eNxao','like','getPSkey','now','fromEntries','then','getUserDetailInfo','uid','getPskey','onProfileDetailInfoChanged','setHeader','1617930oHWctT','FqPqP','addListener','cjvjc','1708374HipbWv','cGkUC','getSelfInfo','661562MTgBAe','1948FGddsv','session','JHcCV','获取Pskey失败','54dHZVwi','errMsg','xfKuI','getRobotService','getTipOffService','125370VuoVKd','setStatus','get','skey','setSelfOnlineStatus','VZBxV','delete','6867jtNlQW','OUWjC','result','forEach','FVPVZ','fTshp','1qXVevY','keyIndex','1336RcCmWH','8294VVNGBl','getTicketService','getRobotUinRange','getProfileLikeService','getMsgService'];_0x4dc8=function(){return _0x54539d;};return _0x4dc8();}import{randomUUID}from'crypto';import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x5f9b19(0x124)]=_0xa57595=>{const _0x41fe31=_0x5f9b19;userInfoCache[_0xa57595[_0x41fe31(0x122)]]=_0xa57595,userDetailHandlers[_0x41fe31(0xff)](_0x1f446a=>_0x1f446a(_0xa57595));},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x2a9a4e=_0x3ea8;napCatCore[_0x2a9a4e(0x128)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x5f9b19(0x13b)](_0x321946,_0x2161a7,_0xd4dcf1){const _0xb03d09=_0x5f9b19;return napCatCore[_0xb03d09(0x12f)][_0xb03d09(0x109)]()[_0xb03d09(0x138)]({'status':_0x321946,'extStatus':_0x2161a7,'batteryStatus':_0xd4dcf1});}static async[_0x5f9b19(0x11c)](_0x2f331e,_0x33290b=0x1){const _0x17f5dd=_0x5f9b19;return napCatCore[_0x17f5dd(0x12f)][_0x17f5dd(0x108)]()['setBuddyProfileLike']({'friendUid':_0x2f331e,'sourceId':0x47,'doLikeCount':_0x33290b,'doLikeTollCount':0x0});}static async[_0x5f9b19(0x114)](_0x1d4400){const _0x33d851=_0x5f9b19,_0x4dcea1=napCatCore[_0x33d851(0x12f)]['getProfileService']()[_0x33d851(0x125)](_0x1d4400);return{'result':_0x4dcea1?.[_0x33d851(0xfe)],'errMsg':_0x4dcea1?.[_0x33d851(0x133)]};}static async[_0x5f9b19(0x12c)](){}static async[_0x5f9b19(0x10d)](_0x478bd3){}static async[_0x5f9b19(0x121)](_0x3bc191){const _0x2954e2=_0x5f9b19,_0x4107b7={'cjvjc':function(_0x3d540c,_0x1beec8){return _0x3d540c(_0x1beec8);},'dlmOJ':function(_0x2bfd73,_0x162acb){return _0x2bfd73===_0x162acb;},'eNxao':function(_0x530ebc){return _0x530ebc();},'FVPVZ':function(_0x268821,_0x557b80,_0xd2005e){return _0x268821(_0x557b80,_0xd2005e);}},_0x492320=napCatCore[_0x2954e2(0x12f)]['getProfileService']();return new Promise((_0x552b39,_0xfaac85)=>{const _0x217ef3=_0x2954e2,_0x48fddd={'cGkUC':function(_0x67a705,_0x46b7a4){const _0x38ffd0=_0x3ea8;return _0x4107b7[_0x38ffd0(0x116)](_0x67a705,_0x46b7a4);},'VZBxV':function(_0x2af182,_0x51e840){return _0x2af182(_0x51e840);}},_0x4a865c=_0x4107b7[_0x217ef3(0x11b)](randomUUID);let _0x32ba5d=![];_0x4107b7[_0x217ef3(0x100)](setTimeout,()=>{const _0x9c34b=_0x217ef3;!_0x32ba5d&&_0x4107b7[_0x9c34b(0x129)](_0xfaac85,'getUserDetailInfo\x20timeout');},0x1388),userDetailHandlers[_0x217ef3(0x10a)](_0x4a865c,_0xe7b0b2=>{const _0x129e7a=_0x217ef3;_0x48fddd[_0x129e7a(0x12b)](_0xe7b0b2['uid'],_0x3bc191)&&(_0x32ba5d=!![],userDetailHandlers[_0x129e7a(0x13d)](_0x4a865c),_0x48fddd[_0x129e7a(0x13c)](_0x552b39,_0xe7b0b2));}),_0x492320['getUserDetailInfoWithBizInfo'](_0x3bc191,[0x0])[_0x217ef3(0x120)](_0x32a3aa=>{});});}static async[_0x5f9b19(0x11d)](_0x11cd6e){const _0x3a2dcd=_0x5f9b19,_0x367092={'JHcCV':function(_0x5da6b1,_0x2682b2,_0xf135b6){return _0x5da6b1(_0x2682b2,_0xf135b6);}},_0x17df6f=await napCatCore[_0x3a2dcd(0x12f)][_0x3a2dcd(0x136)]()[_0x3a2dcd(0x123)](_0x11cd6e,!![]);if(_0x17df6f[_0x3a2dcd(0xfe)]===0x0){const _0x14a065=_0x17df6f[_0x3a2dcd(0x110)];return Object[_0x3a2dcd(0x11f)](_0x14a065);}else _0x367092[_0x3a2dcd(0x130)](logError,_0x3a2dcd(0x131),_0x17df6f['errMsg']);return{};}static async[_0x5f9b19(0x107)](){const _0x12a4e7=_0x5f9b19,_0x293b6f=await napCatCore[_0x12a4e7(0x12f)][_0x12a4e7(0x135)]()[_0x12a4e7(0x107)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x293b6f?.['response']?.[_0x12a4e7(0x10f)];}static async[_0x5f9b19(0x10b)](){const _0x48c6c=_0x5f9b19,_0x2eb1ca={'OUWjC':function(_0x459288,_0x2bcf14){return _0x459288==_0x2bcf14;},'cedXC':function(_0x264abc,_0x5c11d4){return _0x264abc>_0x5c11d4;},'uEoFG':function(_0x4c0473,_0xd3a7dc){return _0x4c0473*_0xd3a7dc;},'jQHjn':function(_0x386c13,_0x3b52e9){return _0x386c13+_0x3b52e9;},'rXeiX':function(_0x4b508a,_0x43b612){return _0x4b508a+_0x43b612;},'FqPqP':function(_0x1ee144,_0x4ac861){return _0x1ee144+_0x4ac861;},'pwSIY':function(_0x1259c1,_0x3bd8af){return _0x1259c1+_0x3bd8af;},'xfKuI':_0x48c6c(0x11a),'gJwhw':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','fTshp':function(_0x4fba08,_0x48b58d){return _0x4fba08(_0x48b58d);},'XVpsR':_0x48c6c(0x13a)};try{if(_0x2eb1ca[_0x48c6c(0xfd)](Credentials[_0x48c6c(0x112)],0x0)||_0x2eb1ca['cedXC'](Date['now']()-Credentials[_0x48c6c(0x112)],_0x2eb1ca['uEoFG'](0x3e8,0xe10))){const _0x2d7ec1=await napCatCore[_0x48c6c(0x12f)][_0x48c6c(0x106)]()[_0x48c6c(0x10c)]('');if(_0x2d7ec1[_0x48c6c(0xfe)]!==0x0)return'';const _0x4cb7b2=_0x2d7ec1[_0x48c6c(0x115)],_0x8e5d81=_0x2d7ec1[_0x48c6c(0x103)],_0x4d1536=_0x2eb1ca['jQHjn'](_0x2eb1ca[_0x48c6c(0x10e)](_0x2eb1ca[_0x48c6c(0x127)](_0x2eb1ca[_0x48c6c(0x117)]('https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=',selfInfo['uin']),_0x2eb1ca[_0x48c6c(0x134)])+_0x4cb7b2,_0x2eb1ca['gJwhw']),_0x8e5d81),_0x487a80=await _0x2eb1ca[_0x48c6c(0x101)](HttpGetCookies,_0x4d1536),_0x3d2fd5=_0x487a80[_0x48c6c(0x139)](_0x2eb1ca[_0x48c6c(0x119)]);if(!_0x3d2fd5)return'';return Credentials[_0x48c6c(0x112)]=Date[_0x48c6c(0x11e)](),Credentials[_0x48c6c(0x111)]=_0x3d2fd5,_0x3d2fd5;}return Credentials[_0x48c6c(0x111)];}catch(_0x3d3b4d){}return undefined;}}