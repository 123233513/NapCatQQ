const _0x51cf48=_0x156f;function _0xb595(){const _0x1e9119=['MKtNK','session','set','OyRwX','PPeRk','get','NZYoT','getRobotUinRange','getOwnPropertyDescriptor','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','getProfileService','modifySelfProfile','&clientkey=','BGzei','setSelfOnlineStatus','modifyDesktopMiniProfile','BLeAb','length','getRobotService','ddnVm','forceFetchClientKey','getQzoneCookies','result','210354jimmfJ','BvAnb','onLoginSuccess','138620FlFCXS','NodeIKernelUixConvertService/getUid','skey','113542wbLlCb','setLongNick','getTicketService','&u1=https%3A%2F%2F','setHeader','wjvbK','errMsg','geNGj','BLxJY','getUserDetailInfo\x20timeout','efczM','CallNoListenerEvent','KtadW','clientKey','oBbiV','object','setQQAvatar','getSelfInfo','%2Finfocenter&keyindex=19%27','HjhXb','mgzPj','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','ClientKey','getCookies','JMdYj','%2F','SXDJr','oUecl','cjXBU','setStatus','getUserDetailInfo','function','kHdmZ','wWImT','160845upQJwK','getPSkey','kesaC','mCNBy','uLQSw','uSXqv','getBuddyRecommendContactArkJson','getUserInfo','response','DfFKH','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','getTipOffService','uid','onProfileDetailInfoChanged','getSkey','NodeIKernelProfileService/getUserDetailInfoByUin','8SojEqE','yWTMY','1527948mhKrgH','48420rwcLIB','20rgEYIF','delete','NodeIKernelUixConvertService/getUin','346444lCYqWO','PIKIY','decorate','__decorate','uin','HttpsGetCookies','then','lkvCS','getSkey\x20Skey\x20is\x20Empty','getClientKey\x20Error','keyIndex','uqkfX'];_0xb595=function(){return _0x1e9119;};return _0xb595();}(function(_0x31acdd,_0x5b5cff){const _0x4c0d03=_0x156f,_0x428cf2=_0x31acdd();while(!![]){try{const _0x1c6e3b=-parseInt(_0x4c0d03(0x15b))/0x1+-parseInt(_0x4c0d03(0x158))/0x2+parseInt(_0x4c0d03(0x190))/0x3+-parseInt(_0x4c0d03(0x191))/0x4*(-parseInt(_0x4c0d03(0x17d))/0x5)+-parseInt(_0x4c0d03(0x155))/0x6+parseInt(_0x4c0d03(0x194))/0x7+parseInt(_0x4c0d03(0x18d))/0x8*(parseInt(_0x4c0d03(0x18f))/0x9);if(_0x1c6e3b===_0x5b5cff)break;else _0x428cf2['push'](_0x428cf2['shift']());}catch(_0xcf4f96){_0x428cf2['push'](_0x428cf2['shift']());}}}(_0xb595,0x2b8a2));var __decorate=this&&this[_0x51cf48(0x197)]||function(_0x4b1681,_0xbf51eb,_0x6423c2,_0x4d2321){const _0xc23b7=_0x51cf48,_0xbf1593={'SXDJr':function(_0x161444,_0x473bdc){return _0x161444<_0x473bdc;},'zsRVB':function(_0x2aa182,_0x4bfa6a){return _0x2aa182===_0x4bfa6a;},'kHdmZ':function(_0x3b4823,_0x5cc09f){return _0x3b4823===_0x5cc09f;},'geNGj':_0xc23b7(0x17a),'edWkP':function(_0xd82b56,_0x1d1383){return _0xd82b56-_0x1d1383;},'BLxJY':function(_0x39bd5f,_0x36945b){return _0x39bd5f>=_0x36945b;},'lkvCS':function(_0x29f7a0,_0x5e7d7e){return _0x29f7a0(_0x5e7d7e);},'mCNBy':function(_0x2ec79b,_0x1ccde5){return _0x2ec79b>_0x1ccde5;},'fYinU':function(_0x4065ad,_0x3b42d6,_0x29cf14,_0x49be51){return _0x4065ad(_0x3b42d6,_0x29cf14,_0x49be51);},'uSXqv':function(_0x9695b6,_0x956d63,_0x2919c3){return _0x9695b6(_0x956d63,_0x2919c3);},'wjvbK':function(_0x5185f5,_0x238e91){return _0x5185f5>_0x238e91;}};var _0x177557=arguments['length'],_0x15a57e=_0xbf1593[_0xc23b7(0x175)](_0x177557,0x3)?_0xbf51eb:_0xbf1593['zsRVB'](_0x4d2321,null)?_0x4d2321=Object[_0xc23b7(0x1a8)](_0xbf51eb,_0x6423c2):_0x4d2321,_0x7fc53a;if(_0xbf1593[_0xc23b7(0x17b)](typeof Reflect,_0xc23b7(0x16a))&&_0xbf1593[_0xc23b7(0x17b)](typeof Reflect['decorate'],_0xbf1593[_0xc23b7(0x162)]))_0x15a57e=Reflect[_0xc23b7(0x196)](_0x4b1681,_0xbf51eb,_0x6423c2,_0x4d2321);else{for(var _0x2d39b1=_0xbf1593['edWkP'](_0x4b1681[_0xc23b7(0x14f)],0x1);_0xbf1593[_0xc23b7(0x163)](_0x2d39b1,0x0);_0x2d39b1--)if(_0x7fc53a=_0x4b1681[_0x2d39b1])_0x15a57e=(_0xbf1593[_0xc23b7(0x175)](_0x177557,0x3)?_0xbf1593[_0xc23b7(0x19b)](_0x7fc53a,_0x15a57e):_0xbf1593[_0xc23b7(0x180)](_0x177557,0x3)?_0xbf1593['fYinU'](_0x7fc53a,_0xbf51eb,_0x6423c2,_0x15a57e):_0xbf1593[_0xc23b7(0x182)](_0x7fc53a,_0xbf51eb,_0x6423c2))||_0x15a57e;}return _0xbf1593[_0xc23b7(0x160)](_0x177557,0x3)&&_0x15a57e&&Object['defineProperty'](_0xbf51eb,_0x6423c2,_0x15a57e),_0x15a57e;};function _0x156f(_0x217b5b,_0x2ffb7c){const _0xb5954e=_0xb595();return _0x156f=function(_0x156f92,_0x1b9f32){_0x156f92=_0x156f92-0x14a;let _0x514668=_0xb5954e[_0x156f92];return _0x514668;},_0x156f(_0x217b5b,_0x2ffb7c);}import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x51cf48(0x18a)]=_0xecc548=>{const _0x85305d=_0x51cf48;userInfoCache[_0xecc548[_0x85305d(0x189)]]=_0xecc548,userDetailHandlers['forEach'](_0x5efe2c=>_0x5efe2c(_0xecc548));},setTimeout(()=>{const _0x11205e=_0x51cf48;napCatCore[_0x11205e(0x157)](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async[_0x51cf48(0x15c)](_0x410f4e){const _0x17ab4f=_0x51cf48;return napCatCore['session'][_0x17ab4f(0x1aa)]()['setLongNick'](_0x410f4e);}static async[_0x51cf48(0x14c)](_0x4bdaf5,_0x14ec79,_0x46a8e6){const _0x4c8556=_0x51cf48;return napCatCore['session']['getMsgService']()[_0x4c8556(0x178)]({'status':_0x4bdaf5,'extStatus':_0x14ec79,'batteryStatus':_0x46a8e6});}static async[_0x51cf48(0x183)](_0x1ec093,_0x176899=''){const _0x44f040=_0x51cf48;return napCatCore[_0x44f040(0x1a1)]['getBuddyService']()['getBuddyRecommendContactArkJson'](_0x1ec093,_0x176899);}static async['like'](_0x3462c1,_0x5385a1=0x1){const _0x53cf12=_0x51cf48;return napCatCore[_0x53cf12(0x1a1)]['getProfileLikeService']()['setBuddyProfileLike']({'friendUid':_0x3462c1,'sourceId':0x47,'doLikeCount':_0x5385a1,'doLikeTollCount':0x0});}static async[_0x51cf48(0x16b)](_0x40c58d){const _0x9015c8=_0x51cf48,_0x4ce15d=await napCatCore[_0x9015c8(0x1a1)][_0x9015c8(0x1aa)]()[_0x9015c8(0x15f)](_0x40c58d);return{'result':_0x4ce15d?.[_0x9015c8(0x154)],'errMsg':_0x4ce15d?.[_0x9015c8(0x161)]};}static async[_0x51cf48(0x16c)](){}static async[_0x51cf48(0x184)](_0x3528bc){}static async[_0x51cf48(0x179)](_0x4cf373){const _0x55c05d=_0x51cf48,_0xc37155={'oBbiV':function(_0x1c713a,_0x36d0fc){return _0x1c713a===_0x36d0fc;},'BvAnb':function(_0x4355da,_0x432105){return _0x4355da(_0x432105);},'mgzPj':function(_0x15a8d3){return _0x15a8d3();},'yWTMY':function(_0x17373e,_0x1d2e53,_0x16065e){return _0x17373e(_0x1d2e53,_0x16065e);}},_0xe0f8a6=napCatCore['session'][_0x55c05d(0x1aa)]();return new Promise((_0x5d89ac,_0x4e8b0f)=>{const _0x1e63b0=_0x55c05d,_0x1fd790={'ulkMV':function(_0x1566f2,_0x4947d4){const _0x1588d9=_0x156f;return _0xc37155[_0x1588d9(0x156)](_0x1566f2,_0x4947d4);},'BLeAb':_0x1e63b0(0x164)},_0x18f6d2=_0xc37155[_0x1e63b0(0x16f)](randomUUID);let _0x148288=![],_0x10d455=undefined,_0x506be0=!![];_0xc37155[_0x1e63b0(0x18e)](setTimeout,()=>{const _0x55efb1=_0x1e63b0;!_0x148288&&(_0x10d455?_0x1fd790['ulkMV'](_0x5d89ac,_0x10d455):_0x1fd790['ulkMV'](_0x4e8b0f,_0x1fd790[_0x55efb1(0x14e)])),userDetailHandlers[_0x55efb1(0x192)](_0x18f6d2);},0x1388),userDetailHandlers[_0x1e63b0(0x1a2)](_0x18f6d2,_0x169d83=>{const _0x334eca=_0x1e63b0;_0xc37155[_0x334eca(0x169)](_0x169d83[_0x334eca(0x189)],_0x4cf373)&&(_0x506be0?(_0x10d455=_0x169d83,_0x506be0=![]):(_0x148288=!![],_0xc37155[_0x334eca(0x156)](_0x5d89ac,_0x169d83)));}),_0xe0f8a6['getUserDetailInfoWithBizInfo'](_0x4cf373,[0x0])[_0x1e63b0(0x19a)](_0x4a0e32=>{});});}static async[_0x51cf48(0x1ab)](_0x1c0094){const _0x303f8f=_0x51cf48;return napCatCore['session'][_0x303f8f(0x1aa)]()[_0x303f8f(0x14d)](_0x1c0094);}static async[_0x51cf48(0x172)](_0x511dd7){const _0x532a81=_0x51cf48,_0x4d7e7d={'cjXBU':function(_0x31abb9,_0x2579a4){return _0x31abb9+_0x2579a4;},'wWImT':function(_0x1db647,_0x3698eb){return _0x1db647+_0x3698eb;},'PPeRk':function(_0x4bb281,_0x5c84e5){return _0x4bb281+_0x5c84e5;},'NZYoT':_0x532a81(0x14a),'efczM':_0x532a81(0x15e),'KtadW':_0x532a81(0x16d)},_0x26d4dd=await NTQQUserApi[_0x532a81(0x152)](),_0x555715=_0x4d7e7d['cjXBU'](_0x4d7e7d[_0x532a81(0x177)](_0x4d7e7d['cjXBU'](_0x4d7e7d[_0x532a81(0x177)](_0x4d7e7d[_0x532a81(0x17c)](_0x4d7e7d[_0x532a81(0x1a4)](_0x532a81(0x187)+selfInfo[_0x532a81(0x198)],_0x4d7e7d[_0x532a81(0x1a6)]),_0x26d4dd[_0x532a81(0x168)]),_0x4d7e7d[_0x532a81(0x165)]),_0x511dd7),_0x532a81(0x174)),selfInfo[_0x532a81(0x198)])+_0x4d7e7d[_0x532a81(0x167)];let _0x14ff95=await RequestUtil[_0x532a81(0x199)](_0x555715);return _0x14ff95;}static async[_0x51cf48(0x17e)](_0x228368){const _0x5bcc83=_0x51cf48;return await napCatCore[_0x5bcc83(0x1a1)][_0x5bcc83(0x188)]()['getPskey'](_0x228368,!![]);}static async[_0x51cf48(0x1a7)](){const _0x5a6ca3=_0x51cf48,_0x4afbc3=await napCatCore[_0x5a6ca3(0x1a1)][_0x5a6ca3(0x150)]()[_0x5a6ca3(0x1a7)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x4afbc3?.[_0x5a6ca3(0x185)]?.['robotUinRanges'];}static async[_0x51cf48(0x153)](){const _0x4be551=_0x51cf48,_0x3956bd={'uqkfX':function(_0x52e726,_0x1fab97){return _0x52e726+_0x1fab97;},'kesaC':function(_0x257132,_0x234870){return _0x257132+_0x234870;},'OyRwX':'&clientkey=','Jahxs':_0x4be551(0x1a9),'HjhXb':_0x4be551(0x16d)},_0x3ea49b=await NTQQUserApi['forceFetchClientKey'](),_0x1bf59d=_0x3956bd[_0x4be551(0x19f)](_0x3956bd[_0x4be551(0x19f)](_0x3956bd['uqkfX'](_0x3956bd[_0x4be551(0x17f)](_0x4be551(0x187),selfInfo['uin']),_0x3956bd[_0x4be551(0x1a3)])+_0x3ea49b[_0x4be551(0x168)],_0x3956bd['Jahxs'])+selfInfo[_0x4be551(0x198)],_0x3956bd[_0x4be551(0x16e)]);let _0x32f39e=await RequestUtil[_0x4be551(0x199)](_0x1bf59d);return _0x32f39e;}static async[_0x51cf48(0x18b)](){const _0x3e2315=_0x51cf48,_0x5c7d1f={'oUecl':function(_0x285ec7,_0x384113){return _0x285ec7!==_0x384113;},'ddnVm':_0x3e2315(0x19d),'DfFKH':function(_0x727d7a,_0x26d48e){return _0x727d7a+_0x26d48e;},'uLQSw':_0x3e2315(0x187),'BGzei':'&clientkey=','iQhjy':_0x3e2315(0x170),'MKtNK':_0x3e2315(0x15a)},_0xeed6d7=await NTQQUserApi['forceFetchClientKey']();if(_0x5c7d1f[_0x3e2315(0x176)](_0xeed6d7[_0x3e2315(0x154)],0x0))throw new Error(_0x5c7d1f[_0x3e2315(0x151)]);const _0x47a026=_0xeed6d7[_0x3e2315(0x168)],_0x24c7e7=_0xeed6d7[_0x3e2315(0x19e)],_0x12375b=_0x5c7d1f[_0x3e2315(0x186)](_0x5c7d1f[_0x3e2315(0x181)]+selfInfo['uin'],_0x5c7d1f[_0x3e2315(0x14b)])+_0x47a026+_0x5c7d1f['iQhjy'];let _0x4c50f3=await RequestUtil[_0x3e2315(0x199)](_0x12375b);const _0xa0186c=_0x4c50f3[_0x5c7d1f[_0x3e2315(0x1a0)]];if(!_0xa0186c)throw new Error(_0x3e2315(0x19c));return _0xa0186c;}static async['getUidByUin'](_0x34f01b){const _0x35bf9d=_0x51cf48,_0x2d0d80={'PIKIY':_0x35bf9d(0x159)};let _0x226f97=await NTEventDispatch[_0x35bf9d(0x166)](_0x2d0d80[_0x35bf9d(0x195)],0x1388,[_0x34f01b]);return _0x226f97['uidInfo'][_0x35bf9d(0x1a5)](_0x34f01b);}static async['getUinByUid'](_0x24876e){const _0x48b0b0=_0x51cf48,_0x360319={'JMdYj':_0x48b0b0(0x193)};if(!_0x24876e)return'';let _0x2910b2=await NTEventDispatch[_0x48b0b0(0x166)](_0x360319[_0x48b0b0(0x173)],0x1388,[_0x24876e]);return _0x2910b2['uinInfo'][_0x48b0b0(0x1a5)](_0x24876e);}static async['getUserDetailInfoByUin'](_0xfdee77){const _0x2356f4=_0x51cf48,_0x2410e4={'EpcJe':_0x2356f4(0x18c)};return NTEventDispatch[_0x2356f4(0x166)](_0x2410e4['EpcJe'],0x1388,_0xfdee77);}static async['forceFetchClientKey'](){const _0x5e8c38=_0x51cf48;return await napCatCore[_0x5e8c38(0x1a1)][_0x5e8c38(0x15d)]()['forceFetchClientKey']('');}}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x51cf48(0x172),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x51cf48(0x17e),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x51cf48(0x153),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x51cf48(0x18b),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,_0x51cf48(0x171))],NTQQUserApi,'forceFetchClientKey',null);