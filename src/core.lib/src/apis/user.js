const _0xf602ac=_0x5c5a;function _0x39d5(){const _0x35a01e=['407HSQgip','1054158TkuWDZ','uid','524bPXhej','27535NbGBXO','getUserDetailInfoWithBizInfo','setQQAvatar','&clientkey=','HttpsGetCookies','getUserDetailInfo\x20timeout','8158797jBEsvJ','get','clientKey','14AgeSit','NhbfZ','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','skey','getTipOffService','session','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','getProfileService','获取Pskey失败','set','entries','12189SvkyxT','RjOZY','onLoginSuccess','uin','PskeyData','MiNEg','delete','assign','1954595gtcVbu','TlgJt','getMsgService','now','KKvjg','getSelfInfo','getRobotService','result','forceFetchClientKey','fromEntries','push','errMsg','ddtTB','JcOsF','getRobotUinRange','like','CreatTime','NFhBW','BMxMS','FyHoQ','YLEFe','then','PskeyTime','forEach','149576AEnnZn','setHeader','xapwX','253550pFitUb','getPSkey','getTicketService','getPskey','14cXVxfS','Skey','setBuddyProfileLike','getUserInfo','ImHSM','response','getProfileLikeService','BZETT','getUserDetailInfo','alxZY'];_0x39d5=function(){return _0x35a01e;};return _0x39d5();}(function(_0x18dfc7,_0x5abf65){const _0x2c4548=_0x5c5a,_0x49c56d=_0x18dfc7();while(!![]){try{const _0x298392=parseInt(_0x2c4548(0x171))/0x1*(-parseInt(_0x2c4548(0x17a))/0x2)+-parseInt(_0x2c4548(0x13c))/0x3*(parseInt(_0x2c4548(0x170))/0x4)+-parseInt(_0x2c4548(0x144))/0x5+-parseInt(_0x2c4548(0x16e))/0x6+parseInt(_0x2c4548(0x163))/0x7*(parseInt(_0x2c4548(0x15c))/0x8)+parseInt(_0x2c4548(0x177))/0x9+parseInt(_0x2c4548(0x15f))/0xa*(parseInt(_0x2c4548(0x16d))/0xb);if(_0x298392===_0x5abf65)break;else _0x49c56d['push'](_0x49c56d['shift']());}catch(_0x487394){_0x49c56d['push'](_0x49c56d['shift']());}}}(_0x39d5,0x90274));import{Credentials,selfInfo,uid2UinMap}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x5c5a(_0x3a747a,_0x4a865b){const _0x39d57a=_0x39d5();return _0x5c5a=function(_0x5c5a31,_0x40bca2){_0x5c5a31=_0x5c5a31-0x133;let _0x582237=_0x39d57a[_0x5c5a31];return _0x582237;},_0x5c5a(_0x3a747a,_0x4a865b);}import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener['onProfileDetailInfoChanged']=_0x507c32=>{const _0x183ec7=_0x5c5a;userInfoCache[_0x507c32[_0x183ec7(0x16f)]]=_0x507c32,userDetailHandlers[_0x183ec7(0x15b)](_0x96a0e6=>_0x96a0e6(_0x507c32));},setTimeout(()=>{const _0x2fab43=_0x5c5a;napCatCore[_0x2fab43(0x13e)](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async['setSelfOnlineStatus'](_0x3a3c3e,_0x274b7a,_0x3d4f2b){const _0x3656b1=_0x5c5a;return napCatCore[_0x3656b1(0x136)][_0x3656b1(0x146)]()['setStatus']({'status':_0x3a3c3e,'extStatus':_0x274b7a,'batteryStatus':_0x3d4f2b});}static async[_0xf602ac(0x153)](_0x50f2ae,_0x344141=0x1){const _0x1bd595=_0xf602ac;return napCatCore[_0x1bd595(0x136)][_0x1bd595(0x169)]()[_0x1bd595(0x165)]({'friendUid':_0x50f2ae,'sourceId':0x47,'doLikeCount':_0x344141,'doLikeTollCount':0x0});}static async[_0xf602ac(0x173)](_0x54c4ba){const _0x28fc9c=_0xf602ac,_0x18a391=napCatCore['session']['getProfileService']()[_0x28fc9c(0x15d)](_0x54c4ba);return{'result':_0x18a391?.[_0x28fc9c(0x14b)],'errMsg':_0x18a391?.['errMsg']};}static async[_0xf602ac(0x149)](){}static async[_0xf602ac(0x166)](_0x9f6629){}static async[_0xf602ac(0x16b)](_0x469b90){const _0x55a7c8=_0xf602ac,_0x25a551={'ImHSM':function(_0x34eef2,_0x570bfa){return _0x34eef2===_0x570bfa;},'JBiaV':function(_0x3e04a0){return _0x3e04a0();},'RjOZY':function(_0x2bac57,_0x42365c,_0x29a0fe){return _0x2bac57(_0x42365c,_0x29a0fe);}},_0x38160e=napCatCore[_0x55a7c8(0x136)][_0x55a7c8(0x138)]();return new Promise((_0x1093e4,_0x15e0d8)=>{const _0x1f17b3=_0x55a7c8,_0x182309={'FyHoQ':function(_0xb758cb,_0x105f93){return _0xb758cb(_0x105f93);},'KxiEy':_0x1f17b3(0x176),'NFhBW':function(_0x402528,_0x45311e){const _0x55f081=_0x1f17b3;return _0x25a551[_0x55f081(0x167)](_0x402528,_0x45311e);}},_0x5b73df=_0x25a551['JBiaV'](randomUUID);let _0x2bcc51=![];_0x25a551[_0x1f17b3(0x13d)](setTimeout,()=>{const _0x1c7f22=_0x1f17b3;!_0x2bcc51&&_0x182309[_0x1c7f22(0x157)](_0x15e0d8,_0x182309['KxiEy']);},0x1388),userDetailHandlers[_0x1f17b3(0x13a)](_0x5b73df,_0xc828bb=>{const _0x2d7bfd=_0x1f17b3;_0x182309[_0x2d7bfd(0x155)](_0xc828bb[_0x2d7bfd(0x16f)],_0x469b90)&&(_0x2bcc51=!![],userDetailHandlers[_0x2d7bfd(0x142)](_0x5b73df),uid2UinMap[_0x469b90]=_0xc828bb[_0x2d7bfd(0x13f)],_0x182309['FyHoQ'](_0x1093e4,_0xc828bb));}),_0x38160e[_0x1f17b3(0x172)](_0x469b90,[0x0])[_0x1f17b3(0x159)](_0x166cef=>{});});}static async[_0xf602ac(0x160)](_0x178dd7,_0x589603=!![]){const _0x37365a=_0xf602ac,_0x199fa6={'xapwX':function(_0x27bd83,_0x17ab26){return _0x27bd83>_0x17ab26;},'NhbfZ':function(_0x4112c5,_0xa6a065){return _0x4112c5-_0xa6a065;},'BMxMS':function(_0x5b6645,_0x2d0bd4){return _0x5b6645*_0x2d0bd4;},'DqYmG':function(_0x4245f0,_0x578221){return _0x4245f0===_0x578221;},'KKvjg':function(_0xb2f2a9,_0x2972ef,_0x2d3fd3){return _0xb2f2a9(_0x2972ef,_0x2d3fd3);},'GpPMz':_0x37365a(0x139)},_0x3c1c68=[],_0x51949f={};for(const _0x5b84e4 in _0x178dd7){const _0x570a16=Credentials['PskeyData']['get'](_0x178dd7[_0x5b84e4]),_0x1384f0=Credentials['PskeyTime'][_0x37365a(0x178)](_0x178dd7[_0x5b84e4]);!_0x570a16||!_0x1384f0||_0x199fa6[_0x37365a(0x15e)](_0x199fa6[_0x37365a(0x17b)](Date[_0x37365a(0x147)](),_0x1384f0),_0x199fa6[_0x37365a(0x156)](0x708,0x3e8))||!_0x589603?_0x3c1c68[_0x37365a(0x14e)](_0x178dd7[_0x5b84e4]):_0x51949f[_0x178dd7[_0x5b84e4]]=_0x570a16;}let _0x552c49={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x199fa6[_0x37365a(0x15e)](_0x3c1c68['length'],0x0)&&(_0x552c49=await napCatCore[_0x37365a(0x136)][_0x37365a(0x135)]()[_0x37365a(0x162)](_0x3c1c68,!![]));const _0x48c9de=_0x552c49['domainPskeyMap'];for(const _0x319c10 of _0x48c9de[_0x37365a(0x13b)]()){Credentials[_0x37365a(0x140)][_0x37365a(0x13a)](_0x319c10[0x0],_0x319c10[0x1]),Credentials[_0x37365a(0x15a)]['set'](_0x319c10[0x0],Date['now']());}const _0x1b4d4a=Object[_0x37365a(0x143)](Object[_0x37365a(0x14d)](_0x48c9de),_0x51949f);if(_0x199fa6['DqYmG'](_0x552c49['result'],0x0))return _0x1b4d4a;else _0x199fa6[_0x37365a(0x148)](logError,_0x199fa6['GpPMz'],_0x552c49[_0x37365a(0x14f)]);return{};}static async[_0xf602ac(0x152)](){const _0x4dd1c6=_0xf602ac,_0x58666b=await napCatCore[_0x4dd1c6(0x136)][_0x4dd1c6(0x14a)]()[_0x4dd1c6(0x152)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x58666b?.[_0x4dd1c6(0x168)]?.['robotUinRanges'];}static async['getSkey'](_0x31c02b=!![]){const _0x5528b5=_0xf602ac,_0x2c659c={'TlgJt':function(_0x54f57d,_0x44779a){return _0x54f57d==_0x44779a;},'YLEFe':function(_0x448b62,_0x1221b7){return _0x448b62>_0x1221b7;},'alxZY':function(_0x71fecf,_0x5e0e00){return _0x71fecf!==_0x5e0e00;},'JcOsF':function(_0x49e15c,_0x224e20){return _0x49e15c+_0x224e20;},'MiNEg':_0x5528b5(0x137),'BZETT':function(_0x44f2cf,_0x397c98,_0x16003a){return _0x44f2cf(_0x397c98,_0x16003a);},'ddtTB':'请求获取Skey时失败'};try{if(_0x2c659c[_0x5528b5(0x145)](Credentials[_0x5528b5(0x154)],0x0)||_0x2c659c[_0x5528b5(0x158)](Date[_0x5528b5(0x147)]()-Credentials[_0x5528b5(0x154)],0x3e8*0xe10)||!_0x31c02b){const _0xa33867=await napCatCore['session'][_0x5528b5(0x161)]()[_0x5528b5(0x14c)]('');if(_0x2c659c[_0x5528b5(0x16c)](_0xa33867[_0x5528b5(0x14b)],0x0))return'';const _0x1c93ce=_0xa33867[_0x5528b5(0x179)],_0x4d8985=_0xa33867['keyIndex'],_0x10ada3=_0x2c659c[_0x5528b5(0x151)](_0x5528b5(0x133),selfInfo['uin'])+_0x5528b5(0x174)+_0x1c93ce+_0x2c659c[_0x5528b5(0x141)]+_0x4d8985;let _0x463ee0;try{_0x463ee0=await RequestUtil[_0x5528b5(0x175)](_0x10ada3);}catch(_0x521d8e){_0x2c659c[_0x5528b5(0x16a)](logDebug,_0x2c659c[_0x5528b5(0x150)],_0x521d8e),_0x463ee0=new Map();}const _0x1e4d96=_0x463ee0['get'](_0x5528b5(0x134));if(!_0x1e4d96)return'';return Credentials['CreatTime']=Date[_0x5528b5(0x147)](),Credentials[_0x5528b5(0x164)]=_0x1e4d96,_0x1e4d96;}return Credentials['Skey'];}catch(_0x52e7f2){}return undefined;}}