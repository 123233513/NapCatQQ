const _0x307389=_0x4dc3;(function(_0x393c7f,_0x108825){const _0x5291c8=_0x4dc3,_0x25c461=_0x393c7f();while(!![]){try{const _0xa57e5c=-parseInt(_0x5291c8(0x19a))/0x1+parseInt(_0x5291c8(0x19b))/0x2*(-parseInt(_0x5291c8(0x189))/0x3)+parseInt(_0x5291c8(0x184))/0x4+-parseInt(_0x5291c8(0x168))/0x5*(-parseInt(_0x5291c8(0x187))/0x6)+parseInt(_0x5291c8(0x16c))/0x7+-parseInt(_0x5291c8(0x198))/0x8*(-parseInt(_0x5291c8(0x166))/0x9)+-parseInt(_0x5291c8(0x162))/0xa*(-parseInt(_0x5291c8(0x183))/0xb);if(_0xa57e5c===_0x108825)break;else _0x25c461['push'](_0x25c461['shift']());}catch(_0xd2ee15){_0x25c461['push'](_0x25c461['shift']());}}}(_0x53ab,0x55d06));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';function _0x53ab(){const _0x2a8203=['session','getUserInfo','setHeader','getProfileService','setSelfOnlineStatus','fhNfA','getSkey','TcGEi','QRIfE','uid','CreatTime','skey','KuaZl','getRobotUinRange','addListener','like','bECLU','getProfileLikeService','then','toXpl','FuNOG','getRobotService','33xxFcUr','700200TBhGzB','DeVWJ','onProfileDetailInfoChanged','108ILZNoY','Nwjqg','3pYCcqs','getUserDetailInfo\x20timeout','GcKeM','fromEntries','&clientkey=','get','getMsgService','forEach','forceFetchClientKey','getUserDetailInfo','now','getUserDetailInfoWithBizInfo','set','robotUinRanges','eVYPe','8HeRnLp','ddxfH','407809OvsedH','586732hQKazz','response','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','onLoginSuccess','获取Pskey失败','delete','ikRsh','getSelfInfo','errMsg','10250kSPfIZ','keyIndex','result','getTicketService','2427417JcKIKZ','setQQAvatar','36355KnOQhy','Skey','domainPskeyMap','gHsKh','3317671LJTgNa'];_0x53ab=function(){return _0x2a8203;};return _0x53ab();}import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x4dc3(_0x4c2fb5,_0x46f474){const _0x53ab6d=_0x53ab();return _0x4dc3=function(_0x4dc32e,_0xaac5cc){_0x4dc32e=_0x4dc32e-0x161;let _0x4f1ddf=_0x53ab6d[_0x4dc32e];return _0x4f1ddf;},_0x4dc3(_0x4c2fb5,_0x46f474);}import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x307389(0x186)]=_0x5576b7=>{const _0x381f6f=_0x307389;userInfoCache[_0x5576b7[_0x381f6f(0x176)]]=_0x5576b7,userDetailHandlers[_0x381f6f(0x190)](_0x1d6093=>_0x1d6093(_0x5576b7));},setTimeout(()=>{const _0x80aa56=_0x307389;napCatCore[_0x80aa56(0x19e)](()=>{const _0x1d3cd4=_0x80aa56;napCatCore[_0x1d3cd4(0x17b)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x307389(0x171)](_0x4ebbc7,_0x4fac87,_0x359197){const _0x5d9505=_0x307389;return napCatCore['session'][_0x5d9505(0x18f)]()['setStatus']({'status':_0x4ebbc7,'extStatus':_0x4fac87,'batteryStatus':_0x359197});}static async[_0x307389(0x17c)](_0x2b2680,_0x49c782=0x1){const _0x48b0d5=_0x307389;return napCatCore[_0x48b0d5(0x16d)][_0x48b0d5(0x17e)]()['setBuddyProfileLike']({'friendUid':_0x2b2680,'sourceId':0x47,'doLikeCount':_0x49c782,'doLikeTollCount':0x0});}static async[_0x307389(0x167)](_0x1636c5){const _0x80080=_0x307389,_0x3d9c0e=napCatCore['session']['getProfileService']()[_0x80080(0x16f)](_0x1636c5);return{'result':_0x3d9c0e?.[_0x80080(0x164)],'errMsg':_0x3d9c0e?.[_0x80080(0x161)]};}static async[_0x307389(0x1a2)](){}static async[_0x307389(0x16e)](_0x24ed5c){}static async[_0x307389(0x192)](_0x33f445){const _0x3a1d85=_0x307389,_0x1ed0fc={'fhNfA':function(_0x24276a,_0x4a5857){return _0x24276a===_0x4a5857;},'DeVWJ':function(_0x561b96,_0x4e7607,_0x302fb5){return _0x561b96(_0x4e7607,_0x302fb5);}},_0x1b21b0=napCatCore[_0x3a1d85(0x16d)][_0x3a1d85(0x170)]();return new Promise((_0x3f5175,_0x246ce0)=>{const _0x3d1f14=_0x3a1d85,_0x4c6327={'eVYPe':_0x3d1f14(0x18a),'Nwjqg':function(_0x40b3af,_0x4e0c91){const _0x430f2d=_0x3d1f14;return _0x1ed0fc[_0x430f2d(0x172)](_0x40b3af,_0x4e0c91);},'TcGEi':function(_0x558e31,_0x4c66f3){return _0x558e31(_0x4c66f3);}},_0x11c4bd=randomUUID();let _0x5cd5c6=![];_0x1ed0fc[_0x3d1f14(0x185)](setTimeout,()=>{const _0x1d38b9=_0x3d1f14;!_0x5cd5c6&&_0x246ce0(_0x4c6327[_0x1d38b9(0x197)]);},0x1388),userDetailHandlers[_0x3d1f14(0x195)](_0x11c4bd,_0x18acdc=>{const _0x1270d2=_0x3d1f14;_0x4c6327[_0x1270d2(0x188)](_0x18acdc[_0x1270d2(0x176)],_0x33f445)&&(_0x5cd5c6=!![],userDetailHandlers[_0x1270d2(0x1a0)](_0x11c4bd),_0x4c6327[_0x1270d2(0x174)](_0x3f5175,_0x18acdc));}),_0x1b21b0[_0x3d1f14(0x194)](_0x33f445,[0x0])[_0x3d1f14(0x17f)](_0xf9e76a=>{});});}static async['getPSkey'](_0x387780){const _0x31589b=_0x307389,_0x2b4aa1=await napCatCore[_0x31589b(0x16d)]['getTipOffService']()['getPskey'](_0x387780,!![]);if(_0x2b4aa1[_0x31589b(0x164)]===0x0){const _0x1966c4=_0x2b4aa1[_0x31589b(0x16a)];return Object[_0x31589b(0x18c)](_0x1966c4);}else logError(_0x31589b(0x19f),_0x2b4aa1[_0x31589b(0x161)]);return{};}static async[_0x307389(0x17a)](){const _0x4e7fec=_0x307389,_0x2228b3=await napCatCore[_0x4e7fec(0x16d)][_0x4e7fec(0x182)]()[_0x4e7fec(0x17a)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x2228b3?.[_0x4e7fec(0x19c)]?.[_0x4e7fec(0x196)];}static async[_0x307389(0x173)](){const _0xf04b4b=_0x307389,_0xce48ca={'ikRsh':function(_0x570217,_0x24481e){return _0x570217==_0x24481e;},'toXpl':function(_0x135809,_0x36c90f){return _0x135809>_0x36c90f;},'FuNOG':function(_0x19adc0,_0x1f18a4){return _0x19adc0!==_0x1f18a4;},'bwyMY':function(_0x61e52d,_0x219979){return _0x61e52d+_0x219979;},'KuaZl':function(_0x48a359,_0x42b019){return _0x48a359+_0x42b019;},'GcKeM':function(_0x2d3b1f,_0x23bab8){return _0x2d3b1f+_0x23bab8;},'bECLU':function(_0x212939,_0x37bcb5){return _0x212939+_0x37bcb5;},'QRIfE':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','gHsKh':_0xf04b4b(0x19d),'ddxfH':function(_0x5013e0,_0xa2589a){return _0x5013e0(_0xa2589a);}};try{if(_0xce48ca[_0xf04b4b(0x1a1)](Credentials[_0xf04b4b(0x177)],0x0)||_0xce48ca[_0xf04b4b(0x180)](Date[_0xf04b4b(0x193)]()-Credentials[_0xf04b4b(0x177)],0x3e8*0xe10)){const _0x567ab4=await napCatCore['session'][_0xf04b4b(0x165)]()[_0xf04b4b(0x191)]('');if(_0xce48ca[_0xf04b4b(0x181)](_0x567ab4['result'],0x0))return'';const _0x1aa8c6=_0x567ab4['clientKey'],_0x5cd42b=_0x567ab4[_0xf04b4b(0x163)],_0x19b5ab=_0xce48ca['bwyMY'](_0xce48ca[_0xf04b4b(0x179)](_0xce48ca[_0xf04b4b(0x18b)](_0xce48ca[_0xf04b4b(0x179)](_0xce48ca[_0xf04b4b(0x17d)](_0xce48ca[_0xf04b4b(0x175)],selfInfo['uin']),_0xf04b4b(0x18d)),_0x1aa8c6),_0xce48ca[_0xf04b4b(0x16b)]),_0x5cd42b),_0x5c59d8=await _0xce48ca[_0xf04b4b(0x199)](HttpGetCookies,_0x19b5ab),_0x272a80=_0x5c59d8[_0xf04b4b(0x18e)](_0xf04b4b(0x178));if(!_0x272a80)return'';return Credentials[_0xf04b4b(0x177)]=Date[_0xf04b4b(0x193)](),Credentials['Skey']=_0x272a80,_0x272a80;}return Credentials[_0xf04b4b(0x169)];}catch(_0x5a2434){}return undefined;}}