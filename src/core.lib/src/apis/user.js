const _0x4aef9b=_0xc2f4;(function(_0x2cb296,_0x3729e3){const _0x12bb52=_0xc2f4,_0x5c1bd0=_0x2cb296();while(!![]){try{const _0xfd1ad9=-parseInt(_0x12bb52(0x192))/0x1*(parseInt(_0x12bb52(0x16d))/0x2)+-parseInt(_0x12bb52(0x17f))/0x3+parseInt(_0x12bb52(0x16f))/0x4*(-parseInt(_0x12bb52(0x14c))/0x5)+-parseInt(_0x12bb52(0x159))/0x6*(-parseInt(_0x12bb52(0x17d))/0x7)+-parseInt(_0x12bb52(0x175))/0x8*(-parseInt(_0x12bb52(0x16e))/0x9)+-parseInt(_0x12bb52(0x194))/0xa*(-parseInt(_0x12bb52(0x183))/0xb)+parseInt(_0x12bb52(0x148))/0xc;if(_0xfd1ad9===_0x3729e3)break;else _0x5c1bd0['push'](_0x5c1bd0['shift']());}catch(_0x3e7a2e){_0x5c1bd0['push'](_0x5c1bd0['shift']());}}}(_0x46af,0x47c27));function _0xc2f4(_0x13770d,_0x1805ec){const _0x46af8f=_0x46af();return _0xc2f4=function(_0xc2f48,_0x1e3e38){_0xc2f48=_0xc2f48-0x13d;let _0x39f7b1=_0x46af8f[_0xc2f48];return _0x39f7b1;},_0xc2f4(_0x13770d,_0x1805ec);}import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';function _0x46af(){const _0x53b0cf=['HJsfP','response','setSelfOnlineStatus','forEach','PskeyTime','869754PPXmaq','domainPskeyMap','HhBBX','dxgSc','getMsgService','errMsg','getUserDetailInfo','kvQmP','radDx','PskeyData','&clientkey=','qVdnc','slAPK','dddwn','HttpsGetCookies','getPSkey','KeyIndex','uin','%2Finfocenter&keyindex=19%27','skey','1108mKmKYU','1090791RAWwZn','44zcETAt','fromEntries','NodeIKernelProfileService/getUserDetailInfoByUin','uinInfo','assign','gIXRH','32qFhryE','modifySelfProfile','Skey','onLoginSuccess','gacFn','JbmgQ','rRUzX','set','28pYmUNN','setStatus','1539972hIfLIh','getTipOffService','uid','getUserDetailInfoByUin','1077725hgLHaA','getTicketService','clientKey','getUidByUin','entries','getProfileService','ClientKey','setHeader','LvZgC','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','CreatTime','onProfileDetailInfoChanged','CallNoListenerEvent','now','session','964ywmkDF','GhvjW','20ZdUwyD','forceFetchClientKey','请求获取Skey时失败','getUinByUid','Fjwqh','result','JGcOe','setBuddyProfileLike','setQQAvatar','getRobotService','getProfileLikeService','NodeIKernelUixConvertService/getUid','NgHiJ','SWcmu','delete','nhmIk','qWRtR','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','getSelfInfo','uKyVM','ePMvy','qEvRW','getRobotUinRange','EUniW','6341496SuKFdY','push','获取Pskey失败','getUserDetailInfoWithBizInfo','203515QVyWsZ','modifyDesktopMiniProfile','getPskey','keyIndex','sHPyA','getUserDetailInfo\x20timeout','qjMiC','get'];_0x46af=function(){return _0x53b0cf;};return _0x46af();}import{logDebug,logError}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x4aef9b(0x18e)]=_0x1af9c2=>{const _0x2f437e=_0x4aef9b;userInfoCache[_0x1af9c2[_0x2f437e(0x181)]]=_0x1af9c2,userDetailHandlers[_0x2f437e(0x157)](_0x27f79b=>_0x27f79b(_0x1af9c2));},setTimeout(()=>{const _0x3221e9=_0x4aef9b;napCatCore[_0x3221e9(0x178)](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async[_0x4aef9b(0x156)](_0x7a3256,_0x26d710,_0x27c9c6){const _0x4593cc=_0x4aef9b;return napCatCore[_0x4593cc(0x191)][_0x4593cc(0x15d)]()[_0x4593cc(0x17e)]({'status':_0x7a3256,'extStatus':_0x26d710,'batteryStatus':_0x27c9c6});}static async['like'](_0x4e5d1e,_0x7df83a=0x1){const _0x47d51c=_0x4aef9b;return napCatCore[_0x47d51c(0x191)][_0x47d51c(0x19e)]()[_0x47d51c(0x19b)]({'friendUid':_0x4e5d1e,'sourceId':0x47,'doLikeCount':_0x7df83a,'doLikeTollCount':0x0});}static async[_0x4aef9b(0x19c)](_0x2c41c0){const _0x3b840c=_0x4aef9b,_0xf612fe=napCatCore[_0x3b840c(0x191)]['getProfileService']()[_0x3b840c(0x18a)](_0x2c41c0);return{'result':_0xf612fe?.[_0x3b840c(0x199)],'errMsg':_0xf612fe?.[_0x3b840c(0x15e)]};}static async[_0x4aef9b(0x142)](){}static async['getUserInfo'](_0x56b13b){}static async[_0x4aef9b(0x15f)](_0x251da6){const _0x286b2c=_0x4aef9b,_0x27eacb={'OUBTe':function(_0x1e1d99,_0x1054fb){return _0x1e1d99===_0x1054fb;},'JbmgQ':function(_0x27b0b8,_0x27fad5){return _0x27b0b8(_0x27fad5);},'jvzvH':function(_0x48e7b8){return _0x48e7b8();}},_0x5b55ca=napCatCore[_0x286b2c(0x191)][_0x286b2c(0x188)]();return new Promise((_0x2ada0a,_0x4a3961)=>{const _0x39e1df=_0x286b2c,_0x2ecf2a={'hWYmD':function(_0x6b206e,_0x2e833a){return _0x6b206e(_0x2e833a);},'sHPyA':_0x39e1df(0x151)},_0x146be2=_0x27eacb['jvzvH'](randomUUID);let _0xcec5ac=![],_0x2ab6e5=undefined,_0x16bae2=!![];setTimeout(()=>{const _0x2f6a84=_0x39e1df;!_0xcec5ac&&(_0x2ab6e5?_0x2ecf2a['hWYmD'](_0x2ada0a,_0x2ab6e5):_0x4a3961(_0x2ecf2a[_0x2f6a84(0x150)])),userDetailHandlers[_0x2f6a84(0x13e)](_0x146be2);},0x1388),userDetailHandlers[_0x39e1df(0x17c)](_0x146be2,_0x164248=>{const _0x5057d0=_0x39e1df;_0x27eacb['OUBTe'](_0x164248[_0x5057d0(0x181)],_0x251da6)&&(_0x16bae2?(_0x2ab6e5=_0x164248,_0x16bae2=![]):(_0xcec5ac=!![],_0x27eacb[_0x5057d0(0x17a)](_0x2ada0a,_0x164248)));}),_0x5b55ca[_0x39e1df(0x14b)](_0x251da6,[0x0])['then'](_0x5f5763=>{});});}static async[_0x4aef9b(0x176)](_0x7108dc){const _0xef4ffb=_0x4aef9b;return napCatCore[_0xef4ffb(0x191)]['getProfileService']()[_0xef4ffb(0x14d)](_0x7108dc);}static async[_0x4aef9b(0x168)](_0x1dd1c5,_0x491165=!![]){const _0x266192=_0x4aef9b,_0x4d2be6={'jsbKF':function(_0x21828e,_0x52e1df){return _0x21828e||_0x52e1df;},'rRUzX':function(_0x432a53,_0x4c6553){return _0x432a53>_0x4c6553;},'wFYWr':function(_0x2eb014,_0x2fe5be){return _0x2eb014===_0x2fe5be;},'kvQmP':function(_0x1dc1ac,_0x4db95a,_0x35823c){return _0x1dc1ac(_0x4db95a,_0x35823c);},'ePMvy':_0x266192(0x14a)},_0x5ab0c2=[],_0x4bed49={};for(const _0x41c884 in _0x1dd1c5){const _0x2ad481=Credentials[_0x266192(0x162)][_0x266192(0x153)](_0x1dd1c5[_0x41c884]),_0x111d52=Credentials[_0x266192(0x158)][_0x266192(0x153)](_0x1dd1c5[_0x41c884]);_0x4d2be6['jsbKF'](!_0x2ad481,!_0x111d52)||_0x4d2be6[_0x266192(0x17b)](Date[_0x266192(0x190)]()-_0x111d52,0x708*0x3e8)||!_0x491165?_0x5ab0c2[_0x266192(0x149)](_0x1dd1c5[_0x41c884]):_0x4bed49[_0x1dd1c5[_0x41c884]]=_0x2ad481;}let _0x1515c1={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x4d2be6[_0x266192(0x17b)](_0x5ab0c2['length'],0x0)&&(_0x1515c1=await napCatCore[_0x266192(0x191)][_0x266192(0x180)]()[_0x266192(0x14e)](_0x5ab0c2,!![]));const _0x36ed0b=_0x1515c1[_0x266192(0x15a)];for(const _0x3a842b of _0x36ed0b[_0x266192(0x187)]()){Credentials['PskeyData'][_0x266192(0x17c)](_0x3a842b[0x0],_0x3a842b[0x1]),Credentials[_0x266192(0x158)][_0x266192(0x17c)](_0x3a842b[0x0],Date[_0x266192(0x190)]());}const _0x3a1270=Object[_0x266192(0x173)](Object[_0x266192(0x170)](_0x36ed0b),_0x4bed49);if(_0x4d2be6['wFYWr'](_0x1515c1['result'],0x0))return _0x3a1270;else _0x4d2be6[_0x266192(0x160)](logError,_0x4d2be6[_0x266192(0x144)],_0x1515c1[_0x266192(0x15e)]);return{};}static async['getRobotUinRange'](){const _0x3c2d3e=_0x4aef9b,_0x2ed343=await napCatCore[_0x3c2d3e(0x191)][_0x3c2d3e(0x19d)]()[_0x3c2d3e(0x146)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x2ed343?.[_0x3c2d3e(0x155)]?.['robotUinRanges'];}static async['getQzoneCookies'](){const _0x58a0ac=_0x4aef9b,_0x373956={'HJsfP':function(_0x445ebc,_0x157201){return _0x445ebc+_0x157201;},'EUniW':function(_0x2d756a,_0xf924be){return _0x2d756a+_0xf924be;},'LvZgC':_0x58a0ac(0x141),'gacFn':'&clientkey=','RJUQQ':_0x58a0ac(0x18c),'GhvjW':_0x58a0ac(0x16b),'qWRtR':function(_0x42d588,_0x551b3b,_0x2f9be5){return _0x42d588(_0x551b3b,_0x2f9be5);},'SWcmu':'请求获取Cookies时失败'},_0x123b82=_0x373956[_0x58a0ac(0x154)](_0x373956[_0x58a0ac(0x154)](_0x373956[_0x58a0ac(0x154)](_0x373956[_0x58a0ac(0x147)](_0x373956[_0x58a0ac(0x18b)],selfInfo[_0x58a0ac(0x16a)]),_0x373956[_0x58a0ac(0x179)])+Credentials[_0x58a0ac(0x189)],_0x373956['RJUQQ']),selfInfo[_0x58a0ac(0x16a)])+_0x373956[_0x58a0ac(0x193)];let _0x1f165d={};try{_0x1f165d=await RequestUtil[_0x58a0ac(0x167)](_0x123b82);}catch(_0x276a1c){_0x373956[_0x58a0ac(0x140)](logDebug,_0x373956[_0x58a0ac(0x13d)],_0x276a1c),_0x1f165d={};}return _0x1f165d;}static async['getSkey'](_0x52cf49=!![]){const _0x4d4390=_0x4aef9b,_0x25908c={'Fjwqh':function(_0x403635,_0x4cf759){return _0x403635==_0x4cf759;},'dddwn':function(_0x1919c3,_0x127b03){return _0x1919c3>_0x127b03;},'JGcOe':function(_0x44e1ca,_0x40a30f){return _0x44e1ca-_0x40a30f;},'gIXRH':function(_0x790452,_0x1b9fb5){return _0x790452!==_0x1b9fb5;},'NgHiJ':function(_0x30be2e,_0x46249f){return _0x30be2e+_0x46249f;},'uKyVM':function(_0x2588d2,_0x3110e5){return _0x2588d2+_0x3110e5;},'qEvRW':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','qVdnc':_0x4d4390(0x163),'dxgSc':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','HhBBX':function(_0x1d8091,_0x653006,_0x559984){return _0x1d8091(_0x653006,_0x559984);},'radDx':_0x4d4390(0x16c)};try{if(_0x25908c[_0x4d4390(0x198)](Credentials[_0x4d4390(0x18d)],0x0)||_0x25908c[_0x4d4390(0x166)](_0x25908c[_0x4d4390(0x19a)](Date[_0x4d4390(0x190)](),Credentials[_0x4d4390(0x18d)]),0x3e8*0xe10)||!_0x52cf49){const _0x1b5820=await napCatCore[_0x4d4390(0x191)][_0x4d4390(0x184)]()[_0x4d4390(0x195)]('');if(_0x25908c[_0x4d4390(0x174)](_0x1b5820[_0x4d4390(0x199)],0x0))return'';const _0x11a53b=_0x1b5820[_0x4d4390(0x185)],_0x3ba525=_0x1b5820[_0x4d4390(0x14f)],_0x736327=_0x25908c[_0x4d4390(0x1a0)](_0x25908c[_0x4d4390(0x143)](_0x25908c['NgHiJ'](_0x25908c[_0x4d4390(0x1a0)](_0x25908c[_0x4d4390(0x145)],selfInfo[_0x4d4390(0x16a)]),_0x25908c[_0x4d4390(0x164)]),_0x11a53b)+_0x25908c[_0x4d4390(0x15c)],_0x3ba525);let _0x5271a3={};try{_0x5271a3=await RequestUtil[_0x4d4390(0x167)](_0x736327);}catch(_0x4ff5d1){_0x25908c[_0x4d4390(0x15b)](logDebug,_0x4d4390(0x196),_0x4ff5d1),_0x5271a3={};}const _0x18c8d8=_0x5271a3[_0x25908c[_0x4d4390(0x161)]];if(!_0x18c8d8)return'';return Credentials[_0x4d4390(0x189)]=_0x11a53b,Credentials[_0x4d4390(0x169)]=_0x3ba525,Credentials['CreatTime']=Date[_0x4d4390(0x190)](),Credentials[_0x4d4390(0x177)]=_0x18c8d8,_0x18c8d8;}return Credentials[_0x4d4390(0x177)];}catch(_0x30f5cc){}return undefined;}static async[_0x4aef9b(0x186)](_0x74ac68){const _0x54b30c=_0x4aef9b,_0x56a7a2={'slAPK':_0x54b30c(0x19f)};let _0x4c2b5f=await NTEventDispatch[_0x54b30c(0x18f)](_0x56a7a2[_0x54b30c(0x165)],0x1388,[_0x74ac68]);return _0x4c2b5f['uidInfo'][_0x54b30c(0x153)](_0x74ac68);}static async[_0x4aef9b(0x197)](_0x311f98){const _0x5134a4=_0x4aef9b,_0x29360a={'nhmIk':'NodeIKernelUixConvertService/getUin'};if(!_0x311f98)return'';let _0x2479df=await NTEventDispatch[_0x5134a4(0x18f)](_0x29360a[_0x5134a4(0x13f)],0x1388,[_0x311f98]);return _0x2479df[_0x5134a4(0x172)][_0x5134a4(0x153)](_0x311f98);}static async[_0x4aef9b(0x182)](_0x2fd623){const _0x5ba03c=_0x4aef9b,_0x2e282a={'qjMiC':_0x5ba03c(0x171)};return NTEventDispatch['CallNoListenerEvent'](_0x2e282a[_0x5ba03c(0x152)],0x1388,_0x2fd623);}}