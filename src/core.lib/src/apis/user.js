const _0x5ebecb=_0x5068;(function(_0x55086e,_0x21f23e){const _0x10c1bb=_0x5068,_0x1cb6c1=_0x55086e();while(!![]){try{const _0x3b94c2=-parseInt(_0x10c1bb(0x16f))/0x1*(-parseInt(_0x10c1bb(0x192))/0x2)+-parseInt(_0x10c1bb(0x181))/0x3*(-parseInt(_0x10c1bb(0x171))/0x4)+parseInt(_0x10c1bb(0x13f))/0x5*(parseInt(_0x10c1bb(0x159))/0x6)+-parseInt(_0x10c1bb(0x18e))/0x7+parseInt(_0x10c1bb(0x17a))/0x8*(-parseInt(_0x10c1bb(0x15f))/0x9)+parseInt(_0x10c1bb(0x13d))/0xa+parseInt(_0x10c1bb(0x15c))/0xb*(-parseInt(_0x10c1bb(0x149))/0xc);if(_0x3b94c2===_0x21f23e)break;else _0x1cb6c1['push'](_0x1cb6c1['shift']());}catch(_0x11a457){_0x1cb6c1['push'](_0x1cb6c1['shift']());}}}(_0x500f,0xd4299));import{Credentials,selfInfo}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x500f(){const _0x422bcc=['getPSkey','getUserDetailInfoByUin','fromEntries','yADFR','getUserDetailInfo\x20timeout','now','getRobotUinRange','getTipOffService','GItEp','getSelfInfo','setStatus','8050760MAhOwL','getPskey','345940dWoNgo','&clientkey=','modifySelfProfile','getBuddyRecommendContactArkJson','session','ugDSC','result','MNbfc','then','SXNyB','228HSxxRS','length','addListener','getRobotService','forEach','errMsg','KeyIndex','uin','ahMGA','uid','getProfileService','modifyDesktopMiniProfile','entries','getUserDetailInfo','setBuddyProfileLike','fdhJz','42jsGEjD','HttpsGetCookies','response','460669nygtWC','setLongNick','get','529119bFPUIR','WUbUo','like','getUinByUid','keyIndex','setHeader','getSkey','setSelfOnlineStatus','getTicketService','PtvoG','set','getUidByUin','getUserDetailInfoWithBizInfo','delete','ErwfV','YYIMT','79GXpFMV','请求获取Cookies时失败','7684hmQfPS','请求获取Skey时失败','NodeIKernelProfileService/getUserDetailInfoByUin','eyglX','uidInfo','NodeIKernelUixConvertService/getUin','clientKey','PYhMN','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','56JVjvlB','push','domainPskeyMap','ClientKey','cGARR','skey','nxdZS','861cMchAx','uinInfo','setQQAvatar','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','NmzLL','获取Pskey失败','PskeyTime','gqYec','PskeyData','onLoginSuccess','BlUQm','CallNoListenerEvent','uwEJz','3618020otrQdr','sSoEI','CreatTime','JGnoB','19048xGUQse','oVFmI','NodeIKernelUixConvertService/getUid','eySfV','getBuddyService','%2Finfocenter&keyindex=19%27','getUserInfo'];_0x500f=function(){return _0x422bcc;};return _0x500f();}function _0x5068(_0x133133,_0x1b710f){const _0x500fcd=_0x500f();return _0x5068=function(_0x5068b3,_0x197499){_0x5068b3=_0x5068b3-0x12f;let _0x4fb158=_0x500fcd[_0x5068b3];return _0x4fb158;},_0x5068(_0x133133,_0x1b710f);}import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener['onProfileDetailInfoChanged']=_0x3e73e6=>{const _0x7ae297=_0x5068;userInfoCache[_0x3e73e6['uid']]=_0x3e73e6,userDetailHandlers[_0x7ae297(0x14d)](_0x535611=>_0x535611(_0x3e73e6));},setTimeout(()=>{const _0xd4fa1a=_0x5068;napCatCore[_0xd4fa1a(0x18a)](()=>{const _0x10df6c=_0xd4fa1a;napCatCore[_0x10df6c(0x14b)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x5ebecb(0x15d)](_0x32006c){const _0x9861bc=_0x5ebecb;return napCatCore[_0x9861bc(0x143)][_0x9861bc(0x153)]()['setLongNick'](_0x32006c);}static async[_0x5ebecb(0x166)](_0x2400cc,_0x3bc530,_0x4b0c66){const _0x2680e7=_0x5ebecb;return napCatCore[_0x2680e7(0x143)]['getMsgService']()[_0x2680e7(0x13c)]({'status':_0x2400cc,'extStatus':_0x3bc530,'batteryStatus':_0x4b0c66});}static async[_0x5ebecb(0x142)](_0x319285,_0x3bd570=''){const _0x452365=_0x5ebecb;return napCatCore[_0x452365(0x143)][_0x452365(0x12f)]()['getBuddyRecommendContactArkJson'](_0x319285,_0x3bd570);}static async[_0x5ebecb(0x161)](_0x231d49,_0x3a85f4=0x1){const _0x47b969=_0x5ebecb;return napCatCore[_0x47b969(0x143)]['getProfileLikeService']()[_0x47b969(0x157)]({'friendUid':_0x231d49,'sourceId':0x47,'doLikeCount':_0x3a85f4,'doLikeTollCount':0x0});}static async[_0x5ebecb(0x183)](_0x381fee){const _0x427283=_0x5ebecb,_0x429808=await napCatCore[_0x427283(0x143)][_0x427283(0x153)]()[_0x427283(0x164)](_0x381fee);return{'result':_0x429808?.[_0x427283(0x145)],'errMsg':_0x429808?.[_0x427283(0x14e)]};}static async[_0x5ebecb(0x13b)](){}static async[_0x5ebecb(0x131)](_0x47af4c){}static async[_0x5ebecb(0x156)](_0x5c0857){const _0x428f68=_0x5ebecb,_0x1c0a3c={'vXxsf':function(_0x422104,_0x3a11db){return _0x422104===_0x3a11db;},'ErwfV':function(_0x1d958d,_0x7bb01c){return _0x1d958d(_0x7bb01c);},'SXNyB':function(_0x4d8158,_0x2f941a){return _0x4d8158(_0x2f941a);},'PtvoG':_0x428f68(0x136),'eySfV':function(_0x3cde36){return _0x3cde36();},'eyglX':function(_0x2a6653,_0x51dd48,_0x44e02c){return _0x2a6653(_0x51dd48,_0x44e02c);}},_0x37f053=napCatCore[_0x428f68(0x143)]['getProfileService']();return new Promise((_0x18c335,_0x9b79e0)=>{const _0x7d0b43=_0x428f68,_0x7c4c9c={'fdhJz':function(_0x4fcace,_0x4b9911){const _0x3e98dc=_0x5068;return _0x1c0a3c[_0x3e98dc(0x148)](_0x4fcace,_0x4b9911);},'GItEp':_0x1c0a3c[_0x7d0b43(0x168)]},_0x572ce6=_0x1c0a3c[_0x7d0b43(0x195)](randomUUID);let _0x50ae21=![],_0x2daf8a=undefined,_0x55d685=!![];_0x1c0a3c[_0x7d0b43(0x174)](setTimeout,()=>{const _0x35fa3c=_0x7d0b43;!_0x50ae21&&(_0x2daf8a?_0x7c4c9c[_0x35fa3c(0x158)](_0x18c335,_0x2daf8a):_0x9b79e0(_0x7c4c9c[_0x35fa3c(0x13a)])),userDetailHandlers[_0x35fa3c(0x16c)](_0x572ce6);},0x1388),userDetailHandlers[_0x7d0b43(0x169)](_0x572ce6,_0x457224=>{const _0x1f60de=_0x7d0b43;_0x1c0a3c['vXxsf'](_0x457224[_0x1f60de(0x152)],_0x5c0857)&&(_0x55d685?(_0x2daf8a=_0x457224,_0x55d685=![]):(_0x50ae21=!![],_0x1c0a3c[_0x1f60de(0x16d)](_0x18c335,_0x457224)));}),_0x37f053[_0x7d0b43(0x16b)](_0x5c0857,[0x0])[_0x7d0b43(0x147)](_0x42953a=>{});});}static async[_0x5ebecb(0x141)](_0xda5776){const _0x3e7eae=_0x5ebecb;return napCatCore['session']['getProfileService']()[_0x3e7eae(0x154)](_0xda5776);}static async[_0x5ebecb(0x132)](_0x4ecfc7,_0x3ec51a=!![]){const _0x2d763b=_0x5ebecb,_0x51323a={'NmzLL':function(_0x1eef80,_0x3ec3c9){return _0x1eef80>_0x3ec3c9;},'yADFR':function(_0x10107a,_0x3f7b21){return _0x10107a-_0x3f7b21;},'ugDSC':function(_0x130510,_0x5a345b){return _0x130510===_0x5a345b;},'cGARR':function(_0x5dd2a3,_0x28a9b5,_0x46995b){return _0x5dd2a3(_0x28a9b5,_0x46995b);},'sSoEI':_0x2d763b(0x186)},_0x384437=[],_0x2a753c={};for(const _0x1e0341 in _0x4ecfc7){const _0x5b9724=Credentials[_0x2d763b(0x189)][_0x2d763b(0x15e)](_0x4ecfc7[_0x1e0341]),_0x387d9b=Credentials[_0x2d763b(0x187)][_0x2d763b(0x15e)](_0x4ecfc7[_0x1e0341]);!_0x5b9724||!_0x387d9b||_0x51323a[_0x2d763b(0x185)](_0x51323a[_0x2d763b(0x135)](Date[_0x2d763b(0x137)](),_0x387d9b),0x708*0x3e8)||!_0x3ec51a?_0x384437[_0x2d763b(0x17b)](_0x4ecfc7[_0x1e0341]):_0x2a753c[_0x4ecfc7[_0x1e0341]]=_0x5b9724;}let _0x4ee8a0={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x51323a[_0x2d763b(0x185)](_0x384437[_0x2d763b(0x14a)],0x0)&&(_0x4ee8a0=await napCatCore[_0x2d763b(0x143)][_0x2d763b(0x139)]()[_0x2d763b(0x13e)](_0x384437,!![]));const _0x483562=_0x4ee8a0[_0x2d763b(0x17c)];for(const _0x103dea of _0x483562[_0x2d763b(0x155)]()){Credentials['PskeyData'][_0x2d763b(0x169)](_0x103dea[0x0],_0x103dea[0x1]),Credentials[_0x2d763b(0x187)][_0x2d763b(0x169)](_0x103dea[0x0],Date[_0x2d763b(0x137)]());}const _0x3aafa3=Object['assign'](Object[_0x2d763b(0x134)](_0x483562),_0x2a753c);if(_0x51323a[_0x2d763b(0x144)](_0x4ee8a0[_0x2d763b(0x145)],0x0))return _0x3aafa3;else _0x51323a[_0x2d763b(0x17e)](logError,_0x51323a[_0x2d763b(0x18f)],_0x4ee8a0[_0x2d763b(0x14e)]);return{};}static async[_0x5ebecb(0x138)](){const _0x1efe3a=_0x5ebecb,_0x479032=await napCatCore[_0x1efe3a(0x143)][_0x1efe3a(0x14c)]()[_0x1efe3a(0x138)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x479032?.[_0x1efe3a(0x15b)]?.['robotUinRanges'];}static async['getQzoneCookies'](){const _0x59a56c=_0x5ebecb,_0x4a3696={'BlUQm':function(_0x3db23d,_0x5823c9){return _0x3db23d+_0x5823c9;},'ZblXl':_0x59a56c(0x184),'gqYec':_0x59a56c(0x140),'ahMGA':_0x59a56c(0x130)},_0x262da5=_0x4a3696[_0x59a56c(0x18b)](_0x4a3696[_0x59a56c(0x18b)](_0x4a3696['BlUQm'](_0x4a3696[_0x59a56c(0x18b)](_0x4a3696['ZblXl'],selfInfo[_0x59a56c(0x150)]),_0x4a3696[_0x59a56c(0x188)]),Credentials[_0x59a56c(0x17d)])+_0x59a56c(0x179),selfInfo[_0x59a56c(0x150)])+_0x4a3696[_0x59a56c(0x151)];let _0x282da4={};try{_0x282da4=await RequestUtil[_0x59a56c(0x15a)](_0x262da5);}catch(_0xfaae97){logDebug(_0x59a56c(0x170),_0xfaae97),_0x282da4={};}return _0x282da4;}static async[_0x5ebecb(0x165)](_0x56d1e9=!![]){const _0x5efca6=_0x5ebecb,_0x28ba2d={'oVFmI':function(_0x4d8634,_0xebd57){return _0x4d8634>_0xebd57;},'aejvG':function(_0x367759,_0x190b6e){return _0x367759-_0x190b6e;},'mEUZF':function(_0xd300e9,_0x4d9426){return _0xd300e9*_0x4d9426;},'MNbfc':function(_0x3ec43a,_0x2287a8){return _0x3ec43a+_0x2287a8;},'YYIMT':function(_0x57df36,_0x3a62a8){return _0x57df36+_0x3a62a8;},'JGnoB':function(_0x51d7b1,_0x1bb105){return _0x51d7b1+_0x1bb105;},'PYhMN':function(_0x383232,_0x1a6eab){return _0x383232+_0x1a6eab;},'LJgCL':function(_0x51bf7e,_0x277eeb){return _0x51bf7e+_0x277eeb;},'nxdZS':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','WUbUo':function(_0x34e7cc,_0x25e108,_0x5a3f0f){return _0x34e7cc(_0x25e108,_0x5a3f0f);}};try{if(Credentials[_0x5efca6(0x190)]==0x0||_0x28ba2d[_0x5efca6(0x193)](_0x28ba2d['aejvG'](Date['now'](),Credentials['CreatTime']),_0x28ba2d['mEUZF'](0x3e8,0xe10))||!_0x56d1e9){const _0x36ebe6=await napCatCore[_0x5efca6(0x143)][_0x5efca6(0x167)]()['forceFetchClientKey']('');if(_0x36ebe6[_0x5efca6(0x145)]!==0x0)return'';const _0x31e8a0=_0x36ebe6[_0x5efca6(0x177)],_0xb99fa9=_0x36ebe6[_0x5efca6(0x163)],_0x4ac26e=_0x28ba2d[_0x5efca6(0x146)](_0x28ba2d[_0x5efca6(0x16e)](_0x28ba2d[_0x5efca6(0x191)](_0x28ba2d[_0x5efca6(0x178)](_0x28ba2d['LJgCL'](_0x5efca6(0x184),selfInfo[_0x5efca6(0x150)]),'&clientkey='),_0x31e8a0),_0x28ba2d[_0x5efca6(0x180)]),_0xb99fa9);let _0x44a7f3={};try{_0x44a7f3=await RequestUtil[_0x5efca6(0x15a)](_0x4ac26e);}catch(_0x374835){_0x28ba2d[_0x5efca6(0x160)](logDebug,_0x5efca6(0x172),_0x374835),_0x44a7f3={};}const _0x45f6f6=_0x44a7f3[_0x5efca6(0x17f)];if(!_0x45f6f6)return'';return Credentials[_0x5efca6(0x17d)]=_0x31e8a0,Credentials[_0x5efca6(0x14f)]=_0xb99fa9,Credentials[_0x5efca6(0x190)]=Date[_0x5efca6(0x137)](),Credentials['Skey']=_0x45f6f6,_0x45f6f6;}return Credentials['Skey'];}catch(_0x486207){}return undefined;}static async[_0x5ebecb(0x16a)](_0x209282){const _0x1309e1=_0x5ebecb,_0x515d53={'uwEJz':_0x1309e1(0x194)};let _0x8bc35a=await NTEventDispatch['CallNoListenerEvent'](_0x515d53[_0x1309e1(0x18d)],0x1388,[_0x209282]);return _0x8bc35a[_0x1309e1(0x175)]['get'](_0x209282);}static async[_0x5ebecb(0x162)](_0x237acb){const _0x9fcbe3=_0x5ebecb,_0x1b5d22={'ENNEv':_0x9fcbe3(0x176)};if(!_0x237acb)return'';let _0x1da4d9=await NTEventDispatch[_0x9fcbe3(0x18c)](_0x1b5d22['ENNEv'],0x1388,[_0x237acb]);return _0x1da4d9[_0x9fcbe3(0x182)][_0x9fcbe3(0x15e)](_0x237acb);}static async[_0x5ebecb(0x133)](_0x6bb1de){const _0x4c8d13=_0x5ebecb;return NTEventDispatch['CallNoListenerEvent'](_0x4c8d13(0x173),0x1388,_0x6bb1de);}}