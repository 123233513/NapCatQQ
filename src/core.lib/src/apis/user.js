const _0x1d788b=_0x5954;(function(_0x3c3712,_0x3c66be){const _0x38f125=_0x5954,_0x4ffb0f=_0x3c3712();while(!![]){try{const _0x39be52=-parseInt(_0x38f125(0x172))/0x1+-parseInt(_0x38f125(0x155))/0x2+parseInt(_0x38f125(0x14d))/0x3+-parseInt(_0x38f125(0x16e))/0x4*(parseInt(_0x38f125(0x169))/0x5)+-parseInt(_0x38f125(0x184))/0x6*(parseInt(_0x38f125(0x148))/0x7)+-parseInt(_0x38f125(0x185))/0x8+parseInt(_0x38f125(0x146))/0x9*(parseInt(_0x38f125(0x183))/0xa);if(_0x39be52===_0x3c66be)break;else _0x4ffb0f['push'](_0x4ffb0f['shift']());}catch(_0x54ea8f){_0x4ffb0f['push'](_0x4ffb0f['shift']());}}}(_0x3425,0xadfd1));import{Credentials,selfInfo,uid2UinMap}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';function _0x5954(_0x237600,_0x548aaf){const _0x34253a=_0x3425();return _0x5954=function(_0x595436,_0x5531c2){_0x595436=_0x595436-0x146;let _0x49ceac=_0x34253a[_0x595436];return _0x49ceac;},_0x5954(_0x237600,_0x548aaf);}import{logDebug,logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();function _0x3425(){const _0x12b2a0=['&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','setSelfOnlineStatus','JISzY','getPskey','getProfileService','aAvDv','teMML','5KvVLRf','keyIndex','set','evhdx','getProfileLikeService','1762296ExevAY','getTicketService','getSkey','getUserDetailInfo\x20timeout','505728hwgrMx','addListener','session','bIRpz','getRobotUinRange','getSelfInfo','onProfileDetailInfoChanged','assign','like','CreatTime','getUserInfo','TeXfd','setStatus','UePxs','seUsu','response','robotUinRanges','80FYSLbS','12JbiXvo','9570472TtKUWO','qYKTv','errMsg','setQQAvatar','HttpsGetCookies','onLoginSuccess','setHeader','PskeyTime','sHUjI','getUserDetailInfoWithBizInfo','getPSkey','skey','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','domainPskeyMap','forEach','请求获取Skey时失败','5105493BcgIHH','PskeyData','4009719SYwKSe','getUserDetailInfo','QUHtQ','获取Pskey失败','fromEntries','548847RJNBxw','now','uin','setBuddyProfileLike','getRobotService','vSKGy','uid','njvjH','1440526bTmAOc','dJKUS','forceFetchClientKey','clientKey','result','HcRyX','Skey','length','MvKZP','get','&clientkey=','dvJOl','ACuwX'];_0x3425=function(){return _0x12b2a0;};return _0x3425();}profileListener[_0x1d788b(0x178)]=_0x2b561c=>{const _0xb08a6c=_0x1d788b;userInfoCache[_0x2b561c['uid']]=_0x2b561c,userDetailHandlers[_0xb08a6c(0x193)](_0x397373=>_0x397373(_0x2b561c));},setTimeout(()=>{const _0x5e91c5=_0x1d788b;napCatCore[_0x5e91c5(0x18a)](()=>{const _0x4ae60f=_0x5e91c5;napCatCore[_0x4ae60f(0x173)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x1d788b(0x163)](_0x25de39,_0x3749d2,_0x2906b7){const _0x554eaf=_0x1d788b;return napCatCore[_0x554eaf(0x174)]['getMsgService']()[_0x554eaf(0x17e)]({'status':_0x25de39,'extStatus':_0x3749d2,'batteryStatus':_0x2906b7});}static async[_0x1d788b(0x17a)](_0x3496a9,_0x194663=0x1){const _0xd60d5f=_0x1d788b;return napCatCore[_0xd60d5f(0x174)][_0xd60d5f(0x16d)]()[_0xd60d5f(0x150)]({'friendUid':_0x3496a9,'sourceId':0x47,'doLikeCount':_0x194663,'doLikeTollCount':0x0});}static async[_0x1d788b(0x188)](_0x1adf56){const _0x557244=_0x1d788b,_0x4a96dd=napCatCore['session'][_0x557244(0x166)]()[_0x557244(0x18b)](_0x1adf56);return{'result':_0x4a96dd?.[_0x557244(0x159)],'errMsg':_0x4a96dd?.[_0x557244(0x187)]};}static async[_0x1d788b(0x177)](){}static async[_0x1d788b(0x17c)](_0x245724){}static async[_0x1d788b(0x149)](_0x4ae50a){const _0x2b26c0=_0x1d788b,_0x92bdaa={'sHUjI':function(_0x7c361b){return _0x7c361b();},'AHVtb':function(_0x5ba694,_0x37b0f6,_0xe942d){return _0x5ba694(_0x37b0f6,_0xe942d);}},_0x5ed57c=napCatCore[_0x2b26c0(0x174)][_0x2b26c0(0x166)]();return new Promise((_0x5a37c0,_0x1eed58)=>{const _0x4d5864=_0x2b26c0,_0x4bd65d={'JISzY':function(_0x2ea9d8,_0x405244){return _0x2ea9d8(_0x405244);},'dvJOl':_0x4d5864(0x171)},_0x1376cf=_0x92bdaa[_0x4d5864(0x18d)](randomUUID);let _0x480001=![],_0x54a228=!![];_0x92bdaa['AHVtb'](setTimeout,()=>{const _0x5d9f57=_0x4d5864;!_0x480001&&_0x4bd65d[_0x5d9f57(0x164)](_0x1eed58,_0x4bd65d[_0x5d9f57(0x160)]);},0x1388),userDetailHandlers[_0x4d5864(0x16b)](_0x1376cf,_0x5deb74=>{const _0x300c0b=_0x4d5864;_0x5deb74[_0x300c0b(0x153)]===_0x4ae50a&&(_0x54a228?_0x54a228=![]:(_0x480001=!![],userDetailHandlers['delete'](_0x1376cf),uid2UinMap[_0x4ae50a]=_0x5deb74[_0x300c0b(0x14f)],_0x5a37c0(_0x5deb74)));}),_0x5ed57c[_0x4d5864(0x18e)](_0x4ae50a,[0x0])['then'](_0x5a4455=>{});});}static async[_0x1d788b(0x18f)](_0x1860d0,_0x2d52c4=!![]){const _0x48829e=_0x1d788b,_0x2a70ed={'seUsu':function(_0xdb244,_0x2a2d6d){return _0xdb244||_0x2a2d6d;},'TeXfd':function(_0x1c16d0,_0x578dc1){return _0x1c16d0>_0x578dc1;},'teMML':function(_0x3bd1e4,_0x14e38e){return _0x3bd1e4-_0x14e38e;},'HcRyX':function(_0x5700c8,_0x1dbc10){return _0x5700c8*_0x1dbc10;},'bIRpz':function(_0x47d094,_0x1b17a7){return _0x47d094===_0x1b17a7;},'dJKUS':function(_0x3c7f13,_0x273557,_0x1cee6d){return _0x3c7f13(_0x273557,_0x1cee6d);},'ACuwX':_0x48829e(0x14b)},_0x44fd82=[],_0x2983ed={};for(const _0x34fef9 in _0x1860d0){const _0x5ad6e6=Credentials[_0x48829e(0x147)][_0x48829e(0x15e)](_0x1860d0[_0x34fef9]),_0x55ee1e=Credentials[_0x48829e(0x18c)][_0x48829e(0x15e)](_0x1860d0[_0x34fef9]);_0x2a70ed[_0x48829e(0x180)](!_0x5ad6e6,!_0x55ee1e)||_0x2a70ed[_0x48829e(0x17d)](_0x2a70ed[_0x48829e(0x168)](Date[_0x48829e(0x14e)](),_0x55ee1e),_0x2a70ed[_0x48829e(0x15a)](0x708,0x3e8))||!_0x2d52c4?_0x44fd82['push'](_0x1860d0[_0x34fef9]):_0x2983ed[_0x1860d0[_0x34fef9]]=_0x5ad6e6;}let _0x3c7526={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x44fd82[_0x48829e(0x15c)]>0x0&&(_0x3c7526=await napCatCore['session']['getTipOffService']()[_0x48829e(0x165)](_0x44fd82,!![]));const _0x1af648=_0x3c7526[_0x48829e(0x192)];for(const _0x5e0a23 of _0x1af648['entries']()){Credentials[_0x48829e(0x147)]['set'](_0x5e0a23[0x0],_0x5e0a23[0x1]),Credentials[_0x48829e(0x18c)]['set'](_0x5e0a23[0x0],Date['now']());}const _0x4ff19a=Object[_0x48829e(0x179)](Object[_0x48829e(0x14c)](_0x1af648),_0x2983ed);if(_0x2a70ed[_0x48829e(0x175)](_0x3c7526['result'],0x0))return _0x4ff19a;else _0x2a70ed[_0x48829e(0x156)](logError,_0x2a70ed[_0x48829e(0x161)],_0x3c7526['errMsg']);return{};}static async[_0x1d788b(0x176)](){const _0x25d7aa=_0x1d788b,_0x29bf11=await napCatCore[_0x25d7aa(0x174)][_0x25d7aa(0x151)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x29bf11?.[_0x25d7aa(0x181)]?.[_0x25d7aa(0x182)];}static async[_0x1d788b(0x170)](_0xcb2e3a=!![]){const _0xe45934=_0x1d788b,_0x4961b={'fuaLz':function(_0x288964,_0x4c754f){return _0x288964==_0x4c754f;},'MvKZP':function(_0x351458,_0x52e8e3){return _0x351458>_0x52e8e3;},'aAvDv':function(_0x263c29,_0x479e97){return _0x263c29-_0x479e97;},'qYKTv':function(_0x230100,_0x534e0f){return _0x230100*_0x534e0f;},'FVKJt':function(_0x284140,_0x3421ce){return _0x284140!==_0x3421ce;},'iWevY':function(_0x3fb2bf,_0xd0b59d){return _0x3fb2bf+_0xd0b59d;},'evhdx':function(_0x3dc9f9,_0x332da3){return _0x3dc9f9+_0x332da3;},'njvjH':function(_0x3c3957,_0x17a5b7){return _0x3c3957+_0x17a5b7;},'vSKGy':_0xe45934(0x15f),'QUHtQ':_0xe45934(0x162),'UePxs':function(_0x21b149,_0x29eaa9,_0x268bd2){return _0x21b149(_0x29eaa9,_0x268bd2);}};try{if(_0x4961b['fuaLz'](Credentials[_0xe45934(0x17b)],0x0)||_0x4961b[_0xe45934(0x15d)](_0x4961b[_0xe45934(0x167)](Date[_0xe45934(0x14e)](),Credentials[_0xe45934(0x17b)]),_0x4961b[_0xe45934(0x186)](0x3e8,0xe10))||!_0xcb2e3a){const _0x22ceb7=await napCatCore[_0xe45934(0x174)][_0xe45934(0x16f)]()[_0xe45934(0x157)]('');if(_0x4961b['FVKJt'](_0x22ceb7[_0xe45934(0x159)],0x0))return'';const _0x167754=_0x22ceb7[_0xe45934(0x158)],_0x3cc831=_0x22ceb7[_0xe45934(0x16a)],_0x215749=_0x4961b['iWevY'](_0x4961b[_0xe45934(0x16c)](_0x4961b[_0xe45934(0x154)](_0xe45934(0x191),selfInfo[_0xe45934(0x14f)])+_0x4961b[_0xe45934(0x152)],_0x167754),_0x4961b[_0xe45934(0x14a)])+_0x3cc831;let _0xdd540c;try{_0xdd540c=await RequestUtil[_0xe45934(0x189)](_0x215749);}catch(_0x1f7108){_0x4961b[_0xe45934(0x17f)](logDebug,_0xe45934(0x194),_0x1f7108),_0xdd540c=new Map();}const _0x58dc17=_0xdd540c[_0xe45934(0x15e)](_0xe45934(0x190));if(!_0x58dc17)return'';return Credentials[_0xe45934(0x17b)]=Date['now'](),Credentials[_0xe45934(0x15b)]=_0x58dc17,_0x58dc17;}return Credentials[_0xe45934(0x15b)];}catch(_0x3b3e7e){}return undefined;}}