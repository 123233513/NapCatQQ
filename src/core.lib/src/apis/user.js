function _0x2189(){const _0x494dab=['PskeyTime','result','getRobotUinRange','LGeys','setSelfOnlineStatus','YInkS','Skey','6590nvfbLZ','JHzxs','getMsgService','32718lHeAmS','getSelfInfo','eGKtR','XcxYJ','modifyDesktopMiniProfile','GXJzo','208516wNQuRt','UVKbD','218622ssBqDC','NodeIKernelProfileService/getUserDetailInfoByUin','phRCw','dRgKg','%2Finfocenter&keyindex=19%27','getRobotService','assign','getUidByUin','now','CreatTime','WBtxl','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','raQYS','getPskey','errMsg','setBuddyProfileLike','modifySelfProfile','uidInfo','SOKxN','dypMP','getUserDetailInfo\x20timeout','KTcSl','setStatus','&clientkey=','qxUya','ClientKey','getQzoneCookies','getUserInfo','请求获取Skey时失败','keyIndex','87045drivAM','then','delete','KeyIndex','getUserDetailInfo','846uMlyiT','forEach','CallNoListenerEvent','getSkey','getTipOffService','getProfileService','cjUeL','setQQAvatar','set','entries','robotUinRanges','24ovEAWa','724200bneKqg','LMXoo','push','response','ZyZya','getTicketService','forceFetchClientKey','TCQab','fromEntries','ZNUOp','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','216378phOfqn','setHeader','BPZVW','uid','addListener','获取Pskey失败','Klpzt','XGbEN','bJvkU','uin','PskeyData','HttpsGetCookies','mgiub','KKtsL','length','PsbMc','getUinByUid','Szqxm','get','session'];_0x2189=function(){return _0x494dab;};return _0x2189();}const _0x2dadd4=_0x1ef3;(function(_0x41156e,_0x2a76a9){const _0x1d6b92=_0x1ef3,_0x128b18=_0x41156e();while(!![]){try{const _0x4bcfb8=-parseInt(_0x1d6b92(0x182))/0x1+parseInt(_0x1d6b92(0x17a))/0x2+parseInt(_0x1d6b92(0x1a0))/0x3+parseInt(_0x1d6b92(0x1b1))/0x4+-parseInt(_0x1d6b92(0x177))/0x5*(-parseInt(_0x1d6b92(0x1a5))/0x6)+-parseInt(_0x1d6b92(0x180))/0x7*(parseInt(_0x1d6b92(0x1b0))/0x8)+parseInt(_0x1d6b92(0x1bc))/0x9;if(_0x4bcfb8===_0x2a76a9)break;else _0x128b18['push'](_0x128b18['shift']());}catch(_0x16eba1){_0x128b18['push'](_0x128b18['shift']());}}}(_0x2189,0x1f53e));import{Credentials,selfInfo}from'@/core/data';function _0x1ef3(_0x11117a,_0x4f1264){const _0x218935=_0x2189();return _0x1ef3=function(_0x1ef368,_0x35a040){_0x1ef368=_0x1ef368-0x16a;let _0x168885=_0x218935[_0x1ef368];return _0x168885;},_0x1ef3(_0x11117a,_0x4f1264);}import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener['onProfileDetailInfoChanged']=_0xb12cd4=>{const _0x22dab2=_0x1ef3;userInfoCache[_0xb12cd4[_0x22dab2(0x1bf)]]=_0xb12cd4,userDetailHandlers[_0x22dab2(0x1a6)](_0x331258=>_0x331258(_0xb12cd4));},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x2f1c05=_0x1ef3;napCatCore[_0x2f1c05(0x1c0)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x2dadd4(0x174)](_0x417bf8,_0x549f2d,_0x184c90){const _0x2bfa55=_0x2dadd4;return napCatCore[_0x2bfa55(0x16f)][_0x2bfa55(0x179)]()[_0x2bfa55(0x198)]({'status':_0x417bf8,'extStatus':_0x549f2d,'batteryStatus':_0x184c90});}static async['like'](_0x266f30,_0x7ded78=0x1){const _0x134aee=_0x2dadd4;return napCatCore['session']['getProfileLikeService']()[_0x134aee(0x191)]({'friendUid':_0x266f30,'sourceId':0x47,'doLikeCount':_0x7ded78,'doLikeTollCount':0x0});}static async[_0x2dadd4(0x1ac)](_0x11653f){const _0x54a323=_0x2dadd4,_0x337080=napCatCore[_0x54a323(0x16f)][_0x54a323(0x1aa)]()[_0x54a323(0x1bd)](_0x11653f);return{'result':_0x337080?.['result'],'errMsg':_0x337080?.[_0x54a323(0x190)]};}static async[_0x2dadd4(0x17b)](){}static async[_0x2dadd4(0x19d)](_0x3bee63){}static async[_0x2dadd4(0x1a4)](_0x4de59c){const _0x4022e2=_0x2dadd4,_0x133aad={'bJvkU':function(_0x1a9d08,_0x547492){return _0x1a9d08(_0x547492);},'phRCw':_0x4022e2(0x196),'LGeys':function(_0xcafff3,_0x489ba8){return _0xcafff3===_0x489ba8;},'LMXoo':function(_0x1136a7){return _0x1136a7();},'NrjMc':function(_0x52606a,_0x4e29dd,_0x1457d9){return _0x52606a(_0x4e29dd,_0x1457d9);}},_0xe1b389=napCatCore['session']['getProfileService']();return new Promise((_0x2610c0,_0x3e3b91)=>{const _0xedaf56=_0x4022e2,_0x4a386c={'YInkS':function(_0x43739f,_0x239262){const _0x16ba50=_0x1ef3;return _0x133aad[_0x16ba50(0x173)](_0x43739f,_0x239262);},'Szqxm':function(_0x4a9938,_0x361926){return _0x4a9938(_0x361926);}},_0x48e7c6=_0x133aad[_0xedaf56(0x1b2)](randomUUID);let _0x49ea1d=![],_0x223b17=undefined,_0x404fc2=!![];_0x133aad['NrjMc'](setTimeout,()=>{const _0x5a5889=_0xedaf56;!_0x49ea1d&&(_0x223b17?_0x133aad[_0x5a5889(0x1c4)](_0x2610c0,_0x223b17):_0x3e3b91(_0x133aad[_0x5a5889(0x184)])),userDetailHandlers[_0x5a5889(0x1a2)](_0x48e7c6);},0x1388),userDetailHandlers[_0xedaf56(0x1ad)](_0x48e7c6,_0x24fd7d=>{const _0xf059ef=_0xedaf56;_0x4a386c[_0xf059ef(0x175)](_0x24fd7d[_0xf059ef(0x1bf)],_0x4de59c)&&(_0x404fc2?(_0x223b17=_0x24fd7d,_0x404fc2=![]):(_0x49ea1d=!![],_0x4a386c[_0xf059ef(0x16d)](_0x2610c0,_0x24fd7d)));}),_0xe1b389['getUserDetailInfoWithBizInfo'](_0x4de59c,[0x0])[_0xedaf56(0x1a1)](_0x247723=>{});});}static async[_0x2dadd4(0x192)](_0x3c3637){const _0x5adb09=_0x2dadd4;return napCatCore[_0x5adb09(0x16f)][_0x5adb09(0x1aa)]()[_0x5adb09(0x17e)](_0x3c3637);}static async['getPSkey'](_0x5bf95f,_0x512d5d=!![]){const _0x26af96=_0x2dadd4,_0x2c9d6f={'WBtxl':function(_0x36939d,_0x374340){return _0x36939d||_0x374340;},'PsbMc':function(_0x5290e9,_0x4027ca){return _0x5290e9*_0x4027ca;},'SOKxN':function(_0x1bcbee,_0x41e742){return _0x1bcbee>_0x41e742;},'TCQab':function(_0x3aabb9,_0x2673f0){return _0x3aabb9===_0x2673f0;},'uIQjm':function(_0x26ac59,_0xda51,_0xc8ec92){return _0x26ac59(_0xda51,_0xc8ec92);},'Epjei':_0x26af96(0x1c1)},_0x190e4b=[],_0x7dec43={};for(const _0xcf6cc4 in _0x5bf95f){const _0x2cf679=Credentials['PskeyData']['get'](_0x5bf95f[_0xcf6cc4]),_0x3ff810=Credentials[_0x26af96(0x170)][_0x26af96(0x16e)](_0x5bf95f[_0xcf6cc4]);_0x2c9d6f[_0x26af96(0x18c)](!_0x2cf679,!_0x3ff810)||Date[_0x26af96(0x18a)]()-_0x3ff810>_0x2c9d6f[_0x26af96(0x16b)](0x708,0x3e8)||!_0x512d5d?_0x190e4b[_0x26af96(0x1b3)](_0x5bf95f[_0xcf6cc4]):_0x7dec43[_0x5bf95f[_0xcf6cc4]]=_0x2cf679;}let _0x5c1df7={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x2c9d6f[_0x26af96(0x194)](_0x190e4b[_0x26af96(0x16a)],0x0)&&(_0x5c1df7=await napCatCore[_0x26af96(0x16f)][_0x26af96(0x1a9)]()[_0x26af96(0x18f)](_0x190e4b,!![]));const _0x1aa408=_0x5c1df7['domainPskeyMap'];for(const _0x415ac3 of _0x1aa408[_0x26af96(0x1ae)]()){Credentials[_0x26af96(0x1c6)]['set'](_0x415ac3[0x0],_0x415ac3[0x1]),Credentials[_0x26af96(0x170)][_0x26af96(0x1ad)](_0x415ac3[0x0],Date[_0x26af96(0x18a)]());}const _0x411ffb=Object[_0x26af96(0x188)](Object[_0x26af96(0x1b9)](_0x1aa408),_0x7dec43);if(_0x2c9d6f[_0x26af96(0x1b8)](_0x5c1df7['result'],0x0))return _0x411ffb;else _0x2c9d6f['uIQjm'](logError,_0x2c9d6f['Epjei'],_0x5c1df7['errMsg']);return{};}static async[_0x2dadd4(0x172)](){const _0x187b92=_0x2dadd4,_0xb07bc6=await napCatCore[_0x187b92(0x16f)][_0x187b92(0x187)]()[_0x187b92(0x172)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0xb07bc6?.[_0x187b92(0x1b4)]?.[_0x187b92(0x1af)];}static async[_0x2dadd4(0x19c)](){const _0x45297d=_0x2dadd4,_0x3fecf7={'ZyZya':function(_0x45a948,_0x341075){return _0x45a948+_0x341075;},'BPZVW':function(_0x76b06,_0x5258b6){return _0x76b06+_0x5258b6;},'Klpzt':function(_0x571ad2,_0x5b8223){return _0x571ad2+_0x5b8223;},'XGbEN':function(_0x203860,_0x18028b){return _0x203860+_0x18028b;},'ZNUOp':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','qxUya':'&clientkey=','dnegG':_0x45297d(0x1bb),'sJdhz':_0x45297d(0x186),'dypMP':function(_0x41a813,_0x5d0cab,_0x5a669b){return _0x41a813(_0x5d0cab,_0x5a669b);}},_0x562e0a=_0x3fecf7[_0x45297d(0x1b5)](_0x3fecf7[_0x45297d(0x1be)](_0x3fecf7['BPZVW'](_0x3fecf7[_0x45297d(0x1b5)](_0x3fecf7[_0x45297d(0x1c2)](_0x3fecf7[_0x45297d(0x1c3)](_0x3fecf7[_0x45297d(0x1ba)],selfInfo['uin']),_0x3fecf7[_0x45297d(0x19a)]),Credentials[_0x45297d(0x19b)]),_0x3fecf7['dnegG']),selfInfo[_0x45297d(0x1c5)]),_0x3fecf7['sJdhz']);let _0x24ef05={};try{_0x24ef05=await RequestUtil[_0x45297d(0x1c7)](_0x562e0a);}catch(_0x7c47e3){_0x3fecf7[_0x45297d(0x195)](logDebug,'请求获取Cookies时失败',_0x7c47e3),_0x24ef05={};}return _0x24ef05;}static async[_0x2dadd4(0x1a8)](_0x5d1df7=!![]){const _0x5b0e60=_0x2dadd4,_0x42f401={'raQYS':function(_0x1dbe5a,_0x4a8ab6){return _0x1dbe5a==_0x4a8ab6;},'KTcSl':function(_0x484a71,_0x3204bd){return _0x484a71>_0x3204bd;},'UVKbD':function(_0x48d3b4,_0x5affed){return _0x48d3b4-_0x5affed;},'mgiub':function(_0x4bad52,_0x5b9229){return _0x4bad52!==_0x5b9229;},'XcxYJ':function(_0x3785eb,_0x4f1a53){return _0x3785eb+_0x4f1a53;},'OfUFJ':function(_0x83a04,_0x1d0fd3){return _0x83a04+_0x1d0fd3;},'cjUeL':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','eGKtR':_0x5b0e60(0x199),'JHzxs':_0x5b0e60(0x18d),'KKtsL':function(_0x535986,_0x1296d8,_0x31e691){return _0x535986(_0x1296d8,_0x31e691);},'dRgKg':'skey'};try{if(_0x42f401[_0x5b0e60(0x18e)](Credentials['CreatTime'],0x0)||_0x42f401[_0x5b0e60(0x197)](_0x42f401[_0x5b0e60(0x181)](Date['now'](),Credentials[_0x5b0e60(0x18b)]),0x3e8*0xe10)||!_0x5d1df7){const _0x544eeb=await napCatCore['session'][_0x5b0e60(0x1b6)]()[_0x5b0e60(0x1b7)]('');if(_0x42f401[_0x5b0e60(0x1c8)](_0x544eeb[_0x5b0e60(0x171)],0x0))return'';const _0x397315=_0x544eeb['clientKey'],_0x64e600=_0x544eeb[_0x5b0e60(0x19f)],_0x335a5f=_0x42f401[_0x5b0e60(0x17d)](_0x42f401['OfUFJ'](_0x42f401[_0x5b0e60(0x17d)](_0x42f401[_0x5b0e60(0x1ab)]+selfInfo[_0x5b0e60(0x1c5)],_0x42f401[_0x5b0e60(0x17c)]),_0x397315)+_0x42f401[_0x5b0e60(0x178)],_0x64e600);let _0x439760={};try{_0x439760=await RequestUtil['HttpsGetCookies'](_0x335a5f);}catch(_0x3b995f){_0x42f401[_0x5b0e60(0x1c9)](logDebug,_0x5b0e60(0x19e),_0x3b995f),_0x439760={};}const _0x32381b=_0x439760[_0x42f401[_0x5b0e60(0x185)]];if(!_0x32381b)return'';return Credentials[_0x5b0e60(0x19b)]=_0x397315,Credentials[_0x5b0e60(0x1a3)]=_0x64e600,Credentials[_0x5b0e60(0x18b)]=Date[_0x5b0e60(0x18a)](),Credentials[_0x5b0e60(0x176)]=_0x32381b,_0x32381b;}return Credentials[_0x5b0e60(0x176)];}catch(_0x4f9f55){}return undefined;}static async[_0x2dadd4(0x189)](_0x1fb833){const _0xa64768=_0x2dadd4,_0x1b8c60={'GXJzo':'NodeIKernelUixConvertService/getUid'};let _0x35db89=await NTEventDispatch[_0xa64768(0x1a7)](_0x1b8c60[_0xa64768(0x17f)],0x1388,[_0x1fb833]);return _0x35db89[_0xa64768(0x193)]['get'](_0x1fb833);}static async[_0x2dadd4(0x16c)](_0xac62e9){const _0x52e35c=_0x2dadd4,_0x117b04={'bTKeO':'NodeIKernelUixConvertService/getUin'};if(!_0xac62e9)return'';let _0xf096a7=await NTEventDispatch[_0x52e35c(0x1a7)](_0x117b04['bTKeO'],0x1388,[_0xac62e9]);return _0xf096a7['uinInfo'][_0x52e35c(0x16e)](_0xac62e9);}static async['getUserDetailInfoByUin'](_0x14f208){const _0xc617a=_0x2dadd4,_0x541215={'TFmqZ':_0xc617a(0x183)};return NTEventDispatch['CallNoListenerEvent'](_0x541215['TFmqZ'],0x1388,_0x14f208);}}