const _0x4164e7=_0x24e3;(function(_0x470ea0,_0x54cbaf){const _0xfa0bc3=_0x24e3,_0x3f7056=_0x470ea0();while(!![]){try{const _0x256f2e=-parseInt(_0xfa0bc3(0xb7))/0x1+-parseInt(_0xfa0bc3(0xf5))/0x2*(parseInt(_0xfa0bc3(0xd3))/0x3)+parseInt(_0xfa0bc3(0x109))/0x4+parseInt(_0xfa0bc3(0xdf))/0x5*(parseInt(_0xfa0bc3(0xdc))/0x6)+-parseInt(_0xfa0bc3(0xcb))/0x7*(parseInt(_0xfa0bc3(0xe2))/0x8)+-parseInt(_0xfa0bc3(0xe5))/0x9*(parseInt(_0xfa0bc3(0xf7))/0xa)+parseInt(_0xfa0bc3(0x105))/0xb;if(_0x256f2e===_0x54cbaf)break;else _0x3f7056['push'](_0x3f7056['shift']());}catch(_0x1e9425){_0x3f7056['push'](_0x3f7056['shift']());}}}(_0x5563,0xecd00));var __decorate=this&&this[_0x4164e7(0xe3)]||function(_0x4c88c3,_0x41cb48,_0x3c9603,_0x7b92d1){const _0x33c45d=_0x4164e7,_0x312b00={'bEBii':function(_0x542d3a,_0x20e705){return _0x542d3a<_0x20e705;},'TukCx':function(_0x5755b7,_0x4ed4c9){return _0x5755b7===_0x4ed4c9;},'wHHLz':'function','WcDBj':function(_0x64104f,_0x4194d8){return _0x64104f-_0x4194d8;},'UMPBc':function(_0x1810df,_0x4a19cd){return _0x1810df<_0x4a19cd;},'NrOxJ':function(_0x22667f,_0x5dc34f){return _0x22667f>_0x5dc34f;},'juGPV':function(_0x310a98,_0x516931,_0x21f850,_0x3ca85a){return _0x310a98(_0x516931,_0x21f850,_0x3ca85a);},'ZMARY':function(_0x55d451,_0xd09f8a,_0xcdc825){return _0x55d451(_0xd09f8a,_0xcdc825);}};var _0x1d1396=arguments[_0x33c45d(0xb8)],_0x2372c1=_0x312b00['bEBii'](_0x1d1396,0x3)?_0x41cb48:_0x312b00[_0x33c45d(0xcf)](_0x7b92d1,null)?_0x7b92d1=Object[_0x33c45d(0xbe)](_0x41cb48,_0x3c9603):_0x7b92d1,_0x38ca4c;if(typeof Reflect===_0x33c45d(0xce)&&typeof Reflect[_0x33c45d(0x101)]===_0x312b00['wHHLz'])_0x2372c1=Reflect[_0x33c45d(0x101)](_0x4c88c3,_0x41cb48,_0x3c9603,_0x7b92d1);else{for(var _0x2bf32e=_0x312b00['WcDBj'](_0x4c88c3[_0x33c45d(0xb8)],0x1);_0x2bf32e>=0x0;_0x2bf32e--)if(_0x38ca4c=_0x4c88c3[_0x2bf32e])_0x2372c1=(_0x312b00[_0x33c45d(0xc6)](_0x1d1396,0x3)?_0x38ca4c(_0x2372c1):_0x312b00[_0x33c45d(0xf3)](_0x1d1396,0x3)?_0x312b00['juGPV'](_0x38ca4c,_0x41cb48,_0x3c9603,_0x2372c1):_0x312b00[_0x33c45d(0xd4)](_0x38ca4c,_0x41cb48,_0x3c9603))||_0x2372c1;}return _0x312b00[_0x33c45d(0xf3)](_0x1d1396,0x3)&&_0x2372c1&&Object[_0x33c45d(0xf4)](_0x41cb48,_0x3c9603,_0x2372c1),_0x2372c1;};import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';function _0x24e3(_0x1b28e3,_0x30c9c6){const _0x55630b=_0x5563();return _0x24e3=function(_0x24e307,_0x142737){_0x24e307=_0x24e307-0xb3;let _0x568033=_0x55630b[_0x24e307];return _0x568033;},_0x24e3(_0x1b28e3,_0x30c9c6);}import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();function _0x5563(){const _0x872fc4=['getUserDetailInfoWithBizInfo','%2F','onLoginSuccess','decorate','getTicketService','setHeader','setLongNick','19488909kyWMIa','keyIndex','kBfXE','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','7474660FbfgcJ','poiqk','getMsgService','hWNhX','uid','fkkGN','NodeIKernelProfileService/getUserDetailInfoByUin','CallNoListenerEvent','1501692mtezSv','length','getClientKey\x20Error','&u1=https%3A%2F%2F','PZkIg','LmHCo','uin','getOwnPropertyDescriptor','like','getUserDetailInfo\x20timeout','onProfileDetailInfoChanged','NodeIKernelUixConvertService/getUin','modifySelfProfile','setStatus','skey','UMPBc','getRobotService','getUserInfo','result','PEtci','35819MinXlR','seYZv','session','object','TukCx','getUinByUid','jUIiS','response','3xrTzAQ','ZMARY','forceFetchClientKey','NxMFe','then','TnPJi','getQzoneCookies','getPSkey','getRobotUinRange','1106934kfDlLW','setBuddyProfileLike','errMsg','45tSZPVL','getProfileLikeService','getTipOffService','24xLPcoa','__decorate','%2Finfocenter&keyindex=19%27','16083WrxyaK','&clientkey=','get','getSkey','getBuddyRecommendContactArkJson','ClientKey','forEach','GXqzO','getSkey\x20Skey\x20is\x20Empty','robotUinRanges','clientKey','getUserDetailInfoByUin','getPskey','HttpsGetCookies','NrOxJ','defineProperty','2278678AeEcOo','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','9370cbYnkI','setQQAvatar','modifyDesktopMiniProfile','RLFVb','eVnPg','OhwGo','JvneL'];_0x5563=function(){return _0x872fc4;};return _0x5563();}profileListener[_0x4164e7(0xc1)]=_0x443c85=>{const _0x42e13d=_0x4164e7;userInfoCache[_0x443c85[_0x42e13d(0xb3)]]=_0x443c85,userDetailHandlers[_0x42e13d(0xeb)](_0x53a8a3=>_0x53a8a3(_0x443c85));},setTimeout(()=>{const _0xc7700b=_0x4164e7;napCatCore[_0xc7700b(0x100)](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async[_0x4164e7(0x104)](_0x5cc979){const _0x281821=_0x4164e7;return napCatCore[_0x281821(0xcd)]['getProfileService']()[_0x281821(0x104)](_0x5cc979);}static async['setSelfOnlineStatus'](_0x3b98c4,_0x4845b2,_0x338292){const _0x20f9fa=_0x4164e7;return napCatCore[_0x20f9fa(0xcd)][_0x20f9fa(0x10b)]()[_0x20f9fa(0xc4)]({'status':_0x3b98c4,'extStatus':_0x4845b2,'batteryStatus':_0x338292});}static async[_0x4164e7(0xe9)](_0xbd4fea,_0x1c6820=''){const _0x39f934=_0x4164e7;return napCatCore['session']['getBuddyService']()[_0x39f934(0xe9)](_0xbd4fea,_0x1c6820);}static async[_0x4164e7(0xbf)](_0x1cf551,_0x234d3f=0x1){const _0x4d204a=_0x4164e7;return napCatCore[_0x4d204a(0xcd)][_0x4d204a(0xe0)]()[_0x4d204a(0xdd)]({'friendUid':_0x1cf551,'sourceId':0x47,'doLikeCount':_0x234d3f,'doLikeTollCount':0x0});}static async[_0x4164e7(0xf8)](_0xc7ae09){const _0x396d2b=_0x4164e7,_0x1f0182=await napCatCore['session']['getProfileService']()[_0x396d2b(0x103)](_0xc7ae09);return{'result':_0x1f0182?.['result'],'errMsg':_0x1f0182?.[_0x396d2b(0xde)]};}static async['getSelfInfo'](){}static async[_0x4164e7(0xc8)](_0x2b8cca){}static async['getUserDetailInfo'](_0x5356d1){const _0x15b737=_0x4164e7,_0x9b2ae9={'RLFVb':function(_0x2b926b,_0x5078e0){return _0x2b926b(_0x5078e0);},'tCiPC':function(_0x134309,_0x2368f5){return _0x134309(_0x2368f5);},'hWNhX':_0x15b737(0xc0),'IpIOg':function(_0x1e77ea,_0x5a6b67){return _0x1e77ea===_0x5a6b67;}},_0x279778=napCatCore[_0x15b737(0xcd)]['getProfileService']();return new Promise((_0x788284,_0x3e5e34)=>{const _0x13fd28=_0x15b737,_0x20a315=randomUUID();let _0x92dde3=![],_0x291447=undefined,_0x5873fb=!![];setTimeout(()=>{const _0x3da429=_0x24e3;!_0x92dde3&&(_0x291447?_0x9b2ae9[_0x3da429(0xfa)](_0x788284,_0x291447):_0x9b2ae9['tCiPC'](_0x3e5e34,_0x9b2ae9[_0x3da429(0x10c)])),userDetailHandlers['delete'](_0x20a315);},0x1388),userDetailHandlers['set'](_0x20a315,_0x346f6c=>{const _0x5df4a1=_0x24e3;_0x9b2ae9['IpIOg'](_0x346f6c[_0x5df4a1(0xb3)],_0x5356d1)&&(_0x5873fb?(_0x291447=_0x346f6c,_0x5873fb=![]):(_0x92dde3=!![],_0x788284(_0x346f6c)));}),_0x279778[_0x13fd28(0xfe)](_0x5356d1,[0x0])[_0x13fd28(0xd7)](_0x21ba34=>{});});}static async[_0x4164e7(0xc3)](_0x16925f){const _0x43332d=_0x4164e7;return napCatCore[_0x43332d(0xcd)]['getProfileService']()[_0x43332d(0xf9)](_0x16925f);}static async['getCookies'](_0x9c2ca9){const _0x3cc5eb=_0x4164e7,_0x302cc9={'OhwGo':function(_0x19ba43,_0x560370){return _0x19ba43+_0x560370;},'kBfXE':function(_0x45acdc,_0x15f486){return _0x45acdc+_0x15f486;},'BQaOf':function(_0x2470ab,_0x434f0c){return _0x2470ab+_0x434f0c;},'JvneL':function(_0x4dd505,_0x3051da){return _0x4dd505+_0x3051da;},'poiqk':_0x3cc5eb(0xff),'eVnPg':'%2Finfocenter&keyindex=19%27'},_0x1012ab=await NTQQUserApi[_0x3cc5eb(0xd5)](),_0x276f98=_0x302cc9[_0x3cc5eb(0xfc)](_0x302cc9[_0x3cc5eb(0x107)](_0x302cc9['BQaOf'](_0x302cc9['JvneL'](_0x302cc9['BQaOf'](_0x302cc9[_0x3cc5eb(0xfd)](_0x3cc5eb(0xf6),selfInfo[_0x3cc5eb(0xbd)]),_0x3cc5eb(0xe6)),_0x1012ab['clientKey'])+_0x3cc5eb(0xba),_0x9c2ca9),_0x302cc9[_0x3cc5eb(0x10a)])+selfInfo['uin'],_0x302cc9[_0x3cc5eb(0xfb)]);let _0x21b732=await RequestUtil[_0x3cc5eb(0xf2)](_0x276f98);return _0x21b732;}static async['getPSkey'](_0x582fea){const _0x293830=_0x4164e7;return await napCatCore[_0x293830(0xcd)][_0x293830(0xe1)]()[_0x293830(0xf1)](_0x582fea,!![]);}static async['getRobotUinRange'](){const _0x5813b3=_0x4164e7,_0x3e7f4e=await napCatCore['session'][_0x5813b3(0xc7)]()[_0x5813b3(0xdb)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x3e7f4e?.[_0x5813b3(0xd2)]?.[_0x5813b3(0xee)];}static async[_0x4164e7(0xd9)](){const _0x4a459b=_0x4164e7,_0x1d9a53={'TnPJi':function(_0x266057,_0xab70ba){return _0x266057+_0xab70ba;},'PEtci':function(_0x2ee74d,_0x501e7e){return _0x2ee74d+_0x501e7e;},'NxMFe':_0x4a459b(0xf6),'fkkGN':_0x4a459b(0xe6)},_0x4d6a43=await NTQQUserApi[_0x4a459b(0xd5)](),_0x21f812=_0x1d9a53[_0x4a459b(0xd8)](_0x1d9a53[_0x4a459b(0xca)](_0x1d9a53[_0x4a459b(0xca)](_0x1d9a53[_0x4a459b(0xd6)],selfInfo[_0x4a459b(0xbd)])+_0x1d9a53[_0x4a459b(0xb4)]+_0x4d6a43[_0x4a459b(0xef)],_0x4a459b(0x108))+selfInfo[_0x4a459b(0xbd)],_0x4a459b(0xe4));let _0x220708=await RequestUtil['HttpsGetCookies'](_0x21f812);return _0x220708;}static async[_0x4164e7(0xe8)](){const _0x1f2308=_0x4164e7,_0x688026={'GXqzO':function(_0xc11a6e,_0x444938){return _0xc11a6e!==_0x444938;},'jUIiS':_0x1f2308(0xb9),'seYZv':function(_0x1b41d2,_0x17748c){return _0x1b41d2+_0x17748c;},'LmHCo':function(_0x78513d,_0x158f03){return _0x78513d+_0x158f03;},'yYSCQ':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','PZkIg':_0x1f2308(0xed)},_0x347f00=await NTQQUserApi[_0x1f2308(0xd5)]();if(_0x688026[_0x1f2308(0xec)](_0x347f00[_0x1f2308(0xc9)],0x0))throw new Error(_0x688026[_0x1f2308(0xd1)]);const _0x38f645=_0x347f00[_0x1f2308(0xef)],_0x3332d1=_0x347f00[_0x1f2308(0x106)],_0x1f628d=_0x688026[_0x1f2308(0xcc)](_0x688026[_0x1f2308(0xbc)](_0x1f2308(0xf6),selfInfo[_0x1f2308(0xbd)])+'&clientkey=',_0x38f645)+_0x688026['yYSCQ'];let _0xf78ca8=await RequestUtil['HttpsGetCookies'](_0x1f628d);const _0x1782ba=_0xf78ca8[_0x1f2308(0xc5)];if(!_0x1782ba)throw new Error(_0x688026[_0x1f2308(0xbb)]);return _0x1782ba;}static async['getUidByUin'](_0x114e4e){const _0x143081=_0x4164e7,_0x5776d9={'BkGoQ':'NodeIKernelUixConvertService/getUid'};let _0x59ce51=await NTEventDispatch[_0x143081(0xb6)](_0x5776d9['BkGoQ'],0x1388,[_0x114e4e]);return _0x59ce51['uidInfo']['get'](_0x114e4e);}static async[_0x4164e7(0xd0)](_0x54ae8d){const _0x4d67a1=_0x4164e7,_0x432e89={'qnzLD':_0x4d67a1(0xc2)};if(!_0x54ae8d)return'';let _0x3bdea9=await NTEventDispatch[_0x4d67a1(0xb6)](_0x432e89['qnzLD'],0x1388,[_0x54ae8d]);return _0x3bdea9['uinInfo'][_0x4d67a1(0xe7)](_0x54ae8d);}static async[_0x4164e7(0xf0)](_0x3206e8){const _0x297071=_0x4164e7,_0x11d826={'nsXqy':_0x297071(0xb5)};return NTEventDispatch[_0x297071(0xb6)](_0x11d826['nsXqy'],0x1388,_0x3206e8);}static async['forceFetchClientKey'](){const _0x2ff8b6=_0x4164e7;return await napCatCore['session'][_0x2ff8b6(0x102)]()[_0x2ff8b6(0xd5)]('');}}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getCookies',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x4164e7(0xda),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x4164e7(0xd9),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getSkey',null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,_0x4164e7(0xea))],NTQQUserApi,_0x4164e7(0xd5),null);