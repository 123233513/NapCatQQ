const _0x32c508=_0x4bfa;function _0x3375(){const _0x52ddf0=['PskeyData','36475qjHFVj','2818172hNeTOW','setSelfOnlineStatus','CreatTime','DuLgd','keyIndex','2691730egmUGV','response','NGJol','382100FsQBBL','35612nPCqtb','getUserDetailInfo\x20timeout','then','skey','setQQAvatar','getPskey','assign','getUserInfo','cFBFu','like','result','getUserDetailInfoWithBizInfo','lrCVH','63rTyWPr','getTipOffService','YvESw','setStatus','MGpHL','getSelfInfo','uid','Skey','BvdCg','clientKey','&clientkey=','now','fromEntries','setBuddyProfileLike','XVOfT','seeoj','getRobotUinRange','robotUinRanges','获取Pskey失败','getMsgService','delete','getRobotService','234gdSxkY','entries','set','otOwY','hldRP','1262408CEoUBh','HttpGetCookies','getUserDetailInfo','session','PskeyTime','onLoginSuccess','getTicketService','Pildy','fJPXU','VMcLo','addListener','Ouera','iaEuR','getPSkey','errMsg','2rSqcGK','9nISLne','Yttbw','getSkey','4979293hlxZed','uin','get','push','getProfileService','iVdIg','csRte'];_0x3375=function(){return _0x52ddf0;};return _0x3375();}(function(_0x2d484f,_0x51c215){const _0x17e4a8=_0x4bfa,_0x488524=_0x2d484f();while(!![]){try{const _0x59d90e=parseInt(_0x17e4a8(0x10b))/0x1*(-parseInt(_0x17e4a8(0xf6))/0x2)+parseInt(_0x17e4a8(0x119))/0x3*(parseInt(_0x17e4a8(0x10c))/0x4)+-parseInt(_0x17e4a8(0x102))/0x5*(-parseInt(_0x17e4a8(0xe2))/0x6)+parseInt(_0x17e4a8(0x103))/0x7+parseInt(_0x17e4a8(0xe7))/0x8+-parseInt(_0x17e4a8(0xf7))/0x9*(-parseInt(_0x17e4a8(0x108))/0xa)+-parseInt(_0x17e4a8(0xfa))/0xb;if(_0x59d90e===_0x51c215)break;else _0x488524['push'](_0x488524['shift']());}catch(_0x59d5f1){_0x488524['push'](_0x488524['shift']());}}}(_0x3375,0x71d63));import{Credentials,selfInfo,uid2UinMap}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x4bfa(_0x82f219,_0x3225f2){const _0x3375b5=_0x3375();return _0x4bfa=function(_0x4bfa07,_0x567a72){_0x4bfa07=_0x4bfa07-0xd0;let _0x220530=_0x3375b5[_0x4bfa07];return _0x220530;},_0x4bfa(_0x82f219,_0x3225f2);}import{RequestUtil}from'@/common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener['onProfileDetailInfoChanged']=_0x4c353d=>{const _0x2d93ea=_0x4bfa;userInfoCache[_0x4c353d[_0x2d93ea(0xd2)]]=_0x4c353d,userDetailHandlers['forEach'](_0x44a974=>_0x44a974(_0x4c353d));},setTimeout(()=>{const _0x54ef46=_0x4bfa;napCatCore[_0x54ef46(0xec)](()=>{const _0x40ea42=_0x54ef46;napCatCore[_0x40ea42(0xf1)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x32c508(0x104)](_0x2fc4b7,_0x3687f2,_0x28af1a){const _0x3fce14=_0x32c508;return napCatCore[_0x3fce14(0xea)][_0x3fce14(0xdf)]()[_0x3fce14(0x11c)]({'status':_0x2fc4b7,'extStatus':_0x3687f2,'batteryStatus':_0x28af1a});}static async[_0x32c508(0x115)](_0x46550e,_0x2dd7a7=0x1){const _0x536c42=_0x32c508;return napCatCore['session']['getProfileLikeService']()[_0x536c42(0xd9)]({'friendUid':_0x46550e,'sourceId':0x47,'doLikeCount':_0x2dd7a7,'doLikeTollCount':0x0});}static async[_0x32c508(0x110)](_0x26cc9d){const _0x19fa72=_0x32c508,_0x638707=napCatCore[_0x19fa72(0xea)][_0x19fa72(0xfe)]()['setHeader'](_0x26cc9d);return{'result':_0x638707?.[_0x19fa72(0x116)],'errMsg':_0x638707?.['errMsg']};}static async[_0x32c508(0xd1)](){}static async[_0x32c508(0x113)](_0x3dd968){}static async[_0x32c508(0xe9)](_0x20616a){const _0x37420a=_0x32c508,_0x21fbbf={'VMcLo':_0x37420a(0x10d),'MGpHL':function(_0x497e84,_0x36aa99){return _0x497e84===_0x36aa99;},'fJPXU':function(_0xbf722a,_0x18fbad){return _0xbf722a(_0x18fbad);},'iVdIg':function(_0x285f67){return _0x285f67();},'lrCVH':function(_0x511099,_0x308b9f,_0xfe24f3){return _0x511099(_0x308b9f,_0xfe24f3);}},_0x3ce663=napCatCore[_0x37420a(0xea)][_0x37420a(0xfe)]();return new Promise((_0x4f2ec7,_0x53ff98)=>{const _0x30bd43=_0x37420a,_0xab0ac2={'otOwY':_0x21fbbf[_0x30bd43(0xf0)],'iaEuR':function(_0x4b1536,_0x1a1f05){const _0x456203=_0x30bd43;return _0x21fbbf[_0x456203(0xd0)](_0x4b1536,_0x1a1f05);},'NGJol':function(_0x56a4d2,_0x32968f){const _0x149cc6=_0x30bd43;return _0x21fbbf[_0x149cc6(0xef)](_0x56a4d2,_0x32968f);}},_0x3413ca=_0x21fbbf[_0x30bd43(0xff)](randomUUID);let _0x3e3acf=![];_0x21fbbf[_0x30bd43(0x118)](setTimeout,()=>{const _0x565e46=_0x30bd43;!_0x3e3acf&&_0x53ff98(_0xab0ac2[_0x565e46(0xe5)]);},0x1388),userDetailHandlers[_0x30bd43(0xe4)](_0x3413ca,_0x17eb29=>{const _0x285cb8=_0x30bd43;_0xab0ac2[_0x285cb8(0xf3)](_0x17eb29[_0x285cb8(0xd2)],_0x20616a)&&(_0x3e3acf=!![],userDetailHandlers[_0x285cb8(0xe0)](_0x3413ca),uid2UinMap[_0x20616a]=_0x17eb29[_0x285cb8(0xfb)],_0xab0ac2[_0x285cb8(0x10a)](_0x4f2ec7,_0x17eb29));}),_0x3ce663[_0x30bd43(0x117)](_0x20616a,[0x0])[_0x30bd43(0x10e)](_0x16212b=>{});});}static async[_0x32c508(0xf4)](_0x8076af,_0x232677=!![]){const _0x5a5ef7=_0x32c508,_0x42dd19={'lWTVL':function(_0x4e6402,_0x2a2ba2){return _0x4e6402||_0x2a2ba2;},'Pildy':function(_0x11c99b,_0x5b9f0f){return _0x11c99b>_0x5b9f0f;},'XVOfT':function(_0x2efa2f,_0x33cfb6){return _0x2efa2f-_0x33cfb6;},'DuLgd':function(_0x160b17,_0xf5882){return _0x160b17===_0xf5882;},'YvESw':function(_0x176216,_0x1515c8,_0x2dc1e2){return _0x176216(_0x1515c8,_0x2dc1e2);},'ePfGS':_0x5a5ef7(0xde)},_0x32d5bb=[],_0x250dda={};for(const _0x4b0fab in _0x8076af){const _0x50e54d=Credentials[_0x5a5ef7(0x101)][_0x5a5ef7(0xfc)](_0x8076af[_0x4b0fab]),_0x5d209f=Credentials[_0x5a5ef7(0xeb)][_0x5a5ef7(0xfc)](_0x8076af[_0x4b0fab]);_0x42dd19['lWTVL'](!_0x50e54d,!_0x5d209f)||_0x42dd19[_0x5a5ef7(0xee)](_0x42dd19[_0x5a5ef7(0xda)](Date[_0x5a5ef7(0xd7)](),_0x5d209f),0x708*0x3e8)||!_0x232677?_0x32d5bb[_0x5a5ef7(0xfd)](_0x8076af[_0x4b0fab]):_0x250dda[_0x8076af[_0x4b0fab]]=_0x50e54d;}let _0x1a87bc={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x42dd19['Pildy'](_0x32d5bb['length'],0x0)&&(_0x1a87bc=await napCatCore['session'][_0x5a5ef7(0x11a)]()[_0x5a5ef7(0x111)](_0x32d5bb,!![]));const _0x1886f7=_0x1a87bc['domainPskeyMap'];for(const _0x3a5ac8 of _0x1886f7[_0x5a5ef7(0xe3)]()){Credentials[_0x5a5ef7(0x101)][_0x5a5ef7(0xe4)](_0x3a5ac8[0x0],_0x3a5ac8[0x1]),Credentials[_0x5a5ef7(0xeb)][_0x5a5ef7(0xe4)](_0x3a5ac8[0x0],Date[_0x5a5ef7(0xd7)]());}const _0x5b2582=Object[_0x5a5ef7(0x112)](Object[_0x5a5ef7(0xd8)](_0x1886f7),_0x250dda);if(_0x42dd19[_0x5a5ef7(0x106)](_0x1a87bc[_0x5a5ef7(0x116)],0x0))return _0x5b2582;else _0x42dd19[_0x5a5ef7(0x11b)](logError,_0x42dd19['ePfGS'],_0x1a87bc[_0x5a5ef7(0xf5)]);return{};}static async[_0x32c508(0xdc)](){const _0x1fecbe=_0x32c508,_0xb49fc0=await napCatCore[_0x1fecbe(0xea)][_0x1fecbe(0xe1)]()[_0x1fecbe(0xdc)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0xb49fc0?.[_0x1fecbe(0x109)]?.[_0x1fecbe(0xdd)];}static async[_0x32c508(0xf9)](_0x3a7cc1=!![]){const _0x2b16e6=_0x32c508,_0x16f3ad={'hldRP':function(_0x1b6675,_0x2f5c6e){return _0x1b6675==_0x2f5c6e;},'cFBFu':function(_0x31ce17,_0x4c7620){return _0x31ce17-_0x4c7620;},'HfZPi':function(_0x58bfb7,_0x14da50){return _0x58bfb7*_0x14da50;},'BvdCg':function(_0x8500b3,_0x5e708){return _0x8500b3!==_0x5e708;},'Ouera':function(_0x1dfd72,_0x52484c){return _0x1dfd72+_0x52484c;},'csRte':function(_0x3eb70f,_0xf942eb){return _0x3eb70f+_0xf942eb;},'endFr':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','Yttbw':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','seeoj':_0x2b16e6(0x10f)};try{if(_0x16f3ad[_0x2b16e6(0xe6)](Credentials[_0x2b16e6(0x105)],0x0)||_0x16f3ad[_0x2b16e6(0x114)](Date[_0x2b16e6(0xd7)](),Credentials[_0x2b16e6(0x105)])>_0x16f3ad['HfZPi'](0x3e8,0xe10)||!_0x3a7cc1){const _0x406644=await napCatCore[_0x2b16e6(0xea)][_0x2b16e6(0xed)]()['forceFetchClientKey']('');if(_0x16f3ad[_0x2b16e6(0xd4)](_0x406644[_0x2b16e6(0x116)],0x0))return'';const _0x2aa8c8=_0x406644[_0x2b16e6(0xd5)],_0x352e98=_0x406644[_0x2b16e6(0x107)],_0x667808=_0x16f3ad[_0x2b16e6(0xf2)](_0x16f3ad[_0x2b16e6(0xf2)](_0x16f3ad[_0x2b16e6(0x100)](_0x16f3ad[_0x2b16e6(0x100)](_0x16f3ad['endFr'],selfInfo[_0x2b16e6(0xfb)]),_0x2b16e6(0xd6)),_0x2aa8c8)+_0x16f3ad[_0x2b16e6(0xf8)],_0x352e98);let _0x1a56b;try{_0x1a56b=await RequestUtil[_0x2b16e6(0xe8)](_0x667808);}catch{_0x1a56b=new Map();}const _0x21a566=_0x1a56b[_0x2b16e6(0xfc)](_0x16f3ad[_0x2b16e6(0xdb)]);if(!_0x21a566)return'';return Credentials[_0x2b16e6(0x105)]=Date[_0x2b16e6(0xd7)](),Credentials[_0x2b16e6(0xd3)]=_0x21a566,_0x21a566;}return Credentials['Skey'];}catch(_0x58a07f){}return undefined;}}