const _0x940856=_0x2c3d;(function(_0x2d9db9,_0x4516c9){const _0x392d8e=_0x2c3d,_0x5ca67a=_0x2d9db9();while(!![]){try{const _0x20db83=parseInt(_0x392d8e(0xad))/0x1+-parseInt(_0x392d8e(0x92))/0x2*(parseInt(_0x392d8e(0xc5))/0x3)+-parseInt(_0x392d8e(0xae))/0x4*(-parseInt(_0x392d8e(0xca))/0x5)+-parseInt(_0x392d8e(0x97))/0x6+-parseInt(_0x392d8e(0x8e))/0x7*(parseInt(_0x392d8e(0xbb))/0x8)+-parseInt(_0x392d8e(0xbd))/0x9+-parseInt(_0x392d8e(0xc1))/0xa*(-parseInt(_0x392d8e(0x8f))/0xb);if(_0x20db83===_0x4516c9)break;else _0x5ca67a['push'](_0x5ca67a['shift']());}catch(_0x55a36a){_0x5ca67a['push'](_0x5ca67a['shift']());}}}(_0x3eb9,0x83d7e));function _0x3eb9(){const _0x3a9652=['568NVNrvK','getPSkey','6397443hKgjAL','skey','请求获取Cookies时失败','addListener','70LioXNO','lNaVK','setBuddyProfileLike','EqVRO','26241JFDAHK','getProfileService','getPskey','PskeyData','session','25yTSHqp','get','setQQAvatar','PskeyTime','HuyDs','getMsgService','fromEntries','getQzoneCookies','UMDzd','getProfileLikeService','forceFetchClientKey','tagll','kllWG','wxmkh','errMsg','zHXHz','getUserDetailInfo','delete','PRLvH','setHeader','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','DuGUM','getUserInfo','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','then','getUserDetailInfo\x20timeout','setSelfOnlineStatus','5152pnoJLg','1688478ojfXPN','XCydT','keyIndex','230rDmGpo','onLoginSuccess','uid','like','domainPskeyMap','16392OZBlUH','pXtfj','uin','ojhHd','RRNDY','push','now','JwXyf','kDVTE','getRobotUinRange','result','YEaUL','response','Lcjjn','setStatus','DyZLj','HttpsGetCookies','getTipOffService','getRobotService','getTicketService','getSelfInfo','Skey','995529OApyXK','193388gQSOVM','获取Pskey失败','clientKey','ClientKey','length','KeyIndex','entries','lHija','haCOT','auFGv','&clientkey=','onProfileDetailInfoChanged','请求获取Skey时失败'];_0x3eb9=function(){return _0x3a9652;};return _0x3eb9();}import{Credentials,selfInfo,uid2UinMap}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';function _0x2c3d(_0x49e9a1,_0x561105){const _0x3eb9b9=_0x3eb9();return _0x2c3d=function(_0x2c3d99,_0x58b52d){_0x2c3d99=_0x2c3d99-0x7d;let _0x582137=_0x3eb9b9[_0x2c3d99];return _0x582137;},_0x2c3d(_0x49e9a1,_0x561105);}import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x940856(0xb9)]=_0x3aa5c1=>{const _0x306061=_0x940856;userInfoCache[_0x3aa5c1[_0x306061(0x94)]]=_0x3aa5c1,userDetailHandlers['forEach'](_0x5317cd=>_0x5317cd(_0x3aa5c1));},setTimeout(()=>{const _0x399707=_0x940856;napCatCore[_0x399707(0x93)](()=>{const _0x505596=_0x399707;napCatCore[_0x505596(0xc0)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x940856(0x8d)](_0x479bd7,_0x556d61,_0x2575b8){const _0x1fd24f=_0x940856;return napCatCore[_0x1fd24f(0xc9)][_0x1fd24f(0xcf)]()[_0x1fd24f(0xa5)]({'status':_0x479bd7,'extStatus':_0x556d61,'batteryStatus':_0x2575b8});}static async[_0x940856(0x95)](_0x522d45,_0x1f7cc8=0x1){const _0x418d3c=_0x940856;return napCatCore['session'][_0x418d3c(0xd3)]()[_0x418d3c(0xc3)]({'friendUid':_0x522d45,'sourceId':0x47,'doLikeCount':_0x1f7cc8,'doLikeTollCount':0x0});}static async[_0x940856(0xcc)](_0x286b37){const _0x4335e1=_0x940856,_0xbf2e7b=napCatCore['session'][_0x4335e1(0xc6)]()[_0x4335e1(0x86)](_0x286b37);return{'result':_0xbf2e7b?.[_0x4335e1(0xa1)],'errMsg':_0xbf2e7b?.[_0x4335e1(0x81)]};}static async[_0x940856(0xab)](){}static async[_0x940856(0x89)](_0xc3e5f0){}static async[_0x940856(0x83)](_0x807e3){const _0x517481=_0x940856,_0x18cd8a={'kllWG':function(_0x202618,_0x1f5bc5){return _0x202618===_0x1f5bc5;},'YhvgF':function(_0x4513ae,_0x6f74a2){return _0x4513ae(_0x6f74a2);},'Lcjjn':function(_0x1c0b2d){return _0x1c0b2d();},'ojhHd':function(_0x520818,_0x53f05d,_0x1000f0){return _0x520818(_0x53f05d,_0x1000f0);}},_0x5db9bf=napCatCore[_0x517481(0xc9)][_0x517481(0xc6)]();return new Promise((_0x3e1e59,_0x251ab0)=>{const _0x50a86c=_0x517481,_0x142c52={'lNaVK':_0x50a86c(0x8c),'wxmkh':function(_0x1a0dcc,_0x26c66c){const _0xae4cc5=_0x50a86c;return _0x18cd8a[_0xae4cc5(0x7f)](_0x1a0dcc,_0x26c66c);},'pXtfj':function(_0x3f7562,_0x368e1b){return _0x18cd8a['YhvgF'](_0x3f7562,_0x368e1b);}},_0x448d2c=_0x18cd8a[_0x50a86c(0xa4)](randomUUID);let _0xc0dcd1=![],_0x2e708d=undefined,_0x564245=!![];_0x18cd8a[_0x50a86c(0x9a)](setTimeout,()=>{const _0x6ed714=_0x50a86c;!_0xc0dcd1&&(_0x2e708d?_0x3e1e59(_0x2e708d):_0x251ab0(_0x142c52[_0x6ed714(0xc2)])),userDetailHandlers[_0x6ed714(0x84)](_0x448d2c);},0x1388),userDetailHandlers['set'](_0x448d2c,_0x12a663=>{const _0x55f237=_0x50a86c;_0x142c52[_0x55f237(0x80)](_0x12a663['uid'],_0x807e3)&&(uid2UinMap[_0x807e3]=_0x12a663['uin'],_0x564245?(_0x2e708d=_0x12a663,_0x564245=![]):(_0xc0dcd1=!![],_0x142c52[_0x55f237(0x98)](_0x3e1e59,_0x12a663)));}),_0x5db9bf['getUserDetailInfoWithBizInfo'](_0x807e3,[0x0])[_0x50a86c(0x8b)](_0x5a54aa=>{});});}static async[_0x940856(0xbc)](_0x2803fd,_0x1ef851=!![]){const _0x4155f1=_0x940856,_0xefa810={'tagll':function(_0x209c33,_0x4d981f){return _0x209c33||_0x4d981f;},'lHija':function(_0x47a055,_0x54f16b){return _0x47a055>_0x54f16b;},'rRbTu':function(_0x993f4f,_0x1cde32){return _0x993f4f-_0x1cde32;},'XCydT':function(_0x1156ed,_0x36cdfb,_0x2b4563){return _0x1156ed(_0x36cdfb,_0x2b4563);},'zHXHz':_0x4155f1(0xaf)},_0x2da5ea=[],_0x484c94={};for(const _0x280bf3 in _0x2803fd){const _0x27eaea=Credentials['PskeyData']['get'](_0x2803fd[_0x280bf3]),_0x2f41df=Credentials['PskeyTime'][_0x4155f1(0xcb)](_0x2803fd[_0x280bf3]);_0xefa810[_0x4155f1(0x7e)](!_0x27eaea,!_0x2f41df)||_0xefa810[_0x4155f1(0xb5)](_0xefa810['rRbTu'](Date[_0x4155f1(0x9d)](),_0x2f41df),0x708*0x3e8)||!_0x1ef851?_0x2da5ea[_0x4155f1(0x9c)](_0x2803fd[_0x280bf3]):_0x484c94[_0x2803fd[_0x280bf3]]=_0x27eaea;}let _0x1b708a={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x2da5ea[_0x4155f1(0xb2)]>0x0&&(_0x1b708a=await napCatCore[_0x4155f1(0xc9)][_0x4155f1(0xa8)]()[_0x4155f1(0xc7)](_0x2da5ea,!![]));const _0x553178=_0x1b708a[_0x4155f1(0x96)];for(const _0x1044a0 of _0x553178[_0x4155f1(0xb4)]()){Credentials[_0x4155f1(0xc8)]['set'](_0x1044a0[0x0],_0x1044a0[0x1]),Credentials[_0x4155f1(0xcd)]['set'](_0x1044a0[0x0],Date[_0x4155f1(0x9d)]());}const _0x733f8b=Object['assign'](Object[_0x4155f1(0xd0)](_0x553178),_0x484c94);if(_0x1b708a[_0x4155f1(0xa1)]===0x0)return _0x733f8b;else _0xefa810[_0x4155f1(0x90)](logError,_0xefa810[_0x4155f1(0x82)],_0x1b708a['errMsg']);return{};}static async[_0x940856(0xa0)](){const _0x16b4b7=_0x940856,_0x5b20f5=await napCatCore['session'][_0x16b4b7(0xa9)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x5b20f5?.[_0x16b4b7(0xa3)]?.['robotUinRanges'];}static async[_0x940856(0xd1)](){const _0x905ee=_0x940856,_0x3e2387={'HuyDs':function(_0x5da185,_0x4572ca){return _0x5da185+_0x4572ca;},'kDVTE':_0x905ee(0xb8),'YEaUL':_0x905ee(0x87),'DuGUM':'%2Finfocenter&keyindex=19%27','fjUCw':function(_0x1f18a3,_0x4d19fe,_0x307bf9){return _0x1f18a3(_0x4d19fe,_0x307bf9);},'UMDzd':_0x905ee(0xbf)},_0x534786=_0x3e2387[_0x905ee(0xce)](_0x3e2387[_0x905ee(0xce)](_0x3e2387[_0x905ee(0xce)](_0x3e2387[_0x905ee(0xce)](_0x3e2387['HuyDs'](_0x905ee(0x8a),selfInfo[_0x905ee(0x99)]),_0x3e2387[_0x905ee(0x9f)]),Credentials[_0x905ee(0xb1)]),_0x3e2387[_0x905ee(0xa2)])+selfInfo[_0x905ee(0x99)],_0x3e2387[_0x905ee(0x88)]);let _0x461d8f={};try{_0x461d8f=await RequestUtil[_0x905ee(0xa7)](_0x534786);}catch(_0x588958){_0x3e2387['fjUCw'](logDebug,_0x3e2387[_0x905ee(0xd2)],_0x588958),_0x461d8f={};}return _0x461d8f;}static async['getSkey'](_0x4fdfc6=!![]){const _0x23a0bd=_0x940856,_0x2d8cf9={'PRLvH':function(_0xe73af1,_0x1fdf0b){return _0xe73af1==_0x1fdf0b;},'RRNDY':function(_0x395e48,_0x11a4c1){return _0x395e48>_0x11a4c1;},'haCOT':function(_0x3f166f,_0xc4d9d8){return _0x3f166f-_0xc4d9d8;},'ytTLv':function(_0x21d4d8,_0x299823){return _0x21d4d8*_0x299823;},'EqVRO':function(_0x4f8983,_0x122b74){return _0x4f8983+_0x122b74;},'ZFDPf':function(_0x19da4d,_0x28e7d1){return _0x19da4d+_0x28e7d1;},'auFGv':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','DyZLj':_0x23a0bd(0xb8),'JwXyf':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','zBXfG':function(_0x130994,_0x120581,_0x145d7b){return _0x130994(_0x120581,_0x145d7b);},'BoHol':_0x23a0bd(0xba),'bmecM':_0x23a0bd(0xbe)};try{if(_0x2d8cf9[_0x23a0bd(0x85)](Credentials['CreatTime'],0x0)||_0x2d8cf9[_0x23a0bd(0x9b)](_0x2d8cf9[_0x23a0bd(0xb6)](Date[_0x23a0bd(0x9d)](),Credentials['CreatTime']),_0x2d8cf9['ytTLv'](0x3e8,0xe10))||!_0x4fdfc6){const _0x26e06c=await napCatCore[_0x23a0bd(0xc9)][_0x23a0bd(0xaa)]()[_0x23a0bd(0x7d)]('');if(_0x26e06c['result']!==0x0)return'';const _0x594293=_0x26e06c[_0x23a0bd(0xb0)],_0x170c0c=_0x26e06c[_0x23a0bd(0x91)],_0xc8c457=_0x2d8cf9[_0x23a0bd(0xc4)](_0x2d8cf9['EqVRO'](_0x2d8cf9['ZFDPf'](_0x2d8cf9['ZFDPf'](_0x2d8cf9[_0x23a0bd(0xb7)],selfInfo['uin']),_0x2d8cf9[_0x23a0bd(0xa6)]),_0x594293),_0x2d8cf9[_0x23a0bd(0x9e)])+_0x170c0c;let _0x351800={};try{_0x351800=await RequestUtil[_0x23a0bd(0xa7)](_0xc8c457);}catch(_0x5bcb19){_0x2d8cf9['zBXfG'](logDebug,_0x2d8cf9['BoHol'],_0x5bcb19),_0x351800={};}const _0x3f033e=_0x351800[_0x2d8cf9['bmecM']];if(!_0x3f033e)return'';return Credentials['ClientKey']=_0x594293,Credentials[_0x23a0bd(0xb3)]=_0x170c0c,Credentials['CreatTime']=Date[_0x23a0bd(0x9d)](),Credentials[_0x23a0bd(0xac)]=_0x3f033e,_0x3f033e;}return Credentials[_0x23a0bd(0xac)];}catch(_0x1d211d){}return undefined;}}