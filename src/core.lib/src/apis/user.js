const _0x16888c=_0x1051;(function(_0x296be3,_0x5545b5){const _0x4a98a1=_0x1051,_0x9603d8=_0x296be3();while(!![]){try{const _0x3eaf20=-parseInt(_0x4a98a1(0x130))/0x1*(parseInt(_0x4a98a1(0x11a))/0x2)+-parseInt(_0x4a98a1(0x138))/0x3+parseInt(_0x4a98a1(0x126))/0x4+parseInt(_0x4a98a1(0x147))/0x5*(-parseInt(_0x4a98a1(0x135))/0x6)+-parseInt(_0x4a98a1(0x115))/0x7*(-parseInt(_0x4a98a1(0x11c))/0x8)+parseInt(_0x4a98a1(0x12b))/0x9+parseInt(_0x4a98a1(0x107))/0xa*(parseInt(_0x4a98a1(0x117))/0xb);if(_0x3eaf20===_0x5545b5)break;else _0x9603d8['push'](_0x9603d8['shift']());}catch(_0x251709){_0x9603d8['push'](_0x9603d8['shift']());}}}(_0x16c2,0x43e9d));import{Credentials,selfInfo}from'@/core/data';function _0x16c2(){const _0x4986d0=['getSelfInfo','uid','48798NpSWom','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','assign','getPskey','LNGSJ','1rGstof','dMBiR','setQQAvatar','forEach','RzPCp','8574IoULlM','get','uin','437580kkNrDJ','delete','robotUinRanges','tltoG','result','keyIndex','viUHW','getUserDetailInfo\x20timeout','response','dmGvZ','LYVzK','eUgHN','push','setHeader','vpwVC','125riUYRK','like','INsgj','PskeyTime','now','&clientkey=','forceFetchClientKey','setStatus','setBuddyProfileLike','474310xbepNX','session','getMsgService','onLoginSuccess','Horxz','addListener','clientKey','AnBKm','skey','errMsg','获取Pskey失败','Skey','PskeyData','getUserInfo','63vuMawY','getSkey','11NyYISf','set','nlPko','351678KqTKpY','XBLpT','348024sSdHWX','onProfileDetailInfoChanged','getProfileLikeService','setSelfOnlineStatus','getTicketService','KZWmi','CreatTime','kmqXP','getPSkey','domainPskeyMap','764868mqenXc','ZeMZD','SDHrg'];_0x16c2=function(){return _0x4986d0;};return _0x16c2();}import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{HttpGetCookies}from'../../../common/utils/request';import{logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();function _0x1051(_0x339137,_0x10625d){const _0x16c296=_0x16c2();return _0x1051=function(_0x1051d1,_0xa62462){_0x1051d1=_0x1051d1-0x104;let _0x381f8b=_0x16c296[_0x1051d1];return _0x381f8b;},_0x1051(_0x339137,_0x10625d);}profileListener[_0x16888c(0x11d)]=_0x5c6973=>{const _0x21d688=_0x16888c;userInfoCache[_0x5c6973[_0x21d688(0x12a)]]=_0x5c6973,userDetailHandlers[_0x21d688(0x133)](_0xadf85=>_0xadf85(_0x5c6973));},setTimeout(()=>{const _0x1cf3b3=_0x16888c;napCatCore[_0x1cf3b3(0x10a)](()=>{const _0x1cc102=_0x1cf3b3;napCatCore[_0x1cc102(0x10c)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x16888c(0x11f)](_0x38c6f2,_0x470ac9,_0xf65475){const _0x384f6b=_0x16888c;return napCatCore[_0x384f6b(0x108)][_0x384f6b(0x109)]()[_0x384f6b(0x105)]({'status':_0x38c6f2,'extStatus':_0x470ac9,'batteryStatus':_0xf65475});}static async[_0x16888c(0x148)](_0x1c4fd5,_0x7fd56f=0x1){const _0x2c05d6=_0x16888c;return napCatCore[_0x2c05d6(0x108)][_0x2c05d6(0x11e)]()[_0x2c05d6(0x106)]({'friendUid':_0x1c4fd5,'sourceId':0x47,'doLikeCount':_0x7fd56f,'doLikeTollCount':0x0});}static async[_0x16888c(0x132)](_0x4194f6){const _0x2c3652=_0x16888c,_0x35132d=napCatCore[_0x2c3652(0x108)]['getProfileService']()[_0x2c3652(0x145)](_0x4194f6);return{'result':_0x35132d?.[_0x2c3652(0x13c)],'errMsg':_0x35132d?.[_0x2c3652(0x110)]};}static async[_0x16888c(0x129)](){}static async[_0x16888c(0x114)](_0x2bac58){}static async['getUserDetailInfo'](_0x451b3){const _0x22145c={'kmqXP':function(_0x32a4b3,_0x3551bd){return _0x32a4b3(_0x3551bd);},'NfOxv':function(_0x3fcad6,_0x179aa6){return _0x3fcad6===_0x179aa6;},'TdesM':function(_0x284d5c,_0xfb9a8b){return _0x284d5c(_0xfb9a8b);},'XBLpT':function(_0x333f51){return _0x333f51();},'Horxz':function(_0x38bbfd,_0x5b4985,_0x3e7ec0){return _0x38bbfd(_0x5b4985,_0x3e7ec0);}},_0x455b91=napCatCore['session']['getProfileService']();return new Promise((_0x12040e,_0x25457b)=>{const _0x2de658=_0x1051,_0x27b523={'kuumf':function(_0x3bafb0,_0x33135f){return _0x22145c['NfOxv'](_0x3bafb0,_0x33135f);},'KZWmi':function(_0x39a568,_0x19dcd1){return _0x22145c['TdesM'](_0x39a568,_0x19dcd1);}},_0xb0ac38=_0x22145c[_0x2de658(0x11b)](randomUUID);let _0x3b9d7c=![];_0x22145c[_0x2de658(0x10b)](setTimeout,()=>{const _0x3b686e=_0x2de658;!_0x3b9d7c&&_0x22145c[_0x3b686e(0x123)](_0x25457b,_0x3b686e(0x13f));},0x1388),userDetailHandlers[_0x2de658(0x118)](_0xb0ac38,_0x18824b=>{const _0x42159d=_0x2de658;_0x27b523['kuumf'](_0x18824b[_0x42159d(0x12a)],_0x451b3)&&(_0x3b9d7c=!![],userDetailHandlers[_0x42159d(0x139)](_0xb0ac38),_0x27b523[_0x42159d(0x121)](_0x12040e,_0x18824b));}),_0x455b91['getUserDetailInfoWithBizInfo'](_0x451b3,[0x0])['then'](_0x59dc29=>{});});}static async[_0x16888c(0x124)](_0xa80208,_0x45b86a=!![]){const _0x470a66=_0x16888c,_0x2b8ca9={'LNGSJ':function(_0x7f6a55,_0xc40099){return _0x7f6a55||_0xc40099;},'tltoG':function(_0x4fc861,_0x1cadb5){return _0x4fc861>_0x1cadb5;},'ZeMZD':function(_0x5b1e35,_0x1851d7){return _0x5b1e35*_0x1851d7;},'lHsLe':function(_0x546703,_0x4f34aa){return _0x546703===_0x4f34aa;},'AnBKm':function(_0x1cab7e,_0x1b25f6,_0x4f4db7){return _0x1cab7e(_0x1b25f6,_0x4f4db7);},'SDHrg':_0x470a66(0x111)};let _0x124782=[],_0x344222={};for(let _0x3abd8e in _0xa80208){let _0x979f99=Credentials[_0x470a66(0x113)]['get'](_0xa80208[_0x3abd8e]),_0x3d8e8a=Credentials['PskeyTime'][_0x470a66(0x136)](_0xa80208[_0x3abd8e]);_0x2b8ca9[_0x470a66(0x12f)](!_0x979f99,!_0x3d8e8a)||_0x2b8ca9[_0x470a66(0x13b)](Date[_0x470a66(0x14b)]()-_0x3d8e8a,_0x2b8ca9[_0x470a66(0x127)](0x708,0x3e8))||!_0x45b86a?_0x124782[_0x470a66(0x144)](_0xa80208[_0x3abd8e]):_0x344222[_0xa80208[_0x3abd8e]]=_0x979f99;}let _0x3dcc90={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x2b8ca9[_0x470a66(0x13b)](_0x124782['length'],0x0)&&(_0x3dcc90=await napCatCore['session']['getTipOffService']()[_0x470a66(0x12e)](_0x124782,!![]));let _0x42a410=_0x3dcc90[_0x470a66(0x125)];for(let _0x23466f of _0x42a410['entries']()){Credentials[_0x470a66(0x113)][_0x470a66(0x118)](_0x23466f[0x0],_0x23466f[0x1]),Credentials[_0x470a66(0x14a)][_0x470a66(0x118)](_0x23466f[0x0],Date[_0x470a66(0x14b)]());}let _0x4db84a=Object[_0x470a66(0x12d)](Object['fromEntries'](_0x42a410),_0x344222);if(_0x2b8ca9['lHsLe'](_0x3dcc90[_0x470a66(0x13c)],0x0))return _0x4db84a;else _0x2b8ca9[_0x470a66(0x10e)](logError,_0x2b8ca9[_0x470a66(0x128)],_0x3dcc90[_0x470a66(0x110)]);return{};}static async['getRobotUinRange'](){const _0x38b110=_0x16888c,_0x2879bc=await napCatCore[_0x38b110(0x108)]['getRobotService']()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x2879bc?.[_0x38b110(0x140)]?.[_0x38b110(0x13a)];}static async[_0x16888c(0x116)](_0x16866e=!![]){const _0x64a753=_0x16888c,_0x5d83b5={'nlPko':function(_0x23bec3,_0x5cfb68){return _0x23bec3==_0x5cfb68;},'yazAY':function(_0x4aa5ec,_0x11fe01){return _0x4aa5ec>_0x11fe01;},'NaPVa':function(_0x1fea1d,_0x1fd21a){return _0x1fea1d*_0x1fd21a;},'eUgHN':function(_0x24d22f,_0x23c9d6){return _0x24d22f!==_0x23c9d6;},'vpwVC':function(_0x106454,_0x2769fa){return _0x106454+_0x2769fa;},'LYVzK':function(_0x4c62c8,_0x569ff5){return _0x4c62c8+_0x569ff5;},'dmGvZ':function(_0x16e640,_0x114c8c){return _0x16e640+_0x114c8c;},'dMBiR':_0x64a753(0x12c),'INsgj':_0x64a753(0x14c),'viUHW':'&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','RzPCp':_0x64a753(0x10f)};try{if(_0x5d83b5[_0x64a753(0x119)](Credentials['CreatTime'],0x0)||_0x5d83b5['yazAY'](Date[_0x64a753(0x14b)]()-Credentials[_0x64a753(0x122)],_0x5d83b5['NaPVa'](0x3e8,0xe10))||!_0x16866e){const _0x3ba891=await napCatCore['session'][_0x64a753(0x120)]()[_0x64a753(0x104)]('');if(_0x5d83b5[_0x64a753(0x143)](_0x3ba891[_0x64a753(0x13c)],0x0))return'';const _0x421e3e=_0x3ba891[_0x64a753(0x10d)],_0x2b44eb=_0x3ba891[_0x64a753(0x13d)],_0x42eb48=_0x5d83b5[_0x64a753(0x146)](_0x5d83b5['vpwVC'](_0x5d83b5[_0x64a753(0x142)](_0x5d83b5[_0x64a753(0x146)](_0x5d83b5[_0x64a753(0x141)](_0x5d83b5[_0x64a753(0x131)],selfInfo[_0x64a753(0x137)]),_0x5d83b5[_0x64a753(0x149)]),_0x421e3e),_0x5d83b5[_0x64a753(0x13e)]),_0x2b44eb),_0xd2785d=await HttpGetCookies(_0x42eb48),_0x21b045=_0xd2785d[_0x64a753(0x136)](_0x5d83b5[_0x64a753(0x134)]);if(!_0x21b045)return'';return Credentials[_0x64a753(0x122)]=Date[_0x64a753(0x14b)](),Credentials['Skey']=_0x21b045,_0x21b045;}return Credentials[_0x64a753(0x112)];}catch(_0x408d97){}return undefined;}}