const _0x254c29=_0x3eda;(function(_0x1c2f5a,_0x53728e){const _0x9d2919=_0x3eda,_0x2245c0=_0x1c2f5a();while(!![]){try{const _0x365680=-parseInt(_0x9d2919(0x1a3))/0x1*(parseInt(_0x9d2919(0x1c2))/0x2)+-parseInt(_0x9d2919(0x1d0))/0x3+-parseInt(_0x9d2919(0x194))/0x4*(parseInt(_0x9d2919(0x1cd))/0x5)+-parseInt(_0x9d2919(0x1c4))/0x6*(parseInt(_0x9d2919(0x1be))/0x7)+-parseInt(_0x9d2919(0x1b8))/0x8+parseInt(_0x9d2919(0x1d4))/0x9*(parseInt(_0x9d2919(0x1c9))/0xa)+parseInt(_0x9d2919(0x195))/0xb*(parseInt(_0x9d2919(0x179))/0xc);if(_0x365680===_0x53728e)break;else _0x2245c0['push'](_0x2245c0['shift']());}catch(_0x178bc8){_0x2245c0['push'](_0x2245c0['shift']());}}}(_0x3ca7,0xbe1a6));var __decorate=this&&this[_0x254c29(0x1a6)]||function(_0x4527cd,_0x115c33,_0xcd0a10,_0xbcbe7){const _0x3f49d6=_0x254c29,_0x2cc514={'nleTd':function(_0x1523a8,_0x504daa){return _0x1523a8<_0x504daa;},'eXVAi':function(_0x52026f,_0x575d9c){return _0x52026f===_0x575d9c;},'foYbQ':_0x3f49d6(0x18e),'LkBhX':function(_0x11e80f,_0x4ad93d){return _0x11e80f===_0x4ad93d;},'ZSMpw':_0x3f49d6(0x1db),'TvWVz':function(_0x1f9436,_0x26d8e4){return _0x1f9436-_0x26d8e4;},'yyOUl':function(_0x507203,_0x1d216b){return _0x507203>=_0x1d216b;},'TCxzu':function(_0x8cce2d,_0x4d90d1){return _0x8cce2d>_0x4d90d1;},'CVfsg':function(_0x3ac12d,_0x3846c2,_0x20b47e,_0xce5115){return _0x3ac12d(_0x3846c2,_0x20b47e,_0xce5115);},'ypvnd':function(_0xb43e75,_0x15c20f,_0x1b3b54){return _0xb43e75(_0x15c20f,_0x1b3b54);},'hQBCj':function(_0x473465,_0x3b5db8){return _0x473465>_0x3b5db8;}};var _0x1e64ec=arguments['length'],_0x1b5c08=_0x2cc514['nleTd'](_0x1e64ec,0x3)?_0x115c33:_0x2cc514['eXVAi'](_0xbcbe7,null)?_0xbcbe7=Object[_0x3f49d6(0x196)](_0x115c33,_0xcd0a10):_0xbcbe7,_0x18c8f0;if(_0x2cc514[_0x3f49d6(0x1cb)](typeof Reflect,_0x2cc514[_0x3f49d6(0x177)])&&_0x2cc514[_0x3f49d6(0x1a4)](typeof Reflect[_0x3f49d6(0x1c1)],_0x2cc514[_0x3f49d6(0x1b6)]))_0x1b5c08=Reflect[_0x3f49d6(0x1c1)](_0x4527cd,_0x115c33,_0xcd0a10,_0xbcbe7);else{for(var _0x22853b=_0x2cc514['TvWVz'](_0x4527cd[_0x3f49d6(0x19e)],0x1);_0x2cc514['yyOUl'](_0x22853b,0x0);_0x22853b--)if(_0x18c8f0=_0x4527cd[_0x22853b])_0x1b5c08=(_0x2cc514[_0x3f49d6(0x19c)](_0x1e64ec,0x3)?_0x18c8f0(_0x1b5c08):_0x2cc514[_0x3f49d6(0x173)](_0x1e64ec,0x3)?_0x2cc514[_0x3f49d6(0x182)](_0x18c8f0,_0x115c33,_0xcd0a10,_0x1b5c08):_0x2cc514[_0x3f49d6(0x18c)](_0x18c8f0,_0x115c33,_0xcd0a10))||_0x1b5c08;}return _0x2cc514['hQBCj'](_0x1e64ec,0x3)&&_0x1b5c08&&Object[_0x3f49d6(0x184)](_0x115c33,_0xcd0a10,_0x1b5c08),_0x1b5c08;};import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';function _0x3eda(_0x411bf8,_0x12e587){const _0x3ca7cc=_0x3ca7();return _0x3eda=function(_0x3edadd,_0x464b9e){_0x3edadd=_0x3edadd-0x173;let _0x429f7b=_0x3ca7cc[_0x3edadd];return _0x429f7b;},_0x3eda(_0x411bf8,_0x12e587);}const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x254c29(0x197)]=_0x487fc3=>{userInfoCache[_0x487fc3['uid']]=_0x487fc3,userDetailHandlers['forEach'](_0x4edf87=>_0x4edf87(_0x487fc3));},setTimeout(()=>{const _0x1ea868=_0x254c29;napCatCore[_0x1ea868(0x186)](()=>{const _0x23bfb1=_0x1ea868;napCatCore[_0x23bfb1(0x1d6)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x254c29(0x1b3)](_0x4c00ab){const _0x885182=_0x254c29;return napCatCore['session'][_0x885182(0x1bf)]()['setLongNick'](_0x4c00ab);}static async[_0x254c29(0x1c0)](_0x520fc3,_0x46513f,_0x5aac46){const _0x5a2671=_0x254c29;return napCatCore['session'][_0x5a2671(0x199)]()['setStatus']({'status':_0x520fc3,'extStatus':_0x46513f,'batteryStatus':_0x5aac46});}static async[_0x254c29(0x1a7)](_0x151c4e,_0x932495=''){const _0x806a65=_0x254c29;return napCatCore[_0x806a65(0x1c6)][_0x806a65(0x1c7)]()[_0x806a65(0x1a7)](_0x151c4e,_0x932495);}static async[_0x254c29(0x183)](_0xd901f4,_0x3b7ea2=0x1){const _0x55a352=_0x254c29;return napCatCore['session']['getProfileLikeService']()[_0x55a352(0x17b)]({'friendUid':_0xd901f4,'sourceId':0x47,'doLikeCount':_0x3b7ea2,'doLikeTollCount':0x0});}static async[_0x254c29(0x1da)](_0x5a78b2){const _0x2789d7=_0x254c29,_0x2f4092=await napCatCore[_0x2789d7(0x1c6)]['getProfileService']()[_0x2789d7(0x188)](_0x5a78b2);return{'result':_0x2f4092?.['result'],'errMsg':_0x2f4092?.['errMsg']};}static async[_0x254c29(0x17d)](){}static async['getUserInfo'](_0x421738){}static async['getUserDetailInfo'](_0xe66560){const _0x36bdea=_0x254c29,_0x41c212={'qtasD':function(_0x35c7d4,_0x49a2aa){return _0x35c7d4===_0x49a2aa;},'npoMG':function(_0x96d086,_0x543181){return _0x96d086(_0x543181);},'Wjomf':function(_0x210aee,_0x51100e){return _0x210aee(_0x51100e);},'tahxk':_0x36bdea(0x17e),'oKwrc':function(_0x2b8f4d){return _0x2b8f4d();}},_0x23ba1a=napCatCore['session']['getProfileService']();return new Promise((_0x45527f,_0x3bae97)=>{const _0x479894=_0x36bdea,_0x114936={'hwsyd':function(_0x14a1a7,_0x54617a){const _0x2a8104=_0x3eda;return _0x41c212[_0x2a8104(0x181)](_0x14a1a7,_0x54617a);},'ZCRGi':_0x41c212[_0x479894(0x1af)]},_0x1e1bc0=_0x41c212[_0x479894(0x176)](randomUUID);let _0x3c36a9=![],_0x58a0b9=undefined,_0x1b8bf4=!![];setTimeout(()=>{const _0x4030dd=_0x479894;!_0x3c36a9&&(_0x58a0b9?_0x114936[_0x4030dd(0x1b9)](_0x45527f,_0x58a0b9):_0x114936[_0x4030dd(0x1b9)](_0x3bae97,_0x114936[_0x4030dd(0x1c5)])),userDetailHandlers[_0x4030dd(0x1ac)](_0x1e1bc0);},0x1388),userDetailHandlers[_0x479894(0x1ca)](_0x1e1bc0,_0x463c5f=>{const _0x16397e=_0x479894;_0x41c212[_0x16397e(0x1d7)](_0x463c5f['uid'],_0xe66560)&&(_0x1b8bf4?(_0x58a0b9=_0x463c5f,_0x1b8bf4=![]):(_0x3c36a9=!![],_0x41c212[_0x16397e(0x1aa)](_0x45527f,_0x463c5f)));}),_0x23ba1a['getUserDetailInfoWithBizInfo'](_0xe66560,[0x0])['then'](_0x2a0c36=>{});});}static async[_0x254c29(0x1d9)](_0x3196a6){const _0x1263e7=_0x254c29;return napCatCore[_0x1263e7(0x1c6)][_0x1263e7(0x1bf)]()[_0x1263e7(0x18f)](_0x3196a6);}static async[_0x254c29(0x1bc)](_0x528975){const _0x310852=_0x254c29,_0x409e9c={'YJtSi':function(_0x2fe0f3,_0xe594fe){return _0x2fe0f3+_0xe594fe;},'XNEWU':function(_0x56e01d,_0x18c60a){return _0x56e01d+_0x18c60a;},'UegWc':function(_0x130e1e,_0x346a49){return _0x130e1e+_0x346a49;},'QYAhy':_0x310852(0x18a),'anUWk':_0x310852(0x1cc),'pWWbX':_0x310852(0x187),'IAIBs':_0x310852(0x19a)},_0x1fbc2c=await NTQQUserApi[_0x310852(0x190)](),_0x1e3745=_0x409e9c['YJtSi'](_0x409e9c[_0x310852(0x1d5)](_0x409e9c[_0x310852(0x1b2)](_0x409e9c[_0x310852(0x1b2)](_0x409e9c[_0x310852(0x1d5)](_0x409e9c[_0x310852(0x18d)](_0x409e9c[_0x310852(0x1d1)]+selfInfo[_0x310852(0x19b)],_0x409e9c['anUWk']),_0x1fbc2c[_0x310852(0x1a5)]),_0x409e9c[_0x310852(0x1b0)]),_0x528975),_0x310852(0x1ab))+selfInfo[_0x310852(0x19b)],_0x409e9c[_0x310852(0x18b)]);let _0x3fcb44={};try{_0x3fcb44=await RequestUtil[_0x310852(0x1a9)](_0x1e3745);}catch(_0x171e70){logDebug(_0x310852(0x1d2),_0x171e70),_0x3fcb44={};}return _0x3fcb44;}static async['getPSkey'](_0xa796e8){const _0x5baf06=_0x254c29;return await napCatCore['session'][_0x5baf06(0x1ad)]()[_0x5baf06(0x17a)](_0xa796e8,!![]);}static async[_0x254c29(0x19d)](){const _0x38f875=_0x254c29,_0x9b9529=await napCatCore[_0x38f875(0x1c6)][_0x38f875(0x1a1)]()[_0x38f875(0x19d)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x9b9529?.[_0x38f875(0x191)]?.['robotUinRanges'];}static async[_0x254c29(0x185)](){const _0x1409f4=_0x254c29,_0x56d325={'irkBe':function(_0x326e4b,_0x39a5b1){return _0x326e4b+_0x39a5b1;},'MNICp':function(_0x401361,_0x50f940){return _0x401361+_0x50f940;},'kWvUp':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','lGtag':'&clientkey=','GfAWv':_0x1409f4(0x19a),'bAxeS':_0x1409f4(0x1d2)},_0x1a198d=await NTQQUserApi[_0x1409f4(0x190)](),_0x386566=_0x56d325['irkBe'](_0x56d325[_0x1409f4(0x1ce)](_0x56d325[_0x1409f4(0x1ce)](_0x56d325[_0x1409f4(0x1ce)](_0x56d325[_0x1409f4(0x17c)](_0x56d325['kWvUp'],selfInfo[_0x1409f4(0x19b)]),_0x56d325[_0x1409f4(0x1c8)]),_0x1a198d[_0x1409f4(0x1a5)])+_0x1409f4(0x192),selfInfo['uin']),_0x56d325[_0x1409f4(0x189)]);let _0x13c3f1={};try{_0x13c3f1=await RequestUtil[_0x1409f4(0x1a9)](_0x386566);}catch(_0x35f3c6){logDebug(_0x56d325[_0x1409f4(0x17f)],_0x35f3c6),_0x13c3f1={};}return _0x13c3f1;}static async['getSkey'](){const _0x5b283d=_0x254c29,_0x36d564={'vKqje':function(_0xf1596c,_0x283ca3){return _0xf1596c!==_0x283ca3;},'jfewJ':function(_0x20bd6c,_0x4e9147){return _0x20bd6c+_0x4e9147;},'EnEux':function(_0x1251e7,_0x4ea93b){return _0x1251e7+_0x4ea93b;},'LVylu':function(_0x23d431,_0x54d6de){return _0x23d431+_0x54d6de;},'ZPpyX':_0x5b283d(0x1cc),'SNnEC':function(_0x2366f7,_0x5a2a6d,_0x2b3e9b){return _0x2366f7(_0x5a2a6d,_0x2b3e9b);},'ZtwTE':_0x5b283d(0x198)};try{const _0x3bb8bb=await NTQQUserApi[_0x5b283d(0x190)]();if(_0x36d564[_0x5b283d(0x1d8)](_0x3bb8bb['result'],0x0))return'';const _0x530392=_0x3bb8bb['clientKey'],_0x5efddb=_0x3bb8bb[_0x5b283d(0x178)],_0x589b7c=_0x36d564['jfewJ'](_0x36d564[_0x5b283d(0x1d3)](_0x36d564[_0x5b283d(0x1c3)](_0x5b283d(0x18a)+selfInfo[_0x5b283d(0x19b)],_0x36d564[_0x5b283d(0x1a8)]),_0x530392),_0x5b283d(0x1b4));let _0x164d03={};try{_0x164d03=await RequestUtil[_0x5b283d(0x1a9)](_0x589b7c);}catch(_0x70e3a5){_0x36d564[_0x5b283d(0x1b5)](logDebug,_0x36d564['ZtwTE'],_0x70e3a5),_0x164d03={};}const _0x467882=_0x164d03[_0x5b283d(0x19f)];if(!_0x467882)return'';return _0x467882;}catch(_0x440453){}return undefined;}static async[_0x254c29(0x1b1)](_0x3fe6c7){const _0x118f26=_0x254c29,_0x3c5d2b={'wEKlA':_0x118f26(0x174)};let _0x4602ef=await NTEventDispatch[_0x118f26(0x1ae)](_0x3c5d2b['wEKlA'],0x1388,[_0x3fe6c7]);return _0x4602ef[_0x118f26(0x1bd)][_0x118f26(0x1cf)](_0x3fe6c7);}static async[_0x254c29(0x1bb)](_0x4e4803){const _0x1b4f3a=_0x254c29,_0x327de9={'ahVdE':_0x1b4f3a(0x175)};if(!_0x4e4803)return'';let _0x440191=await NTEventDispatch['CallNoListenerEvent'](_0x327de9['ahVdE'],0x1388,[_0x4e4803]);return _0x440191[_0x1b4f3a(0x1ba)][_0x1b4f3a(0x1cf)](_0x4e4803);}static async['getUserDetailInfoByUin'](_0x15fc27){const _0x3aee56=_0x254c29;return NTEventDispatch[_0x3aee56(0x1ae)](_0x3aee56(0x193),0x1388,_0x15fc27);}static async[_0x254c29(0x190)](){const _0x278408=_0x254c29;return await napCatCore['session'][_0x278408(0x1a2)]()[_0x278408(0x190)]('');}}function _0x3ca7(){const _0x1bc776=['ClientKey','getRobotService','getTicketService','621atpcEg','LkBhX','clientKey','__decorate','getBuddyRecommendContactArkJson','ZPpyX','HttpsGetCookies','npoMG','%2F','delete','getTipOffService','CallNoListenerEvent','tahxk','pWWbX','getUidByUin','XNEWU','setLongNick','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','SNnEC','ZSMpw','getPSkey','93304NmIKTf','hwsyd','uinInfo','getUinByUid','getCookies','uidInfo','56119cxLzmw','getProfileService','setSelfOnlineStatus','decorate','2906tcbUNL','LVylu','384BPnTEZ','ZCRGi','session','getBuddyService','lGtag','2101350jSnDMJ','set','eXVAi','&clientkey=','255qjRYyW','irkBe','get','3089916XUilGC','QYAhy','请求获取Cookies时失败','EnEux','9RXwSxw','YJtSi','addListener','qtasD','vKqje','modifySelfProfile','setQQAvatar','function','TCxzu','NodeIKernelUixConvertService/getUid','NodeIKernelUixConvertService/getUin','oKwrc','foYbQ','keyIndex','36ybegYn','getPskey','setBuddyProfileLike','MNICp','getSelfInfo','getUserDetailInfo\x20timeout','bAxeS','getSkey','Wjomf','CVfsg','like','defineProperty','getQzoneCookies','onLoginSuccess','&u1=https%3A%2F%2F','setHeader','GfAWv','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','IAIBs','ypvnd','UegWc','object','modifyDesktopMiniProfile','forceFetchClientKey','response','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','NodeIKernelProfileService/getUserDetailInfoByUin','27364pEjUQp','12372998uKWIcW','getOwnPropertyDescriptor','onProfileDetailInfoChanged','请求获取Skey时失败','getMsgService','%2Finfocenter&keyindex=19%27','uin','nleTd','getRobotUinRange','length','skey'];_0x3ca7=function(){return _0x1bc776;};return _0x3ca7();}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x254c29(0x1bc),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x254c29(0x1b7),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x254c29(0x185),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x254c29(0x180),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,_0x254c29(0x1a0))],NTQQUserApi,_0x254c29(0x190),null);