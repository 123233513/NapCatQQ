const _0x59ced5=_0xf436;function _0x87da(){const _0x4c01a=['https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','now','6mGnyQY','TUbaE','clientKey','160788XJhGWD','getProfileService','jcfUZ','getRobotService','getPSkey','6364593mEEDtV','getMsgService','session','set','PskeyData','like','%2Finfocenter&keyindex=19%27','3660920cTtZyM','setBuddyProfileLike','setHeader','ILbtl','getPskey','hmiKq','getQzoneCookies','ueaPw','YqVzG','KeyIndex','wWCBK','7953470boCsBW','getUserDetailInfoWithBizInfo','push','addListener','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','LXDCD','getRobotUinRange','请求获取Cookies时失败','获取Pskey失败','uid','then','onProfileDetailInfoChanged','cASdC','getUserDetailInfo','JLvsK','PskeyTime','572654BTEmCr','2634876vXXfGT','domainPskeyMap','uNQti','uin','result','42JRbvxE','getSelfInfo','assign','DdThE','8uglprL','forEach','robotUinRanges','getTicketService','length','skey','EiHRT','forceFetchClientKey','EkuEs','setStatus','getProfileLikeService','FMdrr','CreatTime','uvlQT','cSMuK','HttpsGetCookies','setQQAvatar','setSelfOnlineStatus','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=','请求获取Skey时失败','243818uVwFVl','keyIndex','BHpcP','entries','errMsg','Eqdbj','Skey','response'];_0x87da=function(){return _0x4c01a;};return _0x87da();}(function(_0x5d2b45,_0x2e458f){const _0x3a7029=_0xf436,_0x4fcafc=_0x5d2b45();while(!![]){try{const _0x16f533=parseInt(_0x3a7029(0x92))/0x1+-parseInt(_0x3a7029(0xb0))/0x2*(parseInt(_0x3a7029(0xba))/0x3)+parseInt(_0x3a7029(0x93))/0x4+parseInt(_0x3a7029(0xc9))/0x5+parseInt(_0x3a7029(0xbd))/0x6*(parseInt(_0x3a7029(0x98))/0x7)+parseInt(_0x3a7029(0x9c))/0x8*(-parseInt(_0x3a7029(0xc2))/0x9)+-parseInt(_0x3a7029(0xd4))/0xa;if(_0x16f533===_0x2e458f)break;else _0x4fcafc['push'](_0x4fcafc['shift']());}catch(_0x412c21){_0x4fcafc['push'](_0x4fcafc['shift']());}}}(_0x87da,0x5c493));function _0xf436(_0x9336eb,_0x262b61){const _0x87dacd=_0x87da();return _0xf436=function(_0xf43679,_0xafb6ab){_0xf43679=_0xf43679-0x91;let _0x4e933d=_0x87dacd[_0xf43679];return _0x4e933d;},_0xf436(_0x9336eb,_0x262b61);}import{Credentials,selfInfo,uid2UinMap}from'@/core/data';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug,logError}from'@/common/utils/log';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x59ced5(0xdf)]=_0x21e8f8=>{const _0x164ec4=_0x59ced5;userInfoCache[_0x21e8f8[_0x164ec4(0xdd)]]=_0x21e8f8,userDetailHandlers[_0x164ec4(0x9d)](_0x25044c=>_0x25044c(_0x21e8f8));},setTimeout(()=>{napCatCore['onLoginSuccess'](()=>{const _0x3eaea8=_0xf436;napCatCore[_0x3eaea8(0xd7)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x59ced5(0xad)](_0xdf5d41,_0x217ec3,_0x2573ab){const _0x19718d=_0x59ced5;return napCatCore[_0x19718d(0xc4)][_0x19718d(0xc3)]()[_0x19718d(0xa5)]({'status':_0xdf5d41,'extStatus':_0x217ec3,'batteryStatus':_0x2573ab});}static async[_0x59ced5(0xc7)](_0x1d02d6,_0x43dd79=0x1){const _0x555586=_0x59ced5;return napCatCore[_0x555586(0xc4)][_0x555586(0xa6)]()[_0x555586(0xca)]({'friendUid':_0x1d02d6,'sourceId':0x47,'doLikeCount':_0x43dd79,'doLikeTollCount':0x0});}static async[_0x59ced5(0xac)](_0x5ea0aa){const _0x2e445f=_0x59ced5,_0x4edfdc=napCatCore[_0x2e445f(0xc4)][_0x2e445f(0xbe)]()[_0x2e445f(0xcb)](_0x5ea0aa);return{'result':_0x4edfdc?.[_0x2e445f(0x97)],'errMsg':_0x4edfdc?.[_0x2e445f(0xb4)]};}static async[_0x59ced5(0x99)](){}static async['getUserInfo'](_0x1f6b5b){}static async[_0x59ced5(0xe1)](_0x292532){const _0x215e96=_0x59ced5,_0x4999a9={'DdThE':function(_0x27e667,_0x1683ec){return _0x27e667(_0x1683ec);},'jcfUZ':function(_0x5b1d74,_0x5d9ce8,_0x56790e){return _0x5b1d74(_0x5d9ce8,_0x56790e);}},_0x5167f1=napCatCore[_0x215e96(0xc4)][_0x215e96(0xbe)]();return new Promise((_0x3381b4,_0x41170c)=>{const _0x57884f=_0x215e96,_0x33d351={'oQsLM':function(_0x56352d,_0x358e54){const _0x21ea4d=_0xf436;return _0x4999a9[_0x21ea4d(0x9b)](_0x56352d,_0x358e54);},'ZAWnW':function(_0x592da0,_0x1bd37c){return _0x4999a9['DdThE'](_0x592da0,_0x1bd37c);}},_0x18f5b6=randomUUID();let _0x2294fd=![],_0x1ed154=undefined,_0x3e16dd=!![];_0x4999a9[_0x57884f(0xbf)](setTimeout,()=>{!_0x2294fd&&(_0x1ed154?_0x33d351['oQsLM'](_0x3381b4,_0x1ed154):_0x33d351['ZAWnW'](_0x41170c,'getUserDetailInfo\x20timeout')),userDetailHandlers['delete'](_0x18f5b6);},0x1388),userDetailHandlers[_0x57884f(0xc5)](_0x18f5b6,_0x398eec=>{const _0x1e982f=_0x57884f;_0x398eec[_0x1e982f(0xdd)]===_0x292532&&(uid2UinMap[_0x292532]=_0x398eec[_0x1e982f(0x96)],_0x3e16dd?(_0x1ed154=_0x398eec,_0x3e16dd=![]):(_0x2294fd=!![],_0x3381b4(_0x398eec)));}),_0x5167f1[_0x57884f(0xd5)](_0x292532,[0x0])[_0x57884f(0xde)](_0x44b9f2=>{});});}static async[_0x59ced5(0xc1)](_0x3001f4,_0x4c4832=!![]){const _0x5525a9=_0x59ced5,_0x24abc2={'yJBQd':function(_0x3230ab,_0x3ba8ad){return _0x3230ab||_0x3ba8ad;},'cASdC':function(_0x4a3ade,_0x517e66){return _0x4a3ade>_0x517e66;},'cSMuK':function(_0x43bc00,_0x5d8c1b){return _0x43bc00-_0x5d8c1b;},'YqVzG':function(_0x5d39b4,_0x240e76){return _0x5d39b4*_0x240e76;},'EkuEs':function(_0xd9f452,_0xc44373){return _0xd9f452===_0xc44373;}},_0x3f449b=[],_0x1e5128={};for(const _0x1c8a31 in _0x3001f4){const _0x23a4bb=Credentials[_0x5525a9(0xc6)]['get'](_0x3001f4[_0x1c8a31]),_0x52d1c3=Credentials[_0x5525a9(0x91)]['get'](_0x3001f4[_0x1c8a31]);_0x24abc2['yJBQd'](!_0x23a4bb,!_0x52d1c3)||_0x24abc2[_0x5525a9(0xe0)](_0x24abc2[_0x5525a9(0xaa)](Date['now'](),_0x52d1c3),_0x24abc2[_0x5525a9(0xd1)](0x708,0x3e8))||!_0x4c4832?_0x3f449b[_0x5525a9(0xd6)](_0x3001f4[_0x1c8a31]):_0x1e5128[_0x3001f4[_0x1c8a31]]=_0x23a4bb;}let _0x3b75ff={'result':0x0,'errMsg':'','domainPskeyMap':new Map()};_0x3f449b[_0x5525a9(0xa0)]>0x0&&(_0x3b75ff=await napCatCore['session']['getTipOffService']()[_0x5525a9(0xcd)](_0x3f449b,!![]));const _0xcc34e=_0x3b75ff[_0x5525a9(0x94)];for(const _0x539a55 of _0xcc34e[_0x5525a9(0xb3)]()){Credentials['PskeyData']['set'](_0x539a55[0x0],_0x539a55[0x1]),Credentials[_0x5525a9(0x91)]['set'](_0x539a55[0x0],Date[_0x5525a9(0xb9)]());}const _0x5917cb=Object[_0x5525a9(0x9a)](Object['fromEntries'](_0xcc34e),_0x1e5128);if(_0x24abc2[_0x5525a9(0xa4)](_0x3b75ff[_0x5525a9(0x97)],0x0))return _0x5917cb;else logError(_0x5525a9(0xdc),_0x3b75ff[_0x5525a9(0xb4)]);return{};}static async[_0x59ced5(0xda)](){const _0x4d5cc3=_0x59ced5,_0x5ce8c4=await napCatCore[_0x4d5cc3(0xc4)][_0x4d5cc3(0xc0)]()[_0x4d5cc3(0xda)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x5ce8c4?.[_0x4d5cc3(0xb7)]?.[_0x4d5cc3(0x9e)];}static async[_0x59ced5(0xcf)](){const _0x36fc4e=_0x59ced5,_0xfdebf4={'TUbaE':function(_0x31fc79,_0x295694){return _0x31fc79+_0x295694;},'FMdrr':function(_0x127987,_0x5d1002){return _0x127987+_0x5d1002;},'hmiKq':function(_0x2fe171,_0x28a0f6){return _0x2fe171+_0x28a0f6;},'ueaPw':'https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','wisrx':_0x36fc4e(0xd8),'uvlQT':_0x36fc4e(0xc8),'uNQti':function(_0x5106e9,_0x4c41a4,_0x4a0346){return _0x5106e9(_0x4c41a4,_0x4a0346);},'ILbtl':_0x36fc4e(0xdb)},_0x19da2d=_0xfdebf4[_0x36fc4e(0xbb)](_0xfdebf4['FMdrr'](_0xfdebf4[_0x36fc4e(0xce)](_0xfdebf4[_0x36fc4e(0xa7)](_0xfdebf4[_0x36fc4e(0xbb)](_0xfdebf4[_0x36fc4e(0xd0)],selfInfo[_0x36fc4e(0x96)]),'&clientkey='),Credentials['ClientKey'])+_0xfdebf4['wisrx'],selfInfo[_0x36fc4e(0x96)]),_0xfdebf4[_0x36fc4e(0xa9)]);let _0x2862c2={};try{_0x2862c2=await RequestUtil[_0x36fc4e(0xab)](_0x19da2d);}catch(_0x302129){_0xfdebf4[_0x36fc4e(0x95)](logDebug,_0xfdebf4[_0x36fc4e(0xcc)],_0x302129),_0x2862c2={};}return _0x2862c2;}static async['getSkey'](_0x33502d=!![]){const _0x49c190=_0x59ced5,_0x342531={'LXDCD':function(_0x203297,_0x572201){return _0x203297==_0x572201;},'RknkI':function(_0x5368eb,_0x36c311){return _0x5368eb>_0x36c311;},'wWCBK':function(_0xba4187,_0x5aa32d){return _0xba4187+_0x5aa32d;},'BHpcP':function(_0x1ef897,_0x199cbb){return _0x1ef897+_0x199cbb;},'Eqdbj':function(_0xc46b3c,_0x3a2a00){return _0xc46b3c+_0x3a2a00;},'OnUzU':function(_0x5a95c0,_0x25e641){return _0x5a95c0+_0x25e641;},'klBOa':_0x49c190(0xb8),'EiHRT':'&clientkey=','JLvsK':function(_0x1b584e,_0x1b9d49,_0x13496d){return _0x1b584e(_0x1b9d49,_0x13496d);},'PRpzI':_0x49c190(0xa1)};try{if(_0x342531[_0x49c190(0xd9)](Credentials[_0x49c190(0xa8)],0x0)||_0x342531['RknkI'](Date[_0x49c190(0xb9)]()-Credentials[_0x49c190(0xa8)],0x3e8*0xe10)||!_0x33502d){const _0x29b9ed=await napCatCore[_0x49c190(0xc4)][_0x49c190(0x9f)]()[_0x49c190(0xa3)]('');if(_0x29b9ed[_0x49c190(0x97)]!==0x0)return'';const _0x1b5644=_0x29b9ed[_0x49c190(0xbc)],_0x1976d6=_0x29b9ed[_0x49c190(0xb1)],_0x4c2206=_0x342531[_0x49c190(0xd3)](_0x342531[_0x49c190(0xb2)](_0x342531[_0x49c190(0xb5)](_0x342531['OnUzU'](_0x342531['klBOa'],selfInfo[_0x49c190(0x96)]),_0x342531[_0x49c190(0xa2)])+_0x1b5644,_0x49c190(0xae)),_0x1976d6);let _0x3231cf={};try{_0x3231cf=await RequestUtil[_0x49c190(0xab)](_0x4c2206);}catch(_0x306e03){_0x342531[_0x49c190(0xe2)](logDebug,_0x49c190(0xaf),_0x306e03),_0x3231cf={};}const _0x2b239a=_0x3231cf[_0x342531['PRpzI']];if(!_0x2b239a)return'';return Credentials['ClientKey']=_0x1b5644,Credentials[_0x49c190(0xd2)]=_0x1976d6,Credentials['CreatTime']=Date[_0x49c190(0xb9)](),Credentials[_0x49c190(0xb6)]=_0x2b239a,_0x2b239a;}return Credentials[_0x49c190(0xb6)];}catch(_0x310a52){}return undefined;}}