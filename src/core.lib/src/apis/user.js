const _0x598564=_0xff90;(function(_0x3f8f0b,_0x204067){const _0x6f7760=_0xff90,_0x84ac16=_0x3f8f0b();while(!![]){try{const _0x26f0ef=-parseInt(_0x6f7760(0x1b7))/0x1*(parseInt(_0x6f7760(0x1d7))/0x2)+parseInt(_0x6f7760(0x181))/0x3*(parseInt(_0x6f7760(0x198))/0x4)+parseInt(_0x6f7760(0x18a))/0x5+parseInt(_0x6f7760(0x1d9))/0x6*(-parseInt(_0x6f7760(0x192))/0x7)+-parseInt(_0x6f7760(0x1da))/0x8*(-parseInt(_0x6f7760(0x1b1))/0x9)+-parseInt(_0x6f7760(0x1cb))/0xa+-parseInt(_0x6f7760(0x196))/0xb;if(_0x26f0ef===_0x204067)break;else _0x84ac16['push'](_0x84ac16['shift']());}catch(_0x1449b3){_0x84ac16['push'](_0x84ac16['shift']());}}}(_0x21f7,0x21ac3));var __decorate=this&&this[_0x598564(0x187)]||function(_0x51d448,_0x3059cd,_0x5d2e16,_0x57c477){const _0x419c5e=_0x598564,_0x3e2f84={'DnqaP':function(_0x4879c7,_0xc27f46){return _0x4879c7<_0xc27f46;},'KXOYT':function(_0x21bae9,_0x2a4297){return _0x21bae9===_0x2a4297;},'ORJOK':function(_0x5775a9,_0xccd1bd){return _0x5775a9===_0xccd1bd;},'efAAG':_0x419c5e(0x18d),'rfEWl':function(_0x4a70df,_0x5c71e9){return _0x4a70df>=_0x5c71e9;},'mVfSQ':function(_0x330333,_0x369a5a){return _0x330333>_0x369a5a;},'kfpws':function(_0x55b2ce,_0x5fa342,_0x4df997,_0xfeeea1){return _0x55b2ce(_0x5fa342,_0x4df997,_0xfeeea1);}};var _0x3531b6=arguments[_0x419c5e(0x19a)],_0x28331e=_0x3e2f84[_0x419c5e(0x1b4)](_0x3531b6,0x3)?_0x3059cd:_0x3e2f84[_0x419c5e(0x195)](_0x57c477,null)?_0x57c477=Object[_0x419c5e(0x1af)](_0x3059cd,_0x5d2e16):_0x57c477,_0x360010;if(typeof Reflect==='object'&&_0x3e2f84[_0x419c5e(0x1cd)](typeof Reflect[_0x419c5e(0x1c0)],_0x3e2f84[_0x419c5e(0x1c9)]))_0x28331e=Reflect[_0x419c5e(0x1c0)](_0x51d448,_0x3059cd,_0x5d2e16,_0x57c477);else{for(var _0x4cc557=_0x51d448[_0x419c5e(0x19a)]-0x1;_0x3e2f84[_0x419c5e(0x1be)](_0x4cc557,0x0);_0x4cc557--)if(_0x360010=_0x51d448[_0x4cc557])_0x28331e=(_0x3e2f84[_0x419c5e(0x1b4)](_0x3531b6,0x3)?_0x360010(_0x28331e):_0x3e2f84[_0x419c5e(0x1bd)](_0x3531b6,0x3)?_0x3e2f84['kfpws'](_0x360010,_0x3059cd,_0x5d2e16,_0x28331e):_0x360010(_0x3059cd,_0x5d2e16))||_0x28331e;}return _0x3e2f84[_0x419c5e(0x1bd)](_0x3531b6,0x3)&&_0x28331e&&Object[_0x419c5e(0x1b8)](_0x3059cd,_0x5d2e16,_0x28331e),_0x28331e;};import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';function _0xff90(_0x21be18,_0x54e4dc){const _0x21f72b=_0x21f7();return _0xff90=function(_0xff9003,_0x3bdfc7){_0xff9003=_0xff9003-0x17e;let _0x20bfab=_0x21f72b[_0xff9003];return _0x20bfab;},_0xff90(_0x21be18,_0x54e4dc);}import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();profileListener[_0x598564(0x18f)]=_0x250114=>{const _0x581edc=_0x598564;userInfoCache[_0x250114[_0x581edc(0x1ac)]]=_0x250114,userDetailHandlers[_0x581edc(0x197)](_0x12d716=>_0x12d716(_0x250114));},setTimeout(()=>{const _0x13ac22=_0x598564;napCatCore[_0x13ac22(0x1c1)](()=>{const _0x3f0bc8=_0x13ac22;napCatCore[_0x3f0bc8(0x1d4)](profileListener);});},0x64);export class NTQQUserApi{static async[_0x598564(0x186)](_0x59c364){const _0x3c393a=_0x598564;return napCatCore[_0x3c393a(0x19c)][_0x3c393a(0x1a8)]()[_0x3c393a(0x186)](_0x59c364);}static async[_0x598564(0x1bc)](_0x15451e,_0x458abb,_0x2c7d0d){const _0x210af6=_0x598564;return napCatCore[_0x210af6(0x19c)][_0x210af6(0x189)]()[_0x210af6(0x190)]({'status':_0x15451e,'extStatus':_0x458abb,'batteryStatus':_0x2c7d0d});}static async['getBuddyRecommendContactArkJson'](_0x1a885e,_0x47f5af=''){const _0x5814d9=_0x598564;return napCatCore[_0x5814d9(0x19c)][_0x5814d9(0x1ce)]()[_0x5814d9(0x17f)](_0x1a885e,_0x47f5af);}static async[_0x598564(0x1c8)](_0x176165,_0x58d730=0x1){const _0x50c435=_0x598564;return napCatCore[_0x50c435(0x19c)][_0x50c435(0x1cf)]()['setBuddyProfileLike']({'friendUid':_0x176165,'sourceId':0x47,'doLikeCount':_0x58d730,'doLikeTollCount':0x0});}static async[_0x598564(0x194)](_0x7b04bf){const _0x3aac5d=_0x598564,_0x194490=await napCatCore[_0x3aac5d(0x19c)]['getProfileService']()[_0x3aac5d(0x1e3)](_0x7b04bf);return{'result':_0x194490?.[_0x3aac5d(0x1dd)],'errMsg':_0x194490?.[_0x3aac5d(0x18b)]};}static async[_0x598564(0x1a0)](){}static async['getUserInfo'](_0x2e3c88){}static async['getUserDetailInfo'](_0x5c9e22){const _0x21e47d=_0x598564,_0xda2c50={'nsMiA':function(_0x1f4cf8,_0x48f7a0){return _0x1f4cf8(_0x48f7a0);},'VIcdm':'getUserDetailInfo\x20timeout','CpkxY':function(_0x212a50,_0x327616,_0x250bc7){return _0x212a50(_0x327616,_0x250bc7);}},_0x211742=napCatCore[_0x21e47d(0x19c)][_0x21e47d(0x1a8)]();return new Promise((_0x5e4e3f,_0x461055)=>{const _0x24f60=_0x21e47d,_0x236f0d={'YxWxE':function(_0x1b686f,_0x5c3faa){const _0x546d72=_0xff90;return _0xda2c50[_0x546d72(0x1d3)](_0x1b686f,_0x5c3faa);},'ErbrV':_0xda2c50[_0x24f60(0x1a7)],'yITIX':function(_0x447f28,_0x5beeb6){return _0xda2c50['nsMiA'](_0x447f28,_0x5beeb6);}},_0x3b2338=randomUUID();let _0x4b0859=![],_0x4a1d07=undefined,_0xc8d34e=!![];_0xda2c50[_0x24f60(0x182)](setTimeout,()=>{const _0x33b48=_0x24f60;!_0x4b0859&&(_0x4a1d07?_0x236f0d['YxWxE'](_0x5e4e3f,_0x4a1d07):_0x461055(_0x236f0d[_0x33b48(0x184)])),userDetailHandlers['delete'](_0x3b2338);},0x1388),userDetailHandlers[_0x24f60(0x1dc)](_0x3b2338,_0x465fc3=>{const _0x1a176a=_0x24f60;_0x465fc3['uid']===_0x5c9e22&&(_0xc8d34e?(_0x4a1d07=_0x465fc3,_0xc8d34e=![]):(_0x4b0859=!![],_0x236f0d[_0x1a176a(0x1ab)](_0x5e4e3f,_0x465fc3)));}),_0x211742[_0x24f60(0x1a3)](_0x5c9e22,[0x0])[_0x24f60(0x19d)](_0x256541=>{});});}static async['modifySelfProfile'](_0x46e4d8){const _0x4b974a=_0x598564;return napCatCore['session'][_0x4b974a(0x1a8)]()[_0x4b974a(0x191)](_0x46e4d8);}static async['getCookies'](_0x36d674){const _0xb78804=_0x598564,_0x519534={'qoOSs':function(_0x8f340d,_0x46721c){return _0x8f340d+_0x46721c;},'GzMrQ':function(_0x2e2a22,_0x3133d3){return _0x2e2a22+_0x3133d3;},'OECyA':function(_0x1215af,_0x1d56cf){return _0x1215af+_0x1d56cf;},'VFcfQ':_0xb78804(0x1b9),'kABPW':_0xb78804(0x1de),'kzrtx':_0xb78804(0x185),'UvjGu':_0xb78804(0x1e0),'Fddwg':'%2Finfocenter&keyindex=19%27','KCyyo':function(_0x24b343,_0x2b5b5c,_0x43ab2c){return _0x24b343(_0x2b5b5c,_0x43ab2c);},'LURch':_0xb78804(0x19e)},_0xc2ff75=await NTQQUserApi[_0xb78804(0x183)](),_0x5b2ba3=_0x519534[_0xb78804(0x1c6)](_0x519534[_0xb78804(0x1d6)](_0x519534[_0xb78804(0x1d2)](_0x519534['GzMrQ'](_0x519534[_0xb78804(0x1d2)](_0x519534[_0xb78804(0x1d2)](_0x519534[_0xb78804(0x1aa)],selfInfo[_0xb78804(0x1db)]),_0x519534[_0xb78804(0x1b5)]),_0xc2ff75[_0xb78804(0x1a5)])+_0x519534[_0xb78804(0x188)]+_0x36d674,_0x519534['UvjGu']),selfInfo[_0xb78804(0x1db)]),_0x519534[_0xb78804(0x1cc)]);let _0x1c7875={};try{_0x1c7875=await RequestUtil[_0xb78804(0x1ca)](_0x5b2ba3);}catch(_0x5b6c97){_0x519534[_0xb78804(0x1a2)](logDebug,_0x519534['LURch'],_0x5b6c97),_0x1c7875={};}return _0x1c7875;}static async[_0x598564(0x199)](_0x24dd7c){const _0x1efd52=_0x598564;return await napCatCore[_0x1efd52(0x19c)][_0x1efd52(0x1ad)]()['getPskey'](_0x24dd7c,!![]);}static async['getRobotUinRange'](){const _0x16bd30=_0x598564,_0x5d99af=await napCatCore[_0x16bd30(0x19c)][_0x16bd30(0x19f)]()[_0x16bd30(0x1df)]({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x5d99af?.[_0x16bd30(0x1d5)]?.['robotUinRanges'];}static async['getQzoneCookies'](){const _0x9d3d00=_0x598564,_0x1f6e33={'WwIwf':function(_0x10e500,_0x2ed51d){return _0x10e500+_0x2ed51d;},'nzRrG':function(_0x1e7bf2,_0x251c06){return _0x1e7bf2+_0x251c06;},'AIAlx':_0x9d3d00(0x1b9),'bMoct':_0x9d3d00(0x1de),'YTfpf':'&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','JfqAn':_0x9d3d00(0x1c3),'SEtuu':function(_0x19f22d,_0x527e7a,_0x533488){return _0x19f22d(_0x527e7a,_0x533488);},'tKiYU':_0x9d3d00(0x19e)},_0x45f244=await NTQQUserApi[_0x9d3d00(0x183)](),_0xa613fc=_0x1f6e33['WwIwf'](_0x1f6e33[_0x9d3d00(0x1ae)](_0x1f6e33[_0x9d3d00(0x1c4)](_0x1f6e33['WwIwf'](_0x1f6e33['nzRrG'](_0x1f6e33[_0x9d3d00(0x1a6)],selfInfo[_0x9d3d00(0x1db)])+_0x1f6e33[_0x9d3d00(0x1d1)],_0x45f244[_0x9d3d00(0x1a5)]),_0x1f6e33[_0x9d3d00(0x1a4)]),selfInfo['uin']),_0x1f6e33['JfqAn']);let _0x3db1c5={};try{_0x3db1c5=await RequestUtil[_0x9d3d00(0x1ca)](_0xa613fc);}catch(_0x1dfa72){_0x1f6e33['SEtuu'](logDebug,_0x1f6e33[_0x9d3d00(0x18e)],_0x1dfa72),_0x3db1c5={};}return _0x3db1c5;}static async['getSkey'](){const _0x7466f1=_0x598564,_0x138774={'uacrA':function(_0x118676,_0x4d2afe){return _0x118676!==_0x4d2afe;},'WMoVM':function(_0x51870d,_0x42e1a2){return _0x51870d+_0x42e1a2;},'VJzYW':function(_0x3f8dc0,_0x42436c){return _0x3f8dc0+_0x42436c;},'safDW':_0x7466f1(0x1b9),'vaqbH':_0x7466f1(0x17e),'MlkFV':function(_0x597565,_0x501f7f,_0x27a761){return _0x597565(_0x501f7f,_0x27a761);},'MZSQW':_0x7466f1(0x1bf),'rgmSN':'skey'};try{const _0x232b64=await NTQQUserApi[_0x7466f1(0x183)]();if(_0x138774[_0x7466f1(0x1b2)](_0x232b64[_0x7466f1(0x1dd)],0x0))return'';const _0x443902=_0x232b64['clientKey'],_0xac6dbc=_0x232b64[_0x7466f1(0x1ba)],_0x58a1e1=_0x138774[_0x7466f1(0x180)](_0x138774[_0x7466f1(0x1c5)](_0x138774[_0x7466f1(0x1c2)]+selfInfo[_0x7466f1(0x1db)],_0x7466f1(0x1de))+_0x443902,_0x138774[_0x7466f1(0x193)]);let _0x104db5={};try{_0x104db5=await RequestUtil[_0x7466f1(0x1ca)](_0x58a1e1);}catch(_0x5ab16d){_0x138774[_0x7466f1(0x1b0)](logDebug,_0x138774[_0x7466f1(0x1d8)],_0x5ab16d),_0x104db5={};}const _0x445859=_0x104db5[_0x138774[_0x7466f1(0x1c7)]];if(!_0x445859)return'';return _0x445859;}catch(_0xcbf247){}return undefined;}static async['getUidByUin'](_0xd54c28){const _0x3a838a=_0x598564,_0x33e398={'VAkYj':_0x3a838a(0x1b3)};let _0x295502=await NTEventDispatch[_0x3a838a(0x1a1)](_0x33e398[_0x3a838a(0x1b6)],0x1388,[_0xd54c28]);return _0x295502['uidInfo'][_0x3a838a(0x19b)](_0xd54c28);}static async[_0x598564(0x18c)](_0x5be4d1){const _0x47ea5b=_0x598564;if(!_0x5be4d1)return'';let _0x570e54=await NTEventDispatch[_0x47ea5b(0x1a1)]('NodeIKernelUixConvertService/getUin',0x1388,[_0x5be4d1]);return _0x570e54[_0x47ea5b(0x1d0)][_0x47ea5b(0x19b)](_0x5be4d1);}static async[_0x598564(0x1e1)](_0x571b6a){const _0x2340aa=_0x598564,_0xb94f0b={'sNUGI':'NodeIKernelProfileService/getUserDetailInfoByUin'};return NTEventDispatch[_0x2340aa(0x1a1)](_0xb94f0b['sNUGI'],0x1388,_0x571b6a);}static async[_0x598564(0x183)](){const _0x575fac=_0x598564;return await napCatCore[_0x575fac(0x19c)][_0x575fac(0x1bb)]()['forceFetchClientKey']('');}}function _0x21f7(){const _0x3e3aae=['NodeIKernelUixConvertService/getUid','DnqaP','kABPW','VAkYj','27842PkySWK','defineProperty','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','keyIndex','getTicketService','setSelfOnlineStatus','mVfSQ','rfEWl','请求获取Skey时失败','decorate','onLoginSuccess','safDW','%2Finfocenter&keyindex=19%27','nzRrG','VJzYW','qoOSs','rgmSN','like','efAAG','HttpsGetCookies','106040VvlgEv','Fddwg','ORJOK','getBuddyService','getProfileLikeService','uinInfo','bMoct','OECyA','nsMiA','addListener','response','GzMrQ','2GQcuUl','MZSQW','636WwkZtn','8hhkTsp','uin','set','result','&clientkey=','getRobotUinRange','%2F','getUserDetailInfoByUin','getSkey','setHeader','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','getBuddyRecommendContactArkJson','WMoVM','141528hRbtRE','CpkxY','forceFetchClientKey','ErbrV','&u1=https%3A%2F%2F','setLongNick','__decorate','kzrtx','getMsgService','689560pRmYJY','errMsg','getUinByUid','function','tKiYU','onProfileDetailInfoChanged','setStatus','modifyDesktopMiniProfile','3017OSmqZn','vaqbH','setQQAvatar','KXOYT','2464858kybRRd','forEach','16MKdhZN','getPSkey','length','get','session','then','请求获取Cookies时失败','getRobotService','getSelfInfo','CallNoListenerEvent','KCyyo','getUserDetailInfoWithBizInfo','YTfpf','clientKey','AIAlx','VIcdm','getProfileService','getQzoneCookies','VFcfQ','yITIX','uid','getTipOffService','WwIwf','getOwnPropertyDescriptor','MlkFV','1075653BZtDZN','uacrA'];_0x21f7=function(){return _0x3e3aae;};return _0x21f7();}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getCookies',null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x598564(0x199),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x598564(0x1a9),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x598564(0x1e2),null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,'ClientKey')],NTQQUserApi,_0x598564(0x183),null);