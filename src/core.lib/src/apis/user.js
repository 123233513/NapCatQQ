const _0x1d1a09=_0x255a;(function(_0xeebe00,_0x46cb0c){const _0x61014e=_0x255a,_0x2408d6=_0xeebe00();while(!![]){try{const _0x377b75=-parseInt(_0x61014e(0x175))/0x1*(parseInt(_0x61014e(0x14e))/0x2)+-parseInt(_0x61014e(0x14c))/0x3*(-parseInt(_0x61014e(0x120))/0x4)+-parseInt(_0x61014e(0x176))/0x5+-parseInt(_0x61014e(0x12e))/0x6*(parseInt(_0x61014e(0x169))/0x7)+parseInt(_0x61014e(0x17f))/0x8*(-parseInt(_0x61014e(0x180))/0x9)+-parseInt(_0x61014e(0x14f))/0xa*(-parseInt(_0x61014e(0x17d))/0xb)+parseInt(_0x61014e(0x146))/0xc;if(_0x377b75===_0x46cb0c)break;else _0x2408d6['push'](_0x2408d6['shift']());}catch(_0x1b53d7){_0x2408d6['push'](_0x2408d6['shift']());}}}(_0x33a9,0x59f0a));var __decorate=this&&this['__decorate']||function(_0x132250,_0x2810f1,_0x4f32be,_0x5de156){const _0x1eec89=_0x255a,_0x5dc15b={'lATSK':function(_0x4954fd,_0x51f140){return _0x4954fd===_0x51f140;},'jScKL':'object','bZtyl':_0x1eec89(0x12b),'xOhNt':function(_0x45a581,_0x312f1c){return _0x45a581-_0x312f1c;},'TmtXI':function(_0xfb8971,_0x2e11c6){return _0xfb8971>=_0x2e11c6;},'MpRjJ':function(_0x3a12b6,_0x4706cf){return _0x3a12b6<_0x4706cf;},'ivsUX':function(_0x26dba3,_0x2ce393){return _0x26dba3(_0x2ce393);},'DsuxL':function(_0x14761a,_0x5bbe0f){return _0x14761a>_0x5bbe0f;},'cUcZE':function(_0x2adc48,_0x258180,_0x1f50d8,_0x2ef4bb){return _0x2adc48(_0x258180,_0x1f50d8,_0x2ef4bb);},'EZXIT':function(_0x1eda0b,_0x1c68c8,_0x37873c){return _0x1eda0b(_0x1c68c8,_0x37873c);},'JsLcu':function(_0x48fe08,_0x3f5d37){return _0x48fe08>_0x3f5d37;}};var _0x5029ee=arguments['length'],_0x2e1a8a=_0x5029ee<0x3?_0x2810f1:_0x5dc15b[_0x1eec89(0x17b)](_0x5de156,null)?_0x5de156=Object['getOwnPropertyDescriptor'](_0x2810f1,_0x4f32be):_0x5de156,_0x255a99;if(_0x5dc15b[_0x1eec89(0x17b)](typeof Reflect,_0x5dc15b[_0x1eec89(0x17c)])&&typeof Reflect[_0x1eec89(0x15d)]===_0x5dc15b[_0x1eec89(0x13d)])_0x2e1a8a=Reflect[_0x1eec89(0x15d)](_0x132250,_0x2810f1,_0x4f32be,_0x5de156);else{for(var _0x59bc18=_0x5dc15b[_0x1eec89(0x162)](_0x132250[_0x1eec89(0x164)],0x1);_0x5dc15b[_0x1eec89(0x181)](_0x59bc18,0x0);_0x59bc18--)if(_0x255a99=_0x132250[_0x59bc18])_0x2e1a8a=(_0x5dc15b[_0x1eec89(0x135)](_0x5029ee,0x3)?_0x5dc15b[_0x1eec89(0x16f)](_0x255a99,_0x2e1a8a):_0x5dc15b['DsuxL'](_0x5029ee,0x3)?_0x5dc15b[_0x1eec89(0x12d)](_0x255a99,_0x2810f1,_0x4f32be,_0x2e1a8a):_0x5dc15b[_0x1eec89(0x174)](_0x255a99,_0x2810f1,_0x4f32be))||_0x2e1a8a;}return _0x5dc15b[_0x1eec89(0x133)](_0x5029ee,0x3)&&_0x2e1a8a&&Object[_0x1eec89(0x12f)](_0x2810f1,_0x4f32be,_0x2e1a8a),_0x2e1a8a;};import{selfInfo}from'@/core/data';import{CacheClassFuncAsync}from'@/common/utils/helper';import{napCatCore}from'@/core';import{ProfileListener}from'@/core/listeners';import{randomUUID}from'crypto';import{RequestUtil}from'@/common/utils/request';function _0x33a9(){const _0x5e5b68=['eOcuM','7GDIyDc','setLongNick','getBuddyRecommendContactArkJson','delete','ziKMt','请求获取Cookies时失败','ivsUX','then','result','getMsgService','ICqQx','EZXIT','2fXjzCT','2032330aNSpGx','getTipOffService','getUserInfo','soHHU','ZoVWl','lATSK','jScKL','216667EdBLuN','forEach','2120tYvKab','14355HmkNaD','TmtXI','getSelfInfo','&u1=https%3A%2F%2Fuser.qzone.qq.com%2F','getQzoneCookies','OLBdh','getProfileLikeService','&u1=https%3A%2F%2Fh5.qzone.qq.com%2Fqqnt%2Fqzoneinpcqq%2Ffriend%3Frefresh%3D0%26clientuin%3D0%26darkMode%3D0&keyindex=19%27','9692zqGoHb','getPSkey','session','getPskey','uid','sdVxj','IElJM','ClientKey','like','getRobotService','CallNoListenerEvent','function','getUserDetailInfoWithBizInfo','cUcZE','1344366rqSPnE','defineProperty','uinInfo','%2F','请求获取Skey时失败','JsLcu','robotUinRanges','MpRjJ','NodeIKernelUixConvertService/getUid','HHfLp','modifySelfProfile','adqRa','tjcXn','setBuddyProfileLike','setHeader','bZtyl','pVsej','&u1=https%3A%2F%2F','get','setQQAvatar','uSWcY','%2Finfocenter&keyindex=19%27','&clientkey=','pQhXd','12937680EYHdzY','onProfileDetailInfoChanged','UVGYi','getUidByUin','SQHxm','NodeIKernelUixConvertService/getUin','111yJiwhO','getUinByUid','356802ZHwRZd','310ToKhNo','NodeIKernelProfileService/getUserDetailInfoByUin','response','getUserDetailInfo\x20timeout','getCookies','getProfileService','forceFetchClientKey','CWutp','onLoginSuccess','setStatus','uidInfo','https://ssl.ptlogin2.qq.com/jump?ptlang=1033&clientuin=','modifyDesktopMiniProfile','DhjvQ','decorate','clientKey','getUserDetailInfoByUin','HttpsGetCookies','uin','xOhNt','AuNPD','length','getTicketService','pVnsa','getRobotUinRange'];_0x33a9=function(){return _0x5e5b68;};return _0x33a9();}import{logDebug}from'@/common/utils/log';import{NTEventDispatch}from'@/common/utils/EventTask';const userInfoCache={},profileListener=new ProfileListener(),userDetailHandlers=new Map();function _0x255a(_0x3a46b6,_0x4cf44b){const _0x33a96e=_0x33a9();return _0x255a=function(_0x255a84,_0x2957f3){_0x255a84=_0x255a84-0x11d;let _0x1c96d2=_0x33a96e[_0x255a84];return _0x1c96d2;},_0x255a(_0x3a46b6,_0x4cf44b);}profileListener[_0x1d1a09(0x147)]=_0x481cbb=>{const _0x1a3075=_0x1d1a09;userInfoCache[_0x481cbb[_0x1a3075(0x124)]]=_0x481cbb,userDetailHandlers[_0x1a3075(0x17e)](_0x2878f7=>_0x2878f7(_0x481cbb));},setTimeout(()=>{const _0x59eccd=_0x1d1a09;napCatCore[_0x59eccd(0x157)](()=>{napCatCore['addListener'](profileListener);});},0x64);export class NTQQUserApi{static async[_0x1d1a09(0x16a)](_0x3ba305){const _0x3da3e6=_0x1d1a09;return napCatCore[_0x3da3e6(0x122)][_0x3da3e6(0x154)]()[_0x3da3e6(0x16a)](_0x3ba305);}static async['setSelfOnlineStatus'](_0x19f9c9,_0xaafa63,_0x33fd58){const _0x16fa21=_0x1d1a09;return napCatCore[_0x16fa21(0x122)][_0x16fa21(0x172)]()[_0x16fa21(0x158)]({'status':_0x19f9c9,'extStatus':_0xaafa63,'batteryStatus':_0x33fd58});}static async[_0x1d1a09(0x16b)](_0x5d75c2,_0x5bcff7=''){const _0x57349f=_0x1d1a09;return napCatCore[_0x57349f(0x122)]['getBuddyService']()['getBuddyRecommendContactArkJson'](_0x5d75c2,_0x5bcff7);}static async[_0x1d1a09(0x128)](_0x688263,_0x4a63d2=0x1){const _0x1d79ac=_0x1d1a09;return napCatCore[_0x1d79ac(0x122)][_0x1d79ac(0x11e)]()[_0x1d79ac(0x13b)]({'friendUid':_0x688263,'sourceId':0x47,'doLikeCount':_0x4a63d2,'doLikeTollCount':0x0});}static async[_0x1d1a09(0x141)](_0x3292f6){const _0x187641=_0x1d1a09,_0x101b7d=await napCatCore[_0x187641(0x122)][_0x187641(0x154)]()[_0x187641(0x13c)](_0x3292f6);return{'result':_0x101b7d?.['result'],'errMsg':_0x101b7d?.['errMsg']};}static async[_0x1d1a09(0x182)](){}static async[_0x1d1a09(0x178)](_0x2375cf){}static async['getUserDetailInfo'](_0x18ef84){const _0x260354=_0x1d1a09,_0x362712={'CWutp':function(_0x5cb984,_0x73e292){return _0x5cb984(_0x73e292);},'SQHxm':function(_0x31a531,_0x57ffb5){return _0x31a531(_0x57ffb5);},'pQhXd':function(_0xe1f17,_0x4ae627,_0x4e5112){return _0xe1f17(_0x4ae627,_0x4e5112);}},_0x4e5643=napCatCore[_0x260354(0x122)][_0x260354(0x154)]();return new Promise((_0x144500,_0x2e6d02)=>{const _0x51ae18=_0x260354,_0x488894={'DhvDR':function(_0x90f106,_0x3fae21){const _0x5a32c6=_0x255a;return _0x362712[_0x5a32c6(0x14a)](_0x90f106,_0x3fae21);}},_0x404259=randomUUID();let _0x59860b=![],_0x2995de=undefined,_0x54e753=!![];_0x362712[_0x51ae18(0x145)](setTimeout,()=>{const _0x5ea3b4=_0x51ae18;!_0x59860b&&(_0x2995de?_0x362712[_0x5ea3b4(0x156)](_0x144500,_0x2995de):_0x362712['CWutp'](_0x2e6d02,_0x5ea3b4(0x152))),userDetailHandlers[_0x5ea3b4(0x16c)](_0x404259);},0x1388),userDetailHandlers['set'](_0x404259,_0x5ccbc4=>{const _0x30f881=_0x51ae18;_0x5ccbc4[_0x30f881(0x124)]===_0x18ef84&&(_0x54e753?(_0x2995de=_0x5ccbc4,_0x54e753=![]):(_0x59860b=!![],_0x488894['DhvDR'](_0x144500,_0x5ccbc4)));}),_0x4e5643[_0x51ae18(0x12c)](_0x18ef84,[0x0])[_0x51ae18(0x170)](_0x50fc38=>{});});}static async[_0x1d1a09(0x138)](_0x473abe){const _0x2c24bc=_0x1d1a09;return napCatCore[_0x2c24bc(0x122)][_0x2c24bc(0x154)]()[_0x2c24bc(0x15b)](_0x473abe);}static async[_0x1d1a09(0x153)](_0x3f0670){const _0x34303a=_0x1d1a09,_0xac00a5={'OLBdh':function(_0x1dbcf3,_0x44e02f){return _0x1dbcf3+_0x44e02f;},'ICqQx':function(_0x302801,_0x1cd6c6){return _0x302801+_0x1cd6c6;},'soHHU':function(_0x5d4858,_0x367fe8){return _0x5d4858+_0x367fe8;},'ZoVWl':function(_0x403cb3,_0x28fc29){return _0x403cb3+_0x28fc29;},'eOcuM':_0x34303a(0x15a),'hDPpH':_0x34303a(0x144),'pVnsa':_0x34303a(0x13f),'DhjvQ':function(_0x3f9ba9,_0x1b6bd4,_0xc0eac6){return _0x3f9ba9(_0x1b6bd4,_0xc0eac6);}},_0x5cdd22=await NTQQUserApi['forceFetchClientKey'](),_0x18d706=_0xac00a5[_0x34303a(0x11d)](_0xac00a5[_0x34303a(0x173)](_0xac00a5[_0x34303a(0x173)](_0xac00a5[_0x34303a(0x173)](_0xac00a5[_0x34303a(0x179)](_0xac00a5['soHHU'](_0xac00a5[_0x34303a(0x17a)](_0xac00a5[_0x34303a(0x168)],selfInfo[_0x34303a(0x161)]),_0xac00a5['hDPpH']),_0x5cdd22[_0x34303a(0x15e)]),_0xac00a5[_0x34303a(0x166)]),_0x3f0670)+_0x34303a(0x131),selfInfo[_0x34303a(0x161)]),_0x34303a(0x143));let _0x5e93bb={};try{_0x5e93bb=await RequestUtil[_0x34303a(0x160)](_0x18d706);}catch(_0x274527){_0xac00a5[_0x34303a(0x15c)](logDebug,_0x34303a(0x16e),_0x274527),_0x5e93bb={};}return _0x5e93bb;}static async[_0x1d1a09(0x121)](_0x1c4df3){const _0x2c409f=_0x1d1a09;return await napCatCore['session'][_0x2c409f(0x177)]()[_0x2c409f(0x123)](_0x1c4df3,!![]);}static async[_0x1d1a09(0x167)](){const _0x4701f9=_0x1d1a09,_0x13b76e=await napCatCore['session'][_0x4701f9(0x129)]()['getRobotUinRange']({'justFetchMsgConfig':'1','type':0x1,'version':0x0,'aioKeywordVersion':0x0});return _0x13b76e?.[_0x4701f9(0x151)]?.[_0x4701f9(0x134)];}static async[_0x1d1a09(0x184)](){const _0x5588a6=_0x1d1a09,_0x4d93cc={'IElJM':function(_0x1f5d7a,_0x2492ac){return _0x1f5d7a+_0x2492ac;},'UVGYi':function(_0x445d60,_0x3293d5){return _0x445d60+_0x3293d5;},'ziKMt':'%2Finfocenter&keyindex=19%27','pVsej':function(_0x107b70,_0xfe7550,_0x9d1706){return _0x107b70(_0xfe7550,_0x9d1706);},'Gzzkt':_0x5588a6(0x16e)},_0x11d837=await NTQQUserApi['forceFetchClientKey'](),_0x26e4ea=_0x4d93cc[_0x5588a6(0x126)](_0x4d93cc['IElJM'](_0x4d93cc[_0x5588a6(0x126)](_0x4d93cc[_0x5588a6(0x148)](_0x5588a6(0x15a),selfInfo[_0x5588a6(0x161)]),_0x5588a6(0x144))+_0x11d837[_0x5588a6(0x15e)],_0x5588a6(0x183)),selfInfo['uin'])+_0x4d93cc[_0x5588a6(0x16d)];let _0x3bd3a5={};try{_0x3bd3a5=await RequestUtil[_0x5588a6(0x160)](_0x26e4ea);}catch(_0x291e99){_0x4d93cc[_0x5588a6(0x13e)](logDebug,_0x4d93cc['Gzzkt'],_0x291e99),_0x3bd3a5={};}return _0x3bd3a5;}static async['getSkey'](){const _0x506fc5=_0x1d1a09,_0x57e3e7={'adqRa':function(_0x5da3a4,_0x2d2ebc){return _0x5da3a4!==_0x2d2ebc;},'AuNPD':function(_0x1c6b4c,_0x1468e4){return _0x1c6b4c+_0x1468e4;},'LbrJQ':_0x506fc5(0x15a),'RXVFb':_0x506fc5(0x144),'ATNpB':_0x506fc5(0x11f),'sdVxj':function(_0x453ec1,_0x4fcb84,_0x373fa6){return _0x453ec1(_0x4fcb84,_0x373fa6);},'tjcXn':_0x506fc5(0x132)};try{const _0x1dbd6f=await NTQQUserApi[_0x506fc5(0x155)]();if(_0x57e3e7[_0x506fc5(0x139)](_0x1dbd6f[_0x506fc5(0x171)],0x0))return'';const _0x29fe72=_0x1dbd6f[_0x506fc5(0x15e)],_0x3c7083=_0x1dbd6f['keyIndex'],_0x162560=_0x57e3e7[_0x506fc5(0x163)](_0x57e3e7[_0x506fc5(0x163)](_0x57e3e7['LbrJQ'],selfInfo['uin']),_0x57e3e7['RXVFb'])+_0x29fe72+_0x57e3e7['ATNpB'];let _0x2d956c={};try{_0x2d956c=await RequestUtil[_0x506fc5(0x160)](_0x162560);}catch(_0x1c9d24){_0x57e3e7[_0x506fc5(0x125)](logDebug,_0x57e3e7[_0x506fc5(0x13a)],_0x1c9d24),_0x2d956c={};}const _0x1ba2dc=_0x2d956c['skey'];if(!_0x1ba2dc)return'';return _0x1ba2dc;}catch(_0x3751df){}return undefined;}static async[_0x1d1a09(0x149)](_0x1abde2){const _0x53c4a3=_0x1d1a09,_0xa1dfaa={'JevEb':_0x53c4a3(0x136)};let _0x388854=await NTEventDispatch['CallNoListenerEvent'](_0xa1dfaa['JevEb'],0x1388,[_0x1abde2]);return _0x388854[_0x53c4a3(0x159)][_0x53c4a3(0x140)](_0x1abde2);}static async[_0x1d1a09(0x14d)](_0x25e466){const _0x1ab85b=_0x1d1a09,_0x33c50a={'uSWcY':_0x1ab85b(0x14b)};if(!_0x25e466)return'';let _0x22dfc1=await NTEventDispatch['CallNoListenerEvent'](_0x33c50a[_0x1ab85b(0x142)],0x1388,[_0x25e466]);return _0x22dfc1[_0x1ab85b(0x130)][_0x1ab85b(0x140)](_0x25e466);}static async[_0x1d1a09(0x15f)](_0x68e907){const _0x1d4609=_0x1d1a09,_0x412707={'HHfLp':_0x1d4609(0x150)};return NTEventDispatch[_0x1d4609(0x12a)](_0x412707[_0x1d4609(0x137)],0x1388,_0x68e907);}static async[_0x1d1a09(0x155)](){const _0x1bec2e=_0x1d1a09;return await napCatCore['session'][_0x1bec2e(0x165)]()[_0x1bec2e(0x155)]('');}}__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x1d1a09(0x153),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x1d1a09(0x121),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,_0x1d1a09(0x184),null),__decorate([CacheClassFuncAsync(0x708*0x3e8)],NTQQUserApi,'getSkey',null),__decorate([CacheClassFuncAsync(0xe10*0x3e8,_0x1d1a09(0x127))],NTQQUserApi,_0x1d1a09(0x155),null);