(function(_0x15adac,_0xf2926){const _0x5c65d2=_0x31a0,_0x365d1a=_0x15adac();while(!![]){try{const _0x477f1f=-parseInt(_0x5c65d2(0xd0))/0x1*(-parseInt(_0x5c65d2(0xaf))/0x2)+parseInt(_0x5c65d2(0xec))/0x3+parseInt(_0x5c65d2(0xc3))/0x4+-parseInt(_0x5c65d2(0xd7))/0x5+parseInt(_0x5c65d2(0xc5))/0x6*(-parseInt(_0x5c65d2(0xeb))/0x7)+-parseInt(_0x5c65d2(0xe5))/0x8*(-parseInt(_0x5c65d2(0xc4))/0x9)+parseInt(_0x5c65d2(0xa9))/0xa;if(_0x477f1f===_0xf2926)break;else _0x365d1a['push'](_0x365d1a['shift']());}catch(_0x501705){_0x365d1a['push'](_0x365d1a['shift']());}}}(_0xf618,0xb9c51));import{logDebug}from'@/common/utils/log';import{NTQQUserApi}from'./user';import{selfInfo}from'../data';import{RequestUtil}from'@/common/utils/request';import{WebApi}from'./webapi';function _0x31a0(_0x1f6daf,_0x5ef5b3){const _0xf618c3=_0xf618();return _0x31a0=function(_0x31a07d,_0x1f8f48){_0x31a07d=_0x31a07d-0xa6;let _0x23b228=_0xf618c3[_0x31a07d];return _0x23b228;},_0x31a0(_0x1f6daf,_0x5ef5b3);}export async function SignMiniApp(_0x55c7d6){const _0x1927b2=_0x31a0,_0x43cc80={'jqPNd':'\x5c/\x5c/','uLEHS':function(_0x314324,_0x228dda){return _0x314324+_0x228dda;},'NfrHu':function(_0x47b6d9,_0x3cfe0d){return _0x47b6d9+_0x3cfe0d;},'zovvd':function(_0x2dbbd8,_0x137923){return _0x2dbbd8+_0x137923;},'lcagY':function(_0x2faa99,_0x4802b2){return _0x2faa99+_0x4802b2;},'VbTbR':'p_skey=','hxSJO':_0x1927b2(0xb7),'mKpGD':'https://h5.qzone.qq.com/v2/vip/tx/trpc/ark-share/GenNewSignedArk?g_tk=','bPKqb':_0x1927b2(0xad),'OjaGh':_0x1927b2(0xb2),'NNwVk':function(_0x2f5954,_0x26c9d7,_0x15d7a9){return _0x2f5954(_0x26c9d7,_0x15d7a9);}};let _0x2e8a7a={'app':_0x1927b2(0xaa),'bizsrc':_0x1927b2(0xc9),'view':'miniapp','prompt':_0x55c7d6[_0x1927b2(0xbc)],'config':{'type':_0x1927b2(0xda),'forward':0x1,'autosize':0x0},'meta':{'miniapp':{'title':_0x55c7d6[_0x1927b2(0xe3)],'preview':_0x55c7d6[_0x1927b2(0xde)][_0x1927b2(0xd6)](/\\/g,_0x1927b2(0xe4)),'jumpUrl':_0x55c7d6['jumpUrl'][_0x1927b2(0xd6)](/\\/g,_0x1927b2(0xe4)),'tag':_0x55c7d6['tag'],'tagIcon':_0x55c7d6[_0x1927b2(0xe9)][_0x1927b2(0xd6)](/\\/g,_0x43cc80['jqPNd']),'source':_0x55c7d6[_0x1927b2(0xe2)],'sourcelogo':_0x55c7d6[_0x1927b2(0xcd)][_0x1927b2(0xd6)](/\\/g,_0x43cc80[_0x1927b2(0xe7)])}}},_0xbd9bde=await NTQQUserApi[_0x1927b2(0xba)]();const _0x73d588=WebApi[_0x1927b2(0xc0)](_0xbd9bde[_0x1927b2(0xb1)]),_0x3f3522=_0x43cc80[_0x1927b2(0xa8)](_0x43cc80['NfrHu'](_0x43cc80[_0x1927b2(0xb5)](_0x43cc80[_0x1927b2(0xcc)](_0x43cc80['lcagY'](_0x43cc80['VbTbR'],_0xbd9bde[_0x1927b2(0xb1)]),';\x20skey=')+_0xbd9bde['skey'],_0x43cc80[_0x1927b2(0xca)])+selfInfo[_0x1927b2(0xb4)],';\x20uin=o'),selfInfo[_0x1927b2(0xb4)]);let _0x5e631a=_0x43cc80['NfrHu'](_0x43cc80['mKpGD']+_0x73d588,_0x43cc80[_0x1927b2(0xc8)])+encodeURIComponent(JSON[_0x1927b2(0xab)](_0x2e8a7a)),_0x36ebb9='';try{let _0xa999cc=await RequestUtil[_0x1927b2(0xd2)](_0x5e631a,_0x43cc80[_0x1927b2(0xc7)],undefined,{'Cookie':_0x3f3522});_0x36ebb9=_0xa999cc['data'][_0x1927b2(0xae)];}catch(_0x1fb8b5){_0x43cc80[_0x1927b2(0xe1)](logDebug,_0x1927b2(0xea),_0x1fb8b5);}return _0x36ebb9;}export async function SignMusicInternal(_0x495847,_0x493560,_0x3102b7,_0x365194,_0x28aad6){const _0x1e03e5=_0x31a0,_0x37c396={'DmgPy':_0x1e03e5(0xb8),'tYJpD':_0x1e03e5(0xda),'bsURw':function(_0x573928,_0x5ea8e8){return _0x573928+_0x5ea8e8;},'OjkhU':_0x1e03e5(0xe8),'DPnZM':'QQ音乐','iusWe':function(_0x172caa,_0x51c7f3){return _0x172caa+_0x51c7f3;},'knXeJ':_0x1e03e5(0xd9),'WyMNG':'0.0.0.1','OTbIv':_0x1e03e5(0xc1),'aqbun':'uin=o10086','VMlLm':'application/json'};let _0x2f8c07=_0x1e03e5(0xbf),_0xc2e3fa={'app':_0x37c396[_0x1e03e5(0xd3)],'config':{'ctime':0x6670467e,'forward':0x1,'token':_0x1e03e5(0xa7),'type':_0x37c396[_0x1e03e5(0xd4)]},'extra':{'app_type':0x1,'appid':0x5fd779c,'msg_seq':0xc7a7f60e2d080800,'uin':0x674d9a89},'meta':{'music':{'action':'','android_pkg_name':'','app_type':0x1,'appid':0x5fd779c,'ctime':0x6670467e,'desc':_0x493560,'jumpUrl':_0x37c396[_0x1e03e5(0xd8)](_0x37c396[_0x1e03e5(0xd8)](_0x37c396[_0x1e03e5(0xcf)],_0x365194),_0x1e03e5(0xd5)),'musicUrl':_0x28aad6,'preview':_0x3102b7,'cover':_0x3102b7,'sourceMsgId':'0','source_icon':'https://p.qpic.cn/qqconnect/0/app_100497308_1626060999/100?max-age=2592000&t=0','source_url':'','tag':_0x37c396[_0x1e03e5(0xc2)],'title':_0x495847,'uin':0x2766}},'prompt':_0x37c396['iusWe'](_0x37c396[_0x1e03e5(0xbe)],_0x495847),'ver':_0x37c396[_0x1e03e5(0xe6)],'view':'music'},_0x39e882=await RequestUtil[_0x1e03e5(0xd2)](_0x2f8c07,_0x37c396[_0x1e03e5(0xbb)],_0xc2e3fa,{'Cookie':_0x37c396[_0x1e03e5(0xdc)],'Content-Type':_0x37c396[_0x1e03e5(0xdd)]});return _0x39e882;}export async function CreateMusicThridWay0(_0x459dd3='',_0x255a74=''){const _0x19a7d4=_0x31a0,_0x567990={'TzTrf':function(_0x2a40f4,_0x3b0e1a){return _0x2a40f4==_0x3b0e1a;},'qXVIH':_0x19a7d4(0xb0),'YTBdC':_0x19a7d4(0xb9),'UUXcI':function(_0xb283a4,_0x436ea8){return _0xb283a4+_0x436ea8;},'qXabn':_0x19a7d4(0xac)};if(_0x567990[_0x19a7d4(0xbd)](_0x255a74,'')){let _0x3c3cd3=await RequestUtil[_0x19a7d4(0xd2)](_0x567990['qXVIH']+_0x459dd3+_0x567990[_0x19a7d4(0xb3)],_0x19a7d4(0xb2),undefined);_0x255a74=_0x3c3cd3[_0x19a7d4(0xcb)]?.[_0x19a7d4(0xb6)]?.[_0x19a7d4(0xe0)][_0x19a7d4(0xc6)];}let _0x2d7542=await RequestUtil['HttpGetJson'](_0x567990[_0x19a7d4(0xdb)]('https://api.leafone.cn/api/qqmusic?id=',_0x255a74)+_0x567990[_0x19a7d4(0xce)],_0x19a7d4(0xb2),undefined);return{..._0x2d7542[_0x19a7d4(0xb6)],'mid':_0x255a74};}export async function CreateMusicThridWay1(_0x1fb1af='',_0x448806=''){}function _0xf618(){const _0x5b56fb=['source','title','\x5c/\x5c/','40ZYNKBU','WyMNG','jqPNd','https://i.y.qq.com/v8/playsong.html?songmid=','tagIcon','MiniApp\x20JSON\x20消息生成失败','14RvezJT','2848512ciagUA','https://ws.stream.qqmusic.qq.com/','url','9a63343c32d5a16bcde653eb97faa25d','uLEHS','9654750AFoQMH','com.tencent.miniapp.lua','stringify','&type=8','&ark=','signed_ark','2jWIOkv','https://u.y.qq.com/cgi-bin/musicu.fcg?format=json&inCharset=utf8&outCharset=utf-8&notice=0&platform=yqq.json&needNewCode=0&data={\x22comm\x22:{\x22ct\x22:24,\x22cv\x22:0},\x22songinfo\x22:{\x22method\x22:\x22get_song_detail_yqq\x22,\x22param\x22:{\x22song_type\x22:0,\x22song_mid\x22:\x22\x22,\x22song_id\x22:','p_skey','GET','YTBdC','uin','zovvd','data',';\x20p_uin=o','com.tencent.qqreader.share','},\x22module\x22:\x22music.pf_song_detail_svr\x22}}','getQzoneCookies','OTbIv','prompt','TzTrf','knXeJ','https://mqq.reader.qq.com/api/mqq/share/card?accessToken&_csrfToken&source=c0003','genBkn','POST','DPnZM','2648172AGYEKP','498951EjXkrb','4302894wxYmgO','mid','OjaGh','bPKqb','tianxuan.imgJumpArk','hxSJO','songinfo','lcagY','sourcelogo','qXabn','OjkhU','68190JZbDta','singer','HttpGetJson','DmgPy','tYJpD','&type=0','replace','3635980qAlFkd','bsURw','[分享]','normal','UUXcI','aqbun','VMlLm','preview','name','track_info','NNwVk'];_0xf618=function(){return _0x5b56fb;};return _0xf618();}export async function SignMusicWrapper(_0x3cbb81=''){const _0x370b31=_0x31a0;let _0x16e3a5=await CreateMusicThridWay0(_0x3cbb81),_0x3a2c11=await SignMusicInternal(_0x16e3a5[_0x370b31(0xdf)],_0x16e3a5[_0x370b31(0xd1)],_0x16e3a5['cover'],_0x16e3a5[_0x370b31(0xc6)],_0x370b31(0xed)+_0x16e3a5[_0x370b31(0xa6)]);return _0x3a2c11;}