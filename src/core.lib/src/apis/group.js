const _0x3b7ce=_0x1a7e;function _0x4413(){const _0x56d8dc=['groupCode','TVjGX','getNextMemberList','获取群列表超时','setMemberShutUp','EgMwf','14382657JTleXE','setGroupName','FmVLb','kickMember','49lLuuIB','QCJQI','796eKvsem','asQaR','onLoginSuccess','1157jrZFwm','publishGroupBulletin','ZPmJT','uid','getPSkey','664328DKZwqB','12459408UhvJlX','modifyGroupName','set','infos','1119726VLsHzX','banMember','createMemberListScene','getGroupIgnoreNotifies','qun.qq.com','quitGroup','errCode','setGroupTitle','uploadGroupBulletinPic','tHLLg','1108GlXWxN','getGroupNotifies','10IzbzTH','hjaLD','result','kQAlX','getGroupService','errMsg','MFHxb','RuLkh','group','33OEqLAP','gZANM','operateSysNotify','banGroup','获取群成员列表出错,','获取群列表完成','JknAr','2014566huEVwa','getGroupMembers','finish','getGroups','getGroupList','addListener','setMemberRole','setGroupShutUp','session','cEHDV','finish:\x20','获取群(','then','type','modifyMemberCardName','uin','delete','8805fWWtkt','handleGroupRequest'];_0x4413=function(){return _0x56d8dc;};return _0x4413();}(function(_0x1dd7bb,_0x32c0f0){const _0xa8c9b6=_0x1a7e,_0x16fe45=_0x1dd7bb();while(!![]){try{const _0xe9d996=parseInt(_0xa8c9b6(0x160))/0x1*(parseInt(_0xa8c9b6(0x15d))/0x2)+parseInt(_0xa8c9b6(0x13e))/0x3+-parseInt(_0xa8c9b6(0x12c))/0x4*(-parseInt(_0xa8c9b6(0x14f))/0x5)+parseInt(_0xa8c9b6(0x122))/0x6+parseInt(_0xa8c9b6(0x15b))/0x7*(parseInt(_0xa8c9b6(0x11d))/0x8)+-parseInt(_0xa8c9b6(0x157))/0x9*(-parseInt(_0xa8c9b6(0x12e))/0xa)+parseInt(_0xa8c9b6(0x137))/0xb*(-parseInt(_0xa8c9b6(0x11e))/0xc);if(_0xe9d996===_0x32c0f0)break;else _0x16fe45['push'](_0x16fe45['shift']());}catch(_0x462bda){_0x16fe45['push'](_0x16fe45['shift']());}}}(_0x4413,0xd4a16));import{NTQQUserApi,napCatCore}from'@/core';import{GroupListener}from'@/core/index';import{uid2UinMap}from'@/core/data';import{logDebug}from'@/common/utils/log';import{randomUUID}from'crypto';const groupMemberTasks=new Map(),groupListener=new GroupListener();function _0x1a7e(_0x1cb492,_0x2f45f5){const _0x441321=_0x4413();return _0x1a7e=function(_0x1a7eb6,_0x316495){_0x1a7eb6=_0x1a7eb6-0x11b;let _0x152a48=_0x441321[_0x1a7eb6];return _0x152a48;},_0x1a7e(_0x1cb492,_0x2f45f5);}groupListener['onGroupListUpdate']=(_0x2bcbb0,_0xee14cd)=>{const _0x18151a=_0x1a7e;for(const [_0x21afc2,_0xd1b5c]of groupMemberTasks){_0xd1b5c(_0x2bcbb0,_0xee14cd),groupMemberTasks[_0x18151a(0x14e)](_0x21afc2);}},setTimeout(()=>{const _0x1f5649=_0x1a7e;napCatCore[_0x1f5649(0x15f)](()=>{const _0x2e55b2=_0x1f5649;napCatCore[_0x2e55b2(0x143)](groupListener);});},0x64);export class NTQQGroupApi{static async[_0x3b7ce(0x141)](_0x539b88=![]){const _0x1f976a=_0x3b7ce,_0x1aa42d={'cEHDV':function(_0x1c9282,_0x32a58e){return _0x1c9282(_0x32a58e);},'JknAr':_0x1f976a(0x154),'FmVLb':function(_0x4a3045,_0x281155,_0xef300f){return _0x4a3045(_0x281155,_0xef300f);},'asQaR':_0x1f976a(0x13c),'MFHxb':function(_0x20202e,_0x520131){return _0x20202e(_0x520131);},'QCJQI':function(_0xffa618,_0x24c8e6,_0x276e10){return _0xffa618(_0x24c8e6,_0x276e10);}};let _0x2756f9=![];return new Promise((_0x565c35,_0x30ce1f)=>{const _0x4c3ef3=_0x1f976a,_0xca7a20={'aslYt':function(_0x390f6d,_0x16e43c,_0x2c4708){const _0x28d8fc=_0x1a7e;return _0x1aa42d[_0x28d8fc(0x159)](_0x390f6d,_0x16e43c,_0x2c4708);},'EgMwf':_0x1aa42d[_0x4c3ef3(0x15e)],'RuLkh':function(_0x9eb06b,_0x2a84bd){const _0x24beda=_0x4c3ef3;return _0x1aa42d[_0x24beda(0x134)](_0x9eb06b,_0x2a84bd);}};_0x1aa42d[_0x4c3ef3(0x15c)](setTimeout,()=>{const _0x55ceb3=_0x4c3ef3;!_0x2756f9&&(_0x1aa42d[_0x55ceb3(0x147)](logDebug,_0x1aa42d[_0x55ceb3(0x13d)]),_0x1aa42d[_0x55ceb3(0x147)](_0x30ce1f,_0x1aa42d['JknAr']));},0x1388);const _0x3e23ab=(_0x22690b,_0x15b560)=>{const _0x108e46=_0x4c3ef3;_0x2756f9=!![],_0xca7a20['aslYt'](logDebug,_0xca7a20[_0x108e46(0x156)],_0x15b560),_0xca7a20[_0x108e46(0x135)](_0x565c35,_0x15b560);};groupMemberTasks[_0x4c3ef3(0x120)](randomUUID(),_0x3e23ab),napCatCore['session'][_0x4c3ef3(0x132)]()[_0x4c3ef3(0x142)](_0x539b88)[_0x4c3ef3(0x14a)]();});}static async[_0x3b7ce(0x13f)](_0x11e4e3,_0x3dd270=0xbb8){const _0x985419=_0x3b7ce,_0x34b1aa={'hjaLD':function(_0x405a32,_0x2da9a7){return _0x405a32!==_0x2da9a7;},'kQAlX':_0x985419(0x13b),'gZANM':function(_0x10ecb7,_0x1d3ef1,_0x16a669){return _0x10ecb7(_0x1d3ef1,_0x16a669);}},_0x61c65e=napCatCore[_0x985419(0x146)]['getGroupService'](),_0x58aa82=_0x61c65e[_0x985419(0x124)](_0x11e4e3,'groupMemberList_MainWindow'),_0x20e5c0=await _0x61c65e[_0x985419(0x153)](_0x58aa82,undefined,_0x3dd270);if(_0x34b1aa[_0x985419(0x12f)](_0x20e5c0[_0x985419(0x128)],0x0))throw _0x34b1aa[_0x985419(0x131)]+_0x20e5c0[_0x985419(0x133)];return _0x34b1aa[_0x985419(0x138)](logDebug,_0x985419(0x149)+_0x11e4e3+')成员列表结果:',_0x985419(0x148)+_0x20e5c0[_0x985419(0x130)][_0x985419(0x140)]),_0x20e5c0['result'][_0x985419(0x121)]['forEach'](_0x552c55=>{const _0x3430c6=_0x985419;uid2UinMap[_0x552c55[_0x3430c6(0x11b)]]=_0x552c55[_0x3430c6(0x14d)];}),_0x20e5c0[_0x985419(0x130)][_0x985419(0x121)];}static async[_0x3b7ce(0x12d)](){}static async[_0x3b7ce(0x125)](){}static async[_0x3b7ce(0x12a)](_0x50f2a8,_0x4f60ae){const _0x1fb2b2=_0x3b7ce,_0x5bb57a={'TVjGX':_0x1fb2b2(0x126)},_0x30bc4e=(await NTQQUserApi['getPSkey']([_0x5bb57a[_0x1fb2b2(0x152)]]))[_0x1fb2b2(0x126)];return napCatCore[_0x1fb2b2(0x146)][_0x1fb2b2(0x132)]()[_0x1fb2b2(0x12a)](_0x50f2a8,_0x30bc4e,_0x4f60ae);}static async[_0x3b7ce(0x150)](_0xe6b718,_0x189c6a,_0x2cf689){const _0x215a87=_0x3b7ce,_0x5ec174={'nzIja':function(_0x1fe833,_0x2f7341){return _0x1fe833||_0x2f7341;}};return napCatCore['session'][_0x215a87(0x132)]()[_0x215a87(0x139)](![],{'operateType':_0x189c6a,'targetMsg':{'seq':_0xe6b718['seq'],'type':_0xe6b718[_0x215a87(0x14b)],'groupCode':_0xe6b718[_0x215a87(0x136)][_0x215a87(0x151)],'postscript':_0x5ec174['nzIja'](_0x2cf689,'')}});}static async['quitGroup'](_0x22e089){const _0x2cdcbd=_0x3b7ce;return napCatCore[_0x2cdcbd(0x146)][_0x2cdcbd(0x132)]()[_0x2cdcbd(0x127)](_0x22e089);}static async[_0x3b7ce(0x15a)](_0x171052,_0x15b7c6,_0x485f71=![],_0xe32b42=''){const _0x9f6bd3=_0x3b7ce;return napCatCore[_0x9f6bd3(0x146)][_0x9f6bd3(0x132)]()[_0x9f6bd3(0x15a)](_0x171052,_0x15b7c6,_0x485f71,_0xe32b42);}static async[_0x3b7ce(0x123)](_0x7a0dff,_0x275fe0){const _0x2fe866=_0x3b7ce;return napCatCore[_0x2fe866(0x146)][_0x2fe866(0x132)]()[_0x2fe866(0x155)](_0x7a0dff,_0x275fe0);}static async[_0x3b7ce(0x13a)](_0x5e564c,_0x402d79){const _0x1c3604=_0x3b7ce;return napCatCore[_0x1c3604(0x146)][_0x1c3604(0x132)]()[_0x1c3604(0x145)](_0x5e564c,_0x402d79);}static async['setMemberCard'](_0x41b187,_0x361829,_0x430d8b){const _0x25b6bc=_0x3b7ce;return napCatCore['session'][_0x25b6bc(0x132)]()[_0x25b6bc(0x14c)](_0x41b187,_0x361829,_0x430d8b);}static async[_0x3b7ce(0x144)](_0x30a1f8,_0x4e3055,_0x2ea2db){const _0x1ee36b=_0x3b7ce;return napCatCore[_0x1ee36b(0x146)][_0x1ee36b(0x132)]()['modifyMemberRole'](_0x30a1f8,_0x4e3055,_0x2ea2db);}static async[_0x3b7ce(0x158)](_0x119d20,_0x48502d){const _0x205e3f=_0x3b7ce;return napCatCore[_0x205e3f(0x146)][_0x205e3f(0x132)]()[_0x205e3f(0x11f)](_0x119d20,_0x48502d,![]);}static async[_0x3b7ce(0x129)](_0x3fa27a,_0x1308a9,_0xa82877){}static async[_0x3b7ce(0x161)](_0x3159a4,_0xa177d8,_0x53ad78=undefined,_0x46633e=0x0,_0x5243b8=0x0){const _0x297e1a=_0x3b7ce,_0x52f1ab={'ZPmJT':'qun.qq.com','tHLLg':function(_0x2be159,_0x31d2e4){return _0x2be159(_0x31d2e4);}},_0xf70c26=(await NTQQUserApi[_0x297e1a(0x11c)]([_0x297e1a(0x126)]))[_0x52f1ab[_0x297e1a(0x162)]];let _0x362424={'text':_0x52f1ab[_0x297e1a(0x12b)](encodeURI,_0xa177d8),'picInfo':_0x53ad78,'oldFeedsId':'','pinned':_0x46633e,'confirmRequired':_0x5243b8};return napCatCore[_0x297e1a(0x146)][_0x297e1a(0x132)]()[_0x297e1a(0x161)](_0x3159a4,_0xf70c26,_0x362424);}}