function _0x24d3(){const _0x4b4497=['SEhbK','system.login.error','EznIO','474868AiFptS','NodeIKernelLoginListener','quickLoginWithUin','onLoginFailed','opEDu','init','onQRCodeLoginSucceed','system.login.slider','5hPhzMd','pngBase64QrcodeData','gSvyl','Eexry','uin','isQuickLogin','initPostLogin','FgGVt','QoWbJ','passwordLogin','emit','LocalLoginInfoList','140022008','quick','errMsg','1002222bxNTJN','update','getLoginList','Quick\x20login\x20for\x20','find','qrcode','onQRCodeGetPicture','getQRCodePicture','onQRCodeSessionFailed','error','core','password','4358452jHaOWC','md5','loginErrorInfo','service','3260948iWecHT','iixne','system.login.qrcode','2149389eLNDYF','result','hex','NodeIKernelLoginService','initListener','2827360vFcEZm','listener','1803030dWmeMK','sPBwb'];_0x24d3=function(){return _0x4b4497;};return _0x24d3();}const _0x3570a3=_0x1745;(function(_0x2a0275,_0x4a8ee4){const _0x193683=_0x1745,_0x4f14b6=_0x2a0275();while(!![]){try{const _0x205923=-parseInt(_0x193683(0x100))/0x1+parseInt(_0x193683(0xe9))/0x2+-parseInt(_0x193683(0xdd))/0x3+parseInt(_0x193683(0xda))/0x4+parseInt(_0x193683(0xf1))/0x5*(parseInt(_0x193683(0xe4))/0x6)+parseInt(_0x193683(0xd6))/0x7+parseInt(_0x193683(0xe2))/0x8;if(_0x205923===_0x4a8ee4)break;else _0x4f14b6['push'](_0x4f14b6['shift']());}catch(_0x31fb4b){_0x4f14b6['push'](_0x4f14b6['shift']());}}}(_0x24d3,0x950f3));import*as _0x490f37 from'node:crypto';import{Wrapper as _0x1cdcfa}from'./qqnt';import{LoginListener}from'./qqnt/listeners';function _0x1745(_0x26e275,_0x2a1040){const _0x24d3eb=_0x24d3();return _0x1745=function(_0x17450b,_0xf524c5){_0x17450b=_0x17450b-0xcd;let _0x56cec3=_0x24d3eb[_0x17450b];return _0x56cec3;},_0x1745(_0x26e275,_0x2a1040);}import{sleep}from'@/common/utils/helper';export class NapCatCoreLogin{[_0x3570a3(0xd4)];[_0x3570a3(0xd9)];[_0x3570a3(0xe3)];constructor(_0x3293fa){const _0x4cc33b=_0x3570a3,_0x12b9d1={'JWQji':_0x4cc33b(0xd2),'Eexry':_0x4cc33b(0xec)};this[_0x4cc33b(0xd4)]=_0x3293fa,this[_0x4cc33b(0xd9)]=new _0x1cdcfa[(_0x4cc33b(0xe0))](),this[_0x4cc33b(0xe3)]=new LoginListener(),this[_0x4cc33b(0xe3)][_0x4cc33b(0xd2)]=_0x21bb1d=>{const _0xa09669=_0x4cc33b;console[_0xa09669(0xd3)](_0x12b9d1['JWQji'],_0x21bb1d);},this[_0x4cc33b(0xe3)][_0x4cc33b(0xec)]=_0x2c763c=>{const _0x3ad915=_0x4cc33b;console['error'](_0x12b9d1[_0x3ad915(0xf4)],_0x2c763c);};}[_0x3570a3(0xee)](_0x3304b2){const _0x4aad6a=_0x3570a3;this['service']['initConfig'](_0x3304b2),this[_0x4aad6a(0xe1)](),this[_0x4aad6a(0xd9)]['addKernelLoginListener'](new _0x1cdcfa[(_0x4aad6a(0xea))](this['listener']));}[_0x3570a3(0xe1)](){const _0x3801f8=_0x3570a3,_0x4bede9={'iixne':_0x3801f8(0xdc)};this[_0x3801f8(0xe3)][_0x3801f8(0xd0)]=_0x4d46cc=>{const _0x3dc48f=_0x3801f8;this[_0x3dc48f(0xd4)][_0x3dc48f(0xfb)](_0x4bede9[_0x3dc48f(0xdb)],{'url':_0x4d46cc['qrcodeUrl'],'base64':_0x4d46cc[_0x3dc48f(0xf2)]});},this[_0x3801f8(0xe3)][_0x3801f8(0xef)]=_0xdf2641=>{const _0x54d035=_0x3801f8;this[_0x54d035(0xd4)][_0x54d035(0xf7)](_0xdf2641);};}[_0x3570a3(0x102)](){const _0x33882e=_0x3570a3;return this[_0x33882e(0xd9)]['getLoginList']();}async[_0x3570a3(0xcf)](){const _0x524553=_0x3570a3;this[_0x524553(0xd9)][_0x524553(0xd1)]();}async[_0x3570a3(0xfe)](_0x400eec){const _0x1043b9=_0x3570a3,_0x51437f={'FgGVt':function(_0x1f0202,_0x3fdb64){return _0x1f0202!==_0x3fdb64;},'ZsmWg':function(_0x19ac95,_0x5a5205){return _0x19ac95(_0x5a5205);}},_0x51fbe6=await this[_0x1043b9(0x102)]();if(_0x51437f[_0x1043b9(0xf8)](_0x51fbe6[_0x1043b9(0xde)],0x0))throw new Error('No\x20quick\x20login\x20accounts\x20available');const _0x3ebaea=_0x51fbe6[_0x1043b9(0xfc)][_0x1043b9(0xce)](_0x4624c4=>_0x4624c4[_0x1043b9(0xf5)]===_0x400eec);if(!_0x3ebaea||!_0x3ebaea?.[_0x1043b9(0xf6)])throw new Error(_0x1043b9(0xcd)+_0x400eec+'\x20is\x20not\x20available');await _0x51437f['ZsmWg'](sleep,0x3e8);const _0x32920b=await this['service'][_0x1043b9(0xeb)](_0x400eec);if(!_0x32920b[_0x1043b9(0xde)])this[_0x1043b9(0xd4)][_0x1043b9(0xfb)](_0x1043b9(0xe7),{'code':_0x32920b[_0x1043b9(0xde)],'message':_0x32920b[_0x1043b9(0xd8)][_0x1043b9(0xff)]});}async[_0x3570a3(0xd5)](_0x2e639a,_0x2a564d,_0x471fd9,_0x1b27ee,_0x25755f){const _0x4e3881=_0x3570a3,_0x387199={'SEhbK':_0x4e3881(0xd7),'gSvyl':function(_0x96a279,_0xe359be){return _0x96a279||_0xe359be;},'opEDu':function(_0x5322c1,_0x2588a5){return _0x5322c1(_0x2588a5);},'QoWbJ':_0x4e3881(0xfd),'sPBwb':_0x4e3881(0xf0),'EznIO':'140022013','bQoub':_0x4e3881(0xe7)},_0x16e3e9=_0x490f37['createHash'](_0x387199[_0x4e3881(0xe6)])[_0x4e3881(0x101)](_0x2a564d)['digest'](_0x4e3881(0xdf)),_0x831935={'uin':_0x2e639a,'passwordMd5':_0x16e3e9,'step':_0x471fd9&&_0x1b27ee&&_0x25755f?0x1:0x0,'newDeviceLoginSig':'','proofWaterSig':_0x471fd9||'','proofWaterRand':_0x387199[_0x4e3881(0xf3)](_0x1b27ee,''),'proofWaterSid':_0x387199[_0x4e3881(0xf3)](_0x25755f,'')};await this[_0x4e3881(0x102)](),await _0x387199[_0x4e3881(0xed)](sleep,0x3e8);const _0x58d501=await this['service'][_0x4e3881(0xfa)](_0x831935);switch(_0x58d501[_0x4e3881(0xde)]){case'0':{break;}case _0x387199[_0x4e3881(0xf9)]:{this[_0x4e3881(0xd4)][_0x4e3881(0xfb)](_0x387199[_0x4e3881(0xe5)],{'url':_0x58d501[_0x4e3881(0xd8)]['proofWaterUrl']});break;}case'4':case _0x387199[_0x4e3881(0xe8)]:default:{this[_0x4e3881(0xd4)][_0x4e3881(0xfb)](_0x387199['bQoub'],{'code':_0x58d501[_0x4e3881(0xde)],'message':_0x58d501[_0x4e3881(0xd8)]['errMsg']});}}}}