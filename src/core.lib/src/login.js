const _0x1422e6=_0x4b4a;(function(_0x2733a7,_0x2658be){const _0x2be17d=_0x4b4a,_0x5c2415=_0x2733a7();while(!![]){try{const _0x2fac21=-parseInt(_0x2be17d(0x108))/0x1+parseInt(_0x2be17d(0x12a))/0x2+parseInt(_0x2be17d(0x110))/0x3*(parseInt(_0x2be17d(0x115))/0x4)+parseInt(_0x2be17d(0x122))/0x5*(parseInt(_0x2be17d(0x12f))/0x6)+-parseInt(_0x2be17d(0x13e))/0x7+parseInt(_0x2be17d(0x119))/0x8*(parseInt(_0x2be17d(0x13a))/0x9)+parseInt(_0x2be17d(0x13b))/0xa*(parseInt(_0x2be17d(0x125))/0xb);if(_0x2fac21===_0x2658be)break;else _0x5c2415['push'](_0x5c2415['shift']());}catch(_0x35aaff){_0x5c2415['push'](_0x5c2415['shift']());}}}(_0x2a42,0xb4865));import*as _0x214085 from'node:crypto';function _0x4b4a(_0x176765,_0x16fca8){const _0x2a423b=_0x2a42();return _0x4b4a=function(_0x4b4a8d,_0x441122){_0x4b4a8d=_0x4b4a8d-0x106;let _0x2a3ea0=_0x2a423b[_0x4b4a8d];return _0x2a3ea0;},_0x4b4a(_0x176765,_0x16fca8);}import{Wrapper as _0x2901b3}from'./qqnt';import{LoginListener}from'./qqnt/listeners';import{sleep}from'@/common/utils/helper';function _0x2a42(){const _0x1f90d6=['qrcode','core','digest','error','find','75eGDUXS','NodeIKernelLoginService','LocalLoginInfoList','462pefUzm','kRoNN','initConfig','eEkvr','pngBase64QrcodeData','2247316qXRYtC','tFwxn','qrcodeUrl','\x20is\x20not\x20available','password','322470OERTnS','onQRCodeLoginSucceed','errMsg','listener','getLoginList','onQRCodeSessionFailed','onLoginFailed','loginErrorInfo','createHash','hex','initListener','3538881YatFyz','24820GpWaSm','No\x20quick\x20login\x20accounts\x20available','initPostLogin','2527336nbNtYS','result','kXnlh','proofWaterUrl','OdXDb','Quick\x20login\x20for\x20','passwordLogin','1408635CpZvpP','DRQUX','pSWFU','vkFWM','emit','system.login.qrcode','md5','getQRCodePicture','978PhEzTi','140022013','system.login.error','init','140022008','1004htULku','HMmLm','zpUrU','quick','8AEGDwX','service','onQRCodeGetPicture','uin'];_0x2a42=function(){return _0x1f90d6;};return _0x2a42();}export class NapCatCoreLogin{['core'];[_0x1422e6(0x11a)];[_0x1422e6(0x132)];constructor(_0x2b91eb){const _0x1905c8=_0x1422e6,_0x57c7ac={'kRoNN':_0x1905c8(0x134)};this[_0x1905c8(0x11e)]=_0x2b91eb,this['service']=new _0x2901b3[(_0x1905c8(0x123))](),this['listener']=new LoginListener(),this[_0x1905c8(0x132)][_0x1905c8(0x134)]=_0x148acd=>{const _0x477e0c=_0x1905c8;console[_0x477e0c(0x120)](_0x57c7ac[_0x477e0c(0x126)],_0x148acd);},this[_0x1905c8(0x132)]['onLoginFailed']=_0x371513=>{const _0x5b29b6=_0x1905c8;console[_0x5b29b6(0x120)](_0x5b29b6(0x135),_0x371513);};}[_0x1422e6(0x113)](_0x2db83b){const _0x4665c3=_0x1422e6;this[_0x4665c3(0x11a)][_0x4665c3(0x127)](_0x2db83b),this[_0x4665c3(0x139)](),this[_0x4665c3(0x11a)]['addKernelLoginListener'](new _0x2901b3['NodeIKernelLoginListener'](this[_0x4665c3(0x132)]));}['initListener'](){const _0x412919=_0x1422e6;this[_0x412919(0x132)][_0x412919(0x11b)]=_0x2dde9e=>{const _0x1e5567=_0x412919;this['core'][_0x1e5567(0x10c)](_0x1e5567(0x10d),{'url':_0x2dde9e[_0x1e5567(0x12c)],'base64':_0x2dde9e[_0x1e5567(0x129)]});},this['listener'][_0x412919(0x130)]=_0x130d97=>{const _0x4c70a8=_0x412919;this[_0x4c70a8(0x11e)][_0x4c70a8(0x13d)](_0x130d97);};}[_0x1422e6(0x133)](){const _0x1639a8=_0x1422e6;return this['service'][_0x1639a8(0x133)]();}async[_0x1422e6(0x11d)](){const _0x1958bb=_0x1422e6;this[_0x1958bb(0x11a)][_0x1958bb(0x10f)]();}async[_0x1422e6(0x118)](_0x599c8a){const _0x28861c=_0x1422e6,_0x5d3c15={'DRQUX':function(_0x380b04,_0x10b9df){return _0x380b04!==_0x10b9df;},'OdXDb':_0x28861c(0x13c),'yHKAO':_0x28861c(0x112)},_0x31f6ef=await this[_0x28861c(0x133)]();if(_0x5d3c15[_0x28861c(0x109)](_0x31f6ef[_0x28861c(0x13f)],0x0))throw new Error(_0x5d3c15[_0x28861c(0x142)]);const _0x321a7f=_0x31f6ef[_0x28861c(0x124)][_0x28861c(0x121)](_0x5d4875=>_0x5d4875[_0x28861c(0x11c)]===_0x599c8a);if(!_0x321a7f||!_0x321a7f?.['isQuickLogin'])throw new Error(_0x28861c(0x106)+_0x599c8a+_0x28861c(0x12d));await sleep(0x3e8);const _0x2e7315=await this[_0x28861c(0x11a)]['quickLoginWithUin'](_0x599c8a);if(!_0x2e7315['result'])this[_0x28861c(0x11e)][_0x28861c(0x10c)](_0x5d3c15['yHKAO'],{'code':_0x2e7315[_0x28861c(0x13f)],'message':_0x2e7315[_0x28861c(0x136)][_0x28861c(0x131)]});}async[_0x1422e6(0x12e)](_0x18e80b,_0x33e621,_0x4574cd,_0x5b7439,_0x3a0e81){const _0x150999=_0x1422e6,_0xdd4466={'zpUrU':function(_0x2b356e,_0xf09aaa){return _0x2b356e&&_0xf09aaa;},'eEkvr':function(_0x4ea31f,_0x34d8a3){return _0x4ea31f||_0x34d8a3;},'kXnlh':function(_0x518340,_0x455543){return _0x518340||_0x455543;},'tFwxn':function(_0x3ae5eb,_0x31b4d9){return _0x3ae5eb(_0x31b4d9);},'pSWFU':_0x150999(0x114),'HMmLm':'system.login.slider','vkFWM':_0x150999(0x111),'RLNVT':_0x150999(0x112)},_0x3cdba4=_0x214085[_0x150999(0x137)](_0x150999(0x10e))['update'](_0x33e621)[_0x150999(0x11f)](_0x150999(0x138)),_0x9c527e={'uin':_0x18e80b,'passwordMd5':_0x3cdba4,'step':_0xdd4466[_0x150999(0x117)](_0x4574cd,_0x5b7439)&&_0x3a0e81?0x1:0x0,'newDeviceLoginSig':'','proofWaterSig':_0xdd4466[_0x150999(0x128)](_0x4574cd,''),'proofWaterRand':_0xdd4466[_0x150999(0x128)](_0x5b7439,''),'proofWaterSid':_0xdd4466[_0x150999(0x140)](_0x3a0e81,'')};await this[_0x150999(0x133)](),await _0xdd4466[_0x150999(0x12b)](sleep,0x3e8);const _0x3db0c7=await this['service'][_0x150999(0x107)](_0x9c527e);switch(_0x3db0c7['result']){case'0':{break;}case _0xdd4466[_0x150999(0x10a)]:{this[_0x150999(0x11e)][_0x150999(0x10c)](_0xdd4466[_0x150999(0x116)],{'url':_0x3db0c7[_0x150999(0x136)][_0x150999(0x141)]});break;}case'4':case _0xdd4466[_0x150999(0x10b)]:default:{this[_0x150999(0x11e)]['emit'](_0xdd4466['RLNVT'],{'code':_0x3db0c7[_0x150999(0x13f)],'message':_0x3db0c7[_0x150999(0x136)]['errMsg']});}}}}