const _0x47bc49=_0x5a6c;(function(_0x3d8817,_0xaf260e){const _0x4d0257=_0x5a6c,_0x4e3e65=_0x3d8817();while(!![]){try{const _0x210ac8=parseInt(_0x4d0257(0x111))/0x1*(parseInt(_0x4d0257(0x106))/0x2)+parseInt(_0x4d0257(0x119))/0x3*(-parseInt(_0x4d0257(0x108))/0x4)+parseInt(_0x4d0257(0x10e))/0x5*(parseInt(_0x4d0257(0x114))/0x6)+parseInt(_0x4d0257(0x11c))/0x7*(parseInt(_0x4d0257(0x10c))/0x8)+-parseInt(_0x4d0257(0x109))/0x9+parseInt(_0x4d0257(0x104))/0xa*(parseInt(_0x4d0257(0x107))/0xb)+-parseInt(_0x4d0257(0x11f))/0xc;if(_0x210ac8===_0xaf260e)break;else _0x4e3e65['push'](_0x4e3e65['shift']());}catch(_0x5a2d00){_0x4e3e65['push'](_0x4e3e65['shift']());}}}(_0x17ae,0x2faf9));function _0x17ae(){const _0x2406d9=['BtDtk','95466VaZxai','szYvP','then','statusText','getTime','11583VwelrV','isExpired','serverUrl','28ghhOab','http://napcat-sign.wumiao.wang:2082/rkey','json','5220036KiQJHv','10NlSEnJ','jWWpD','569666dthRPQ','2987589HZizWO','48KUVmvW','1872495uDhFbO','refreshRkey','fetchServerRkey','497448wnZXbL','获取rkey失败','25MgxANu','catch','getRkey','1PQHpJk','rkeyData'];_0x17ae=function(){return _0x2406d9;};return _0x17ae();}function _0x5a6c(_0x883cc3,_0x247154){const _0x17ae96=_0x17ae();return _0x5a6c=function(_0x5a6cc5,_0xb33e47){_0x5a6cc5=_0x5a6cc5-0x104;let _0x216fe1=_0x17ae96[_0x5a6cc5];return _0x216fe1;},_0x5a6c(_0x883cc3,_0x247154);}import{logError}from'@/common/utils/log';class RkeyManager{[_0x47bc49(0x11b)]='';[_0x47bc49(0x112)]={'group_rkey':'','private_rkey':'','expired_time':0x0};constructor(_0x43073a){this['serverUrl']=_0x43073a;}async[_0x47bc49(0x110)](){const _0x1e4c7c=_0x47bc49,_0x52c5cb={'Iprzc':_0x1e4c7c(0x10d)};if(this[_0x1e4c7c(0x11a)]())try{await this['refreshRkey']();}catch(_0x4152f5){logError(_0x52c5cb['Iprzc'],_0x4152f5);}return this[_0x1e4c7c(0x112)];}[_0x47bc49(0x11a)](){const _0x172a51=_0x47bc49,_0x3b1ed7={'jWWpD':function(_0x2de708,_0x765fa6){return _0x2de708/_0x765fa6;},'sxWSU':function(_0x30360e,_0x316310){return _0x30360e>_0x316310;}},_0x504e45=_0x3b1ed7[_0x172a51(0x105)](new Date()[_0x172a51(0x118)](),0x3e8);return _0x3b1ed7['sxWSU'](_0x504e45,this['rkeyData']['expired_time']);}async[_0x47bc49(0x10a)](){const _0x4e5ce3=_0x47bc49;this[_0x4e5ce3(0x112)]=await this[_0x4e5ce3(0x10b)]();}async[_0x47bc49(0x10b)](){const _0x3b0e00={'szYvP':function(_0x2b9d83,_0xbbdb13){return _0x2b9d83(_0xbbdb13);}};return new Promise((_0x50bcc2,_0x5ef06d)=>{const _0x4a0e78=_0x5a6c,_0x2de651={'BtDtk':function(_0x1bba31,_0x93ac94){return _0x3b0e00['szYvP'](_0x1bba31,_0x93ac94);},'mZZYO':function(_0x5cc33b,_0x4829bb){return _0x5cc33b(_0x4829bb);}};_0x3b0e00[_0x4a0e78(0x115)](fetch,this[_0x4a0e78(0x11b)])[_0x4a0e78(0x116)](_0x55ac45=>{const _0x3fc39b=_0x4a0e78;if(!_0x55ac45['ok'])return _0x3b0e00['szYvP'](_0x5ef06d,_0x55ac45[_0x3fc39b(0x117)]);return _0x55ac45[_0x3fc39b(0x11e)]();})['then'](_0x1ec2d5=>{const _0x1a7626=_0x4a0e78;_0x2de651[_0x1a7626(0x113)](_0x50bcc2,_0x1ec2d5);})[_0x4a0e78(0x10f)](_0x4723e3=>{_0x2de651['mZZYO'](_0x5ef06d,_0x4723e3);});});}}export const rkeyManager=new RkeyManager(_0x47bc49(0x11d));