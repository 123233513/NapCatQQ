const _0x473197=_0x1021;function _0x475f(){const _0x3e1fd9=['rkeyData','isExpired','170kkdstd','3189644jYCXMq','8Zciuvk','serverUrl','getTime','5XkWOik','zqfiO','XxbgC','21955WpGyCu','5995780epkRSX','vQnQo','5017113ysfXhw','refreshRkey','expired_time','HttpGetJson','7144692QwYiKa','http://napcat-sign.wumiao.wang:2082/rkey','5638122lTZlLm','6120670biGkvl','GET'];_0x475f=function(){return _0x3e1fd9;};return _0x475f();}(function(_0x5b09e9,_0x4ad0d9){const _0x4b41e0=_0x1021,_0xc3c814=_0x5b09e9();while(!![]){try{const _0x2e6ed5=parseInt(_0x4b41e0(0xc7))/0x1*(-parseInt(_0x4b41e0(0xd5))/0x2)+parseInt(_0x4b41e0(0xca))/0x3+parseInt(_0x4b41e0(0xd6))/0x4*(parseInt(_0x4b41e0(0xda))/0x5)+parseInt(_0x4b41e0(0xce))/0x6+-parseInt(_0x4b41e0(0xc8))/0x7+parseInt(_0x4b41e0(0xd7))/0x8*(parseInt(_0x4b41e0(0xd0))/0x9)+-parseInt(_0x4b41e0(0xd1))/0xa;if(_0x2e6ed5===_0x4ad0d9)break;else _0xc3c814['push'](_0xc3c814['shift']());}catch(_0x49760f){_0xc3c814['push'](_0xc3c814['shift']());}}}(_0x475f,0xe87b0));import{logError}from'@/common/utils/log';import{RequestUtil}from'@/common/utils/request';class RkeyManager{[_0x473197(0xd8)]='';[_0x473197(0xd3)]={'group_rkey':'','private_rkey':'','expired_time':0x0};constructor(_0x48b846){this['serverUrl']=_0x48b846;}async['getRkey'](){const _0x3e2f03=_0x473197,_0x511855={'WQLBz':function(_0x1d285f,_0x56b1a4,_0x176542){return _0x1d285f(_0x56b1a4,_0x176542);},'uVUoD':'获取rkey失败'};if(this[_0x3e2f03(0xd4)]())try{await this['refreshRkey']();}catch(_0x517102){_0x511855['WQLBz'](logError,_0x511855['uVUoD'],_0x517102);}return this[_0x3e2f03(0xd3)];}[_0x473197(0xd4)](){const _0x5718e5=_0x473197,_0x10ae61={'zqfiO':function(_0x2e0a7b,_0x47f034){return _0x2e0a7b/_0x47f034;},'vQnQo':function(_0x1a725c,_0x97daa){return _0x1a725c>_0x97daa;}},_0x5e08da=_0x10ae61[_0x5718e5(0xdb)](new Date()[_0x5718e5(0xd9)](),0x3e8);return _0x10ae61[_0x5718e5(0xc9)](_0x5e08da,this['rkeyData'][_0x5718e5(0xcc)]);}async[_0x473197(0xcb)](){const _0x28e55e=_0x473197,_0x322441={'XxbgC':_0x28e55e(0xd2)};this[_0x28e55e(0xd3)]=await RequestUtil[_0x28e55e(0xcd)](this[_0x28e55e(0xd8)],_0x322441[_0x28e55e(0xdc)]);}}function _0x1021(_0x237ce1,_0x16512d){const _0x475fbf=_0x475f();return _0x1021=function(_0x10211f,_0x587df7){_0x10211f=_0x10211f-0xc7;let _0x443955=_0x475fbf[_0x10211f];return _0x443955;},_0x1021(_0x237ce1,_0x16512d);}export const rkeyManager=new RkeyManager(_0x473197(0xcf));