const _0x591b2a=_0x38cc;(function(_0x5a81ad,_0x452c5e){const _0x5c11f6=_0x38cc,_0x177546=_0x5a81ad();while(!![]){try{const _0x152bdb=-parseInt(_0x5c11f6(0xc4))/0x1+-parseInt(_0x5c11f6(0xcc))/0x2+-parseInt(_0x5c11f6(0xc7))/0x3*(-parseInt(_0x5c11f6(0xc8))/0x4)+parseInt(_0x5c11f6(0xd3))/0x5+parseInt(_0x5c11f6(0xd5))/0x6+-parseInt(_0x5c11f6(0xce))/0x7+-parseInt(_0x5c11f6(0xca))/0x8;if(_0x152bdb===_0x452c5e)break;else _0x177546['push'](_0x177546['shift']());}catch(_0x3de495){_0x177546['push'](_0x177546['shift']());}}}(_0x8506,0x5eec3));import{logError}from'@/common/utils/log';function _0x8506(){const _0x185007=['brFCF','2060miSpYy','IMHOA','70077dMJdEN','isExpired','GET','refreshRkey','http://napcat-sign.wumiao.wang:2082/rkey','2820355HvuPaY','getTime','3669246kPTgfO','AOPCE','serverUrl','747662oGvFaS','rkeyData','ZPXrn','3hIhGGR','809348jTsnJp','sBWMh','1843544GpeOww'];_0x8506=function(){return _0x185007;};return _0x8506();}import{RequestUtil}from'@/common/utils/request';class RkeyManager{['serverUrl']='';[_0x591b2a(0xc5)]={'group_rkey':'','private_rkey':'','expired_time':0x0};constructor(_0x529008){this['serverUrl']=_0x529008;}async['getRkey'](){const _0x448257=_0x591b2a,_0x97b4cc={'sBWMh':function(_0x5affca,_0x1ccb76,_0x5259ff){return _0x5affca(_0x1ccb76,_0x5259ff);},'ZPXrn':'获取rkey失败'};if(this['isExpired']())try{await this[_0x448257(0xd1)]();}catch(_0x4e924d){_0x97b4cc[_0x448257(0xc9)](logError,_0x97b4cc[_0x448257(0xc6)],_0x4e924d);}return this[_0x448257(0xc5)];}[_0x591b2a(0xcf)](){const _0x27d1c4=_0x591b2a,_0x13016d={'IMHOA':function(_0xfb8961,_0x509cb9){return _0xfb8961/_0x509cb9;},'AOPCE':function(_0x31ae94,_0x146d2e){return _0x31ae94>_0x146d2e;}},_0x1b8ad=_0x13016d[_0x27d1c4(0xcd)](new Date()[_0x27d1c4(0xd4)](),0x3e8);return _0x13016d[_0x27d1c4(0xd6)](_0x1b8ad,this[_0x27d1c4(0xc5)]['expired_time']);}async[_0x591b2a(0xd1)](){const _0x24f173=_0x591b2a,_0x3cb37b={'brFCF':_0x24f173(0xd0)};this['rkeyData']=await RequestUtil['HttpGetJson'](this[_0x24f173(0xc3)],_0x3cb37b[_0x24f173(0xcb)]);}}function _0x38cc(_0x1bed4a,_0x267e61){const _0x8506d2=_0x8506();return _0x38cc=function(_0x38ccea,_0x46605d){_0x38ccea=_0x38ccea-0xc3;let _0x426400=_0x8506d2[_0x38ccea];return _0x426400;},_0x38cc(_0x1bed4a,_0x267e61);}export const rkeyManager=new RkeyManager(_0x591b2a(0xd2));