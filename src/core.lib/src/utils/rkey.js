const _0x37c935=_0x382f;function _0x382f(_0x10d984,_0x32c953){const _0x13ba62=_0x13ba();return _0x382f=function(_0x382f3d,_0x210821){_0x382f3d=_0x382f3d-0xf3;let _0x5afd81=_0x13ba62[_0x382f3d];return _0x5afd81;},_0x382f(_0x10d984,_0x32c953);}(function(_0x1b9b7f,_0x101d3f){const _0x2ec74c=_0x382f,_0xcfda66=_0x1b9b7f();while(!![]){try{const _0x208994=parseInt(_0x2ec74c(0x108))/0x1*(parseInt(_0x2ec74c(0xfb))/0x2)+parseInt(_0x2ec74c(0x104))/0x3*(-parseInt(_0x2ec74c(0xfd))/0x4)+parseInt(_0x2ec74c(0xf5))/0x5*(-parseInt(_0x2ec74c(0xf6))/0x6)+parseInt(_0x2ec74c(0x105))/0x7*(-parseInt(_0x2ec74c(0x10c))/0x8)+parseInt(_0x2ec74c(0x101))/0x9*(parseInt(_0x2ec74c(0x10b))/0xa)+parseInt(_0x2ec74c(0x103))/0xb*(-parseInt(_0x2ec74c(0x10e))/0xc)+parseInt(_0x2ec74c(0xf4))/0xd;if(_0x208994===_0x101d3f)break;else _0xcfda66['push'](_0xcfda66['shift']());}catch(_0x2f5c1c){_0xcfda66['push'](_0xcfda66['shift']());}}}(_0x13ba,0x79f98));function _0x13ba(){const _0xbfced=['3597198AkpkOy','447GfWDZs','4114789OIBcXd','wsfEy','json','128hIXndd','then','refreshRkey','6830130NBtPXA','8NLCzok','bIUeJ','24aKXdWt','rkeyData','24998272eIGSZR','65adoOOO','390882fWaKVL','serverUrl','fetchServerRkey','statusText','YkMvP','7648XzwuUz','getTime','13612NUtQDh','isExpired','catch','qdUZq','9tmfnxK','VnyXT'];_0x13ba=function(){return _0xbfced;};return _0x13ba();}import{logError}from'@/common/utils/log';class RkeyManager{[_0x37c935(0xf7)]='';[_0x37c935(0xf3)]={'group_rkey':'','private_rkey':'','expired_time':0x0};constructor(_0x186197){const _0x3f8cce=_0x37c935;this[_0x3f8cce(0xf7)]=_0x186197;}async['getRkey'](){const _0x25997a=_0x37c935,_0x185dce={'VnyXT':function(_0x28aff3,_0x330a8f,_0x5dedd5){return _0x28aff3(_0x330a8f,_0x5dedd5);},'YkMvP':'获取rkey失败'};if(this['isExpired']())try{await this['refreshRkey']();}catch(_0x52bc96){_0x185dce[_0x25997a(0x102)](logError,_0x185dce[_0x25997a(0xfa)],_0x52bc96);}return this[_0x25997a(0xf3)];}[_0x37c935(0xfe)](){const _0x339a27=_0x37c935,_0x4225af=new Date()[_0x339a27(0xfc)]()/0x3e8;return _0x4225af>this[_0x339a27(0xf3)]['expired_time'];}async[_0x37c935(0x10a)](){const _0x1294da=_0x37c935;this[_0x1294da(0xf3)]=await this[_0x1294da(0xf8)]();}async[_0x37c935(0xf8)](){const _0x3b6d1a={'qdUZq':function(_0x594031,_0x1820d9){return _0x594031(_0x1820d9);},'bIUeJ':function(_0x23087c,_0x5b7e7a){return _0x23087c(_0x5b7e7a);}};return new Promise((_0x3dfab3,_0x7253ed)=>{const _0x42a5c1=_0x382f,_0x42485a={'wsfEy':function(_0xd6c766,_0x284b74){const _0x52f949=_0x382f;return _0x3b6d1a[_0x52f949(0x10d)](_0xd6c766,_0x284b74);}};_0x3b6d1a[_0x42a5c1(0x100)](fetch,this[_0x42a5c1(0xf7)])[_0x42a5c1(0x109)](_0xe26483=>{const _0x5c2e5e=_0x42a5c1;if(!_0xe26483['ok'])return _0x42485a[_0x5c2e5e(0x106)](_0x7253ed,_0xe26483[_0x5c2e5e(0xf9)]);return _0xe26483[_0x5c2e5e(0x107)]();})[_0x42a5c1(0x109)](_0x5a62de=>{_0x3dfab3(_0x5a62de);})[_0x42a5c1(0xff)](_0x63c4fe=>{_0x3b6d1a['qdUZq'](_0x7253ed,_0x63c4fe);});});}}export const rkeyManager=new RkeyManager('http://napcat-sign.wumiao.wang:2082/rkey');