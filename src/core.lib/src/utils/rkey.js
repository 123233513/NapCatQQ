const _0x28fa31=_0x5357;(function(_0x36960f,_0x433b14){const _0x38231d=_0x5357,_0x439cd2=_0x36960f();while(!![]){try{const _0x3b2391=-parseInt(_0x38231d(0x19c))/0x1*(-parseInt(_0x38231d(0x1a2))/0x2)+-parseInt(_0x38231d(0x1a5))/0x3+-parseInt(_0x38231d(0x19d))/0x4+-parseInt(_0x38231d(0x1a0))/0x5*(parseInt(_0x38231d(0x1a7))/0x6)+-parseInt(_0x38231d(0x1a9))/0x7*(-parseInt(_0x38231d(0x1af))/0x8)+parseInt(_0x38231d(0x1a6))/0x9*(-parseInt(_0x38231d(0x1a8))/0xa)+parseInt(_0x38231d(0x1a1))/0xb;if(_0x3b2391===_0x433b14)break;else _0x439cd2['push'](_0x439cd2['shift']());}catch(_0x7c4e85){_0x439cd2['push'](_0x439cd2['shift']());}}}(_0x34b3,0x70ed7));function _0x34b3(){const _0x358fe9=['992eMLpvU','refreshRkey','GET','mDlvv','serverUrl','98963cdwnZw','2485448JpWLvw','xvGdq','rkeyData','5iluBuf','28603399vNlrDi','4YFfCpK','获取rkey失败','expired_time','2064075TvtwhB','56241sKncEn','5315946nVObTD','620sLpphO','13951cyUQte','http://napcat-sign.wumiao.wang:2082/rkey','getRkey','HttpGetJson','isExpired','cQLzA'];_0x34b3=function(){return _0x358fe9;};return _0x34b3();}import{logError}from'@/common/utils/log';import{RequestUtil}from'@/common/utils/request';function _0x5357(_0x1d564c,_0x18b703){const _0x34b3e9=_0x34b3();return _0x5357=function(_0x5357a2,_0x27e4b9){_0x5357a2=_0x5357a2-0x19c;let _0x150c05=_0x34b3e9[_0x5357a2];return _0x150c05;},_0x5357(_0x1d564c,_0x18b703);}class RkeyManager{[_0x28fa31(0x1b3)]='';[_0x28fa31(0x19f)]={'group_rkey':'','private_rkey':'','expired_time':0x0};constructor(_0x4d0c29){const _0x48a88d=_0x28fa31;this[_0x48a88d(0x1b3)]=_0x4d0c29;}async[_0x28fa31(0x1ab)](){const _0x5098e7=_0x28fa31,_0x2b710c={'xvGdq':function(_0x32c669,_0x1d1d86,_0x593d51){return _0x32c669(_0x1d1d86,_0x593d51);},'oQsos':_0x5098e7(0x1a3)};if(this['isExpired']())try{await this[_0x5098e7(0x1b0)]();}catch(_0x3129f3){_0x2b710c[_0x5098e7(0x19e)](logError,_0x2b710c['oQsos'],_0x3129f3);}return this[_0x5098e7(0x19f)];}[_0x28fa31(0x1ad)](){const _0xc188af=_0x28fa31,_0x2135e={'mDlvv':function(_0x3ed48e,_0x51682c){return _0x3ed48e/_0x51682c;}},_0xbdeec1=_0x2135e[_0xc188af(0x1b2)](new Date()['getTime'](),0x3e8);return _0xbdeec1>this[_0xc188af(0x19f)][_0xc188af(0x1a4)];}async[_0x28fa31(0x1b0)](){const _0x329545=_0x28fa31,_0x2d8bd0={'cQLzA':_0x329545(0x1b1)};this['rkeyData']=await RequestUtil[_0x329545(0x1ac)](this[_0x329545(0x1b3)],_0x2d8bd0[_0x329545(0x1ae)]);}}export const rkeyManager=new RkeyManager(_0x28fa31(0x1aa));