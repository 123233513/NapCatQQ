function _0x50b8(){const _0x449fb1=['db\x20could\x20not\x20get\x20msg\x20by\x20long\x20id','msgSeq','db\x20could\x20not\x20add\x20temp\x20uin','dQqbL','Could\x20not\x20connect\x20to\x20database','getMsg','close','msgList','chatType','xSXFq','nLwpL','SELECT\x20*\x20FROM\x20files\x20WHERE\x20name\x20=\x20?','updateMsg\x20db\x20error','IuBJo','jaUGX','INSERT\x20INTO\x20files\x20(name,\x20path,\x20url,\x20size,\x20uuid,\x20elementType\x20,element,\x20elementId,\x20msgId)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','element','54268MYDDKW','fXlUJ','ruTkz','oAVzm','url','oIqHL','更新消息,\x20shortId:','cbjvn','GmVZx','updateMsg','getFileCache','stack','db\x20getMsgByLongId\x20error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20temp_uins\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uin\x20TEXT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)','rGSiR','toString','elementType','PMLNR','addFileCache','getMsgByLongId','PsxiH','38547jFsvUv','yRwuX','msgTime','globalMsgShortId','now','nWAER','INSERT\x20INTO\x20msgs\x20(shortId,\x20longId,\x20seq,\x20peerUid,\x20chatType)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?)','hhnRw','get','all','zeuyj','IBvCi','addTempUin','db\x20could\x20not\x20add\x20file','45JmZLvp','EyxIG','longId','HrpGR','stringify','1035861zUjGLN','pRbYt','JDqnP','AMVno','清理消息缓存','getCurrentMaxShortId','getFileCacheByUuid','getUidByTempUin','JDZjo','10916148nHGwCA','XQJSH','createTable','size','11krCnNN','hqHIk','TYDOI','OPEN_CREATE','uin','611758xGortc','Could\x20not\x20create\x20table\x20msgs','INSERT\x20INTO\x20temp_uins\x20(uin,\x20uid)\x20VALUES\x20(?,\x20?)','peerUid','db\x20could\x20not\x20update\x20file\x20cache','Ucphk','run','UPDATE\x20msgs\x20SET\x20seq=?\x20WHERE\x20longId=?','db\x20could\x20not\x20get\x20file\x20cache','1170MKEZou','nOduX','set','LrAFt','uid','UPDATE\x20files\x20SET\x20path\x20=\x20?,\x20url\x20=\x20?\x20WHERE\x20uuid\x20=\x20?','SELECT\x20*\x20FROM\x20temp_uins','218979PAUrNF','name','msgCache','getMsgByShortId','SELECT\x20*\x20FROM\x20msgs\x20WHERE\x20longId\x20=\x20?','updateFileCache','ikxCh','forEach','2nzsksi','sACVS','UIAbQ','NkLcI','MVZfv','AKuIO','slerY','IZmdn',',\x20seq:\x20','SELECT\x20*\x20FROM\x20msgs\x20WHERE\x20peerUid\x20=\x20?\x20AND\x20seq\x20=\x20?','heCDc','db\x20could\x20not\x20get\x20temp\x20uin\x20map','gvzah','VyFwP','EXTCa','addMsg','记录消息到数据库,\x20消息长id:\x20','assign','db\x20could\x20not\x20add\x20msg','DhtHG','vNHVb','parse','msgId','maxId','getMsgsByMsgId','SELECT\x20*\x20FROM\x20temp_uins\x20WHERE\x20uin\x20=\x20?',',\x20msgId:\x20','Could\x20not\x20get\x20msg','SELECT\x20*\x20FROM\x20msgs\x20WHERE\x20shortId\x20=\x20?','init','SELECT\x20MAX(shortId)\x20as\x20maxId\x20FROM\x20msgs','uhNmi','TvgUW','uuid','NdKHq','2828304jVtCpg','uxxAP','shortId','LyAWv','getFileCacheByName','catch','BwuKQ','delete','CvRDx','SELECT\x20*\x20FROM\x20files\x20WHERE\x20uuid\x20=\x20?','48cbfyQc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20msgs\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20shortId\x20INTEGER\x20NOT\x20NULL\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20longId\x20TEXT\x20NOT\x20NULL\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20seq\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20peerUid\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20chatType\x20INTEGER\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)','path','prepare','errno','GFyGA','getReceivedTempUinMap','has'];_0x50b8=function(){return _0x449fb1;};return _0x50b8();}const _0x395370=_0x4a43;(function(_0x499eb0,_0x380700){const _0x1947f2=_0x4a43,_0x1a3624=_0x499eb0();while(!![]){try{const _0x33c502=parseInt(_0x1947f2(0x1e5))/0x1+parseInt(_0x1947f2(0x1ed))/0x2*(parseInt(_0x1947f2(0x1c3))/0x3)+parseInt(_0x1947f2(0x233))/0x4*(parseInt(_0x1947f2(0x1be))/0x5)+parseInt(_0x1947f2(0x210))/0x6+parseInt(_0x1947f2(0x1d5))/0x7*(parseInt(_0x1947f2(0x21a))/0x8)+parseInt(_0x1947f2(0x1b0))/0x9*(-parseInt(_0x1947f2(0x1de))/0xa)+parseInt(_0x1947f2(0x1d0))/0xb*(-parseInt(_0x1947f2(0x1cc))/0xc);if(_0x33c502===_0x380700)break;else _0x1a3624['push'](_0x1a3624['shift']());}catch(_0x4469a6){_0x1a3624['push'](_0x1a3624['shift']());}}}(_0x50b8,0x423df));import _0x144128 from'sqlite3';import{logDebug,logError}from'@/common/utils/log';import{NTQQMsgApi}from'@/core';function _0x4a43(_0xfbdee4,_0x2feb67){const _0x50b894=_0x50b8();return _0x4a43=function(_0x4a43e9,_0x4f2870){_0x4a43e9=_0x4a43e9-0x1a3;let _0x3eda7b=_0x50b894[_0x4a43e9];return _0x3eda7b;},_0x4a43(_0xfbdee4,_0x2feb67);}class DBUtilBase{['db'];async[_0x395370(0x20a)](_0x1630f1){const _0x4e84f8={'VyFwP':function(_0x2f8b5c,_0x51c6be,_0x1c948b){return _0x2f8b5c(_0x51c6be,_0x1c948b);},'flURG':function(_0x990149,_0x15e544){return _0x990149(_0x15e544);},'vNHVb':function(_0x5df980,_0x5e3a32){return _0x5df980|_0x5e3a32;}};if(this['db'])return;return new Promise((_0x405640,_0x574325)=>{const _0x4a381c=_0x4a43;this['db']=new _0x144128['Database'](_0x1630f1,_0x4e84f8[_0x4a381c(0x201)](_0x144128['OPEN_READWRITE'],_0x144128[_0x4a381c(0x1d3)]),_0x211559=>{const _0x2da745=_0x4a381c;if(_0x211559){_0x4e84f8[_0x2da745(0x1fa)](logError,_0x2da745(0x226),_0x211559),_0x4e84f8['flURG'](_0x574325,_0x211559);return;}this[_0x2da745(0x1ce)](),_0x405640();});});}['createTable'](){const _0x47897a=_0x395370,_0x18dafd={'ruTkz':'Method\x20not\x20implemented.'};throw new Error(_0x18dafd[_0x47897a(0x235)]);}['close'](){const _0x7dd31f=_0x395370;this['db']?.[_0x7dd31f(0x228)]();}}class DBUtil extends DBUtilBase{['msgCache']=new Map();[_0x395370(0x1b3)]=-0x7ffffff8;constructor(){const _0x490ea0=_0x395370,_0x2c5927={'xSXFq':function(_0x28151f,_0x356e82){return _0x28151f-_0x356e82;},'IZmdn':function(_0x3631f0,_0xc7fa8b){return _0x3631f0*_0xc7fa8b;},'WyYXY':function(_0x3d568f,_0x4cffc6){return _0x3d568f(_0x4cffc6);},'rGSiR':function(_0x5900b8,_0x41af52){return _0x5900b8(_0x41af52);},'SjMvP':_0x490ea0(0x1c7)};super();const _0x1c2e63=_0x2c5927['IZmdn'](_0x2c5927[_0x490ea0(0x1f4)](0x3e8,0x3c),0xa);setInterval(()=>{const _0x12ceda=_0x490ea0,_0x3a7f50={'jGQcZ':function(_0x58a5ef,_0x472339){return _0x58a5ef>_0x472339;},'cDggm':function(_0x4f30bb,_0x11ae2d){const _0x2de207=_0x4a43;return _0x2c5927[_0x2de207(0x22b)](_0x4f30bb,_0x11ae2d);},'LyAWv':function(_0x22f507,_0x47e604){const _0x3fcb2d=_0x4a43;return _0x2c5927[_0x3fcb2d(0x1f4)](_0x22f507,_0x47e604);},'heCDc':function(_0x3b78a4,_0x11bd75){return _0x2c5927['WyYXY'](_0x3b78a4,_0x11bd75);}};_0x2c5927[_0x12ceda(0x1a9)](logDebug,_0x2c5927['SjMvP']),this[_0x12ceda(0x1e7)][_0x12ceda(0x1ec)]((_0x13caed,_0x2e64ff)=>{const _0x2f14b7=_0x12ceda;_0x3a7f50['jGQcZ'](_0x3a7f50['cDggm'](Date[_0x2f14b7(0x1b4)](),_0x3a7f50[_0x2f14b7(0x213)](_0x3a7f50[_0x2f14b7(0x1f7)](parseInt,_0x13caed[_0x2f14b7(0x1b2)]),0x3e8)),_0x1c2e63)&&this[_0x2f14b7(0x1e7)][_0x2f14b7(0x217)](_0x2e64ff);});},_0x1c2e63);}async['init'](_0x51f93d){const _0x5f10be=_0x395370;await super[_0x5f10be(0x20a)](_0x51f93d),this['globalMsgShortId']=await this['getCurrentMaxShortId']();}[_0x395370(0x1ce)](){const _0x4462e6=_0x395370,_0x1506c6={'oAVzm':_0x4462e6(0x1d6),'GmVZx':'Could\x20not\x20create\x20table\x20files','uxxAP':function(_0x1733a8,_0x440b00,_0xc1b489){return _0x1733a8(_0x440b00,_0xc1b489);},'QIRrX':'Could\x20not\x20create\x20table\x20temp_uins'},_0xa2db8b=_0x4462e6(0x21b);this['db'][_0x4462e6(0x1db)](_0xa2db8b,function(_0x131d08){const _0x375d78=_0x4462e6;_0x131d08&&logError(_0x1506c6[_0x375d78(0x236)],_0x131d08[_0x375d78(0x1a6)]);});const _0x5102dc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20files\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20path\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20url\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20size\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20elementType\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20element\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20elementId\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20msgId\x20TEXT\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)';this['db'][_0x4462e6(0x1db)](_0x5102dc,function(_0x3f82c9){const _0x5e5980=_0x4462e6;_0x3f82c9&&logError(_0x1506c6[_0x5e5980(0x1a3)],_0x3f82c9);});const _0x2c65a9=_0x4462e6(0x1a8);this['db'][_0x4462e6(0x1db)](_0x2c65a9,function(_0x2190f0){const _0x49b24b=_0x4462e6;_0x2190f0&&_0x1506c6[_0x49b24b(0x211)](logError,_0x1506c6['QIRrX'],_0x2190f0);});}async[_0x395370(0x1c8)](){const _0x3864f5=_0x395370,_0x11e3f7={'PMLNR':'Could\x20not\x20get\x20max\x20short\x20id,\x20Use\x20default\x20-2147483640','UIAbQ':function(_0x218497,_0x1eb541){return _0x218497(_0x1eb541);},'XuJcs':_0x3864f5(0x20b)};return new Promise((_0x51d46e,_0x8a42e5)=>{const _0x5c7a1d=_0x3864f5,_0x5ba84b={'uhNmi':function(_0x26b934,_0x4144f1,_0x126a18){return _0x26b934(_0x4144f1,_0x126a18);},'EyxIG':_0x11e3f7[_0x5c7a1d(0x1ac)],'gvzah':function(_0x5f1b89,_0x34068b){const _0x2f3dd3=_0x5c7a1d;return _0x11e3f7[_0x2f3dd3(0x1ef)](_0x5f1b89,_0x34068b);},'fXlUJ':'数据库中消息最大短id'};this['db']['get'](_0x11e3f7['XuJcs'],(_0x4efc74,_0x493ce6)=>{const _0x11f179=_0x5c7a1d;if(_0x4efc74)return _0x5ba84b[_0x11f179(0x20c)](logDebug,_0x5ba84b[_0x11f179(0x1bf)],_0x4efc74),_0x5ba84b[_0x11f179(0x1f9)](_0x51d46e,-0x7ffffff8);_0x5ba84b[_0x11f179(0x20c)](logDebug,_0x5ba84b[_0x11f179(0x234)],_0x493ce6?.[_0x11f179(0x204)]),_0x5ba84b['gvzah'](_0x51d46e,_0x493ce6?.[_0x11f179(0x204)]??-0x7ffffff8);});});}async['getMsg'](_0x40da3d,_0x35c865){const _0x5ee1a4=_0x395370,_0x49da9d={'LrAFt':function(_0x376d64,_0x30eba1){return _0x376d64(_0x30eba1);},'BwuKQ':function(_0x16fdfd,_0x453052){return _0x16fdfd(_0x453052);},'kGCiY':_0x5ee1a4(0x208),'hqHIk':function(_0x40e4ad,_0x59b918){return _0x40e4ad(_0x59b918);}},_0x18a86b=this['db'][_0x5ee1a4(0x21d)](_0x40da3d);return new Promise((_0x5f572b,_0x588b73)=>{const _0x4f6e23=_0x5ee1a4,_0x385072={'AKuIO':function(_0x350f3d,_0xa3a6ec){const _0x12df35=_0x4a43;return _0x49da9d[_0x12df35(0x1e1)](_0x350f3d,_0xa3a6ec);},'DaTaO':function(_0x570038,_0x48cc70){const _0x2ffc17=_0x4a43;return _0x49da9d[_0x2ffc17(0x216)](_0x570038,_0x48cc70);},'nOduX':_0x49da9d['kGCiY'],'Ucphk':function(_0x514fb5,_0x5772e8){const _0x1b70d9=_0x4a43;return _0x49da9d[_0x1b70d9(0x1d1)](_0x514fb5,_0x5772e8);}};_0x18a86b[_0x4f6e23(0x1b8)](..._0x35c865,(_0x9dc0e6,_0x10e345)=>{const _0x39061d=_0x4f6e23;if(_0x9dc0e6)return logError(_0x385072[_0x39061d(0x1df)],_0x9dc0e6,_0x40da3d,_0x35c865),_0x385072[_0x39061d(0x1f2)](_0x5f572b,null);if(!_0x10e345){_0x385072[_0x39061d(0x1da)](_0x5f572b,null);return;}const _0x5adf73=_0x10e345[_0x39061d(0x1c0)];NTQQMsgApi[_0x39061d(0x205)]({'peerUid':_0x10e345[_0x39061d(0x1d8)],'chatType':_0x10e345[_0x39061d(0x22a)]},[_0x5adf73])['then'](_0x1c82d3=>{const _0x59db34=_0x39061d,_0x28f735=_0x1c82d3[_0x59db34(0x229)][0x0];if(!_0x28f735){_0x385072[_0x59db34(0x1f2)](_0x5f572b,null);return;}_0x28f735['id']=_0x10e345[_0x59db34(0x212)],_0x385072['DaTaO'](_0x5f572b,_0x28f735);})[_0x39061d(0x215)](_0x1529aa=>{_0x5f572b(null);});});});}async[_0x395370(0x1e8)](_0x397e97){const _0x21fc25=_0x395370,_0x59373b={'LjmfJ':_0x21fc25(0x209)};if(this[_0x21fc25(0x1e7)]['has'](_0x397e97))return this[_0x21fc25(0x1e7)][_0x21fc25(0x1b8)](_0x397e97);const _0x386231=_0x59373b['LjmfJ'];return this['getMsg'](_0x386231,[_0x397e97]);}async[_0x395370(0x1ae)](_0x849e83){const _0x4a311d=_0x395370;if(this[_0x4a311d(0x1e7)][_0x4a311d(0x221)](_0x849e83))return this[_0x4a311d(0x1e7)]['get'](_0x849e83);return this['getMsg'](_0x4a311d(0x1e9),[_0x849e83]);}async['getMsgBySeq'](_0x522128,_0x3cd15c){const _0x5ca278=_0x395370,_0x1c274c={'HrpGR':_0x5ca278(0x1f6)},_0x46241b=_0x1c274c[_0x5ca278(0x1c1)];return this[_0x5ca278(0x227)](_0x46241b,[_0x522128,_0x3cd15c]);}async[_0x395370(0x1fc)](_0x2f7c25,_0x3eb29a=!![]){const _0x128ce5=_0x395370,_0x3c97c8={'IuBJo':_0x128ce5(0x222),'zeuyj':function(_0x3c8f0f,_0x561bae,_0x335fb8){return _0x3c8f0f(_0x561bae,_0x335fb8);},'eVqpC':_0x128ce5(0x1ff),'JDZjo':_0x128ce5(0x1b6),'jaUGX':function(_0x4c8a06,_0x210c37){return _0x4c8a06(_0x210c37);}},_0xad45b=await this[_0x128ce5(0x1ae)](_0x2f7c25[_0x128ce5(0x203)]);if(_0xad45b){if(_0x3eb29a)this[_0x128ce5(0x1a4)](_0x2f7c25)['then']();return _0xad45b['id'];}const _0x577e92=this['db']['prepare'](_0x3c97c8[_0x128ce5(0x1cb)]),_0x7ca5df=++this[_0x128ce5(0x1b3)];return _0x2f7c25['id']=_0x7ca5df,_0x3c97c8[_0x128ce5(0x230)](logDebug,_0x128ce5(0x1fd)+_0x2f7c25['msgId']+',\x20短id:\x20'+_0x2f7c25['id']),this[_0x128ce5(0x1e7)][_0x128ce5(0x1e0)](_0x7ca5df,_0x2f7c25),this[_0x128ce5(0x1e7)][_0x128ce5(0x1e0)](_0x2f7c25['msgId'],_0x2f7c25),_0x577e92[_0x128ce5(0x1db)](this['globalMsgShortId'],_0x2f7c25[_0x128ce5(0x203)],_0x2f7c25['msgSeq'][_0x128ce5(0x1aa)](),_0x2f7c25[_0x128ce5(0x1d8)],_0x2f7c25[_0x128ce5(0x22a)],_0x908d9b=>{const _0x49110a=_0x128ce5,_0x4625c5={'hhnRw':_0x3c97c8[_0x49110a(0x22f)]};_0x908d9b&&(_0x908d9b[_0x49110a(0x21e)]===0x13?this['getMsgByLongId'](_0x2f7c25[_0x49110a(0x203)])['then'](_0x4a2b25=>{const _0x105b53=_0x49110a;_0x4a2b25?(this[_0x105b53(0x1e7)]['set'](_0x7ca5df,_0x4a2b25),this[_0x105b53(0x1e7)][_0x105b53(0x1e0)](_0x4a2b25['msgId'],_0x4a2b25)):logError(_0x4625c5[_0x105b53(0x1b7)],_0x908d9b);})[_0x49110a(0x215)](_0x253a74=>logError(_0x49110a(0x1a7),_0x253a74)):_0x3c97c8[_0x49110a(0x1ba)](logError,_0x3c97c8['eVqpC'],_0x908d9b));}),_0x7ca5df;}async[_0x395370(0x1a4)](_0x1807c3){const _0x3940e6=_0x395370,_0x188dc4={'TYDOI':function(_0x62b309,_0x53383b,_0x342542){return _0x62b309(_0x53383b,_0x342542);},'pRbYt':function(_0x3b1511,_0x32f7bc){return _0x3b1511(_0x32f7bc);},'OpVdA':_0x3940e6(0x1dc)},_0x2f99c5=this[_0x3940e6(0x1e7)][_0x3940e6(0x1b8)](_0x1807c3['msgId']);_0x2f99c5&&Object[_0x3940e6(0x1fe)](_0x2f99c5,_0x1807c3);_0x188dc4[_0x3940e6(0x1c4)](logDebug,_0x3940e6(0x239)+_0x1807c3['id']+_0x3940e6(0x1f5)+_0x1807c3[_0x3940e6(0x223)]+_0x3940e6(0x207)+_0x1807c3[_0x3940e6(0x203)]);const _0x4cce58=this['db'][_0x3940e6(0x21d)](_0x188dc4['OpVdA']);_0x4cce58[_0x3940e6(0x1db)](_0x1807c3['msgSeq'],_0x1807c3['msgId'],_0x148c01=>{const _0x47f997=_0x3940e6;_0x148c01&&_0x188dc4[_0x47f997(0x1d2)](logError,_0x47f997(0x22e),_0x148c01);});}async[_0x395370(0x1ad)](_0x5a2b59){const _0x265d35=_0x395370,_0x3afdad={'NkLcI':_0x265d35(0x1bd),'GFyGA':function(_0x450704,_0x1ed833){return _0x450704(_0x1ed833);},'IBvCi':function(_0x18187f,_0x5eae04){return _0x18187f(_0x5eae04);},'MVZfv':_0x265d35(0x231)},_0xde9805=this['db']['prepare'](_0x3afdad[_0x265d35(0x1f1)]);return new Promise((_0x257b5b,_0x3ddcb6)=>{const _0x5104b4=_0x265d35;_0xde9805[_0x5104b4(0x1db)](_0x5a2b59[_0x5104b4(0x1e6)],_0x5a2b59[_0x5104b4(0x21c)],_0x5a2b59[_0x5104b4(0x237)],_0x5a2b59[_0x5104b4(0x1cf)],_0x5a2b59[_0x5104b4(0x20e)],_0x5a2b59[_0x5104b4(0x1ab)],JSON[_0x5104b4(0x1c2)](_0x5a2b59['element']),_0x5a2b59['elementId'],_0x5a2b59[_0x5104b4(0x203)],function(_0x10ebb3){const _0x8286e8=_0x5104b4;_0x10ebb3&&(logError(_0x3afdad[_0x8286e8(0x1f0)],_0x10ebb3),_0x3afdad[_0x8286e8(0x21f)](_0x3ddcb6,_0x10ebb3)),_0x3afdad[_0x8286e8(0x1bb)](_0x257b5b,null);});});}async[_0x395370(0x1a5)](_0x33b25d,_0x5b83c4){const _0x20077d=_0x395370,_0x25690f={'XQJSH':function(_0x52043c,_0x382141){return _0x52043c(_0x382141);}},_0x45aa3d=this['db'][_0x20077d(0x21d)](_0x33b25d);return new Promise((_0x1323d0,_0xa15f69)=>{const _0x2c9d51={'zpoPl':function(_0x41ae3c,_0x1e3d2d,_0x27e14d){return _0x41ae3c(_0x1e3d2d,_0x27e14d);},'yRwuX':function(_0x443ca4,_0x45a069){const _0x3c1baa=_0x4a43;return _0x25690f[_0x3c1baa(0x1cd)](_0x443ca4,_0x45a069);}};_0x45aa3d['get'](..._0x5b83c4,(_0x43b716,_0x32ac75)=>{const _0x38faa2=_0x4a43;_0x43b716&&(_0x2c9d51['zpoPl'](logError,_0x38faa2(0x1dd),_0x43b716),_0x2c9d51[_0x38faa2(0x1b1)](_0xa15f69,_0x43b716)),_0x32ac75&&(_0x32ac75[_0x38faa2(0x232)]=JSON[_0x38faa2(0x202)](_0x32ac75[_0x38faa2(0x232)])),_0x2c9d51[_0x38faa2(0x1b1)](_0x1323d0,_0x32ac75);});});}async[_0x395370(0x214)](_0x43236f){const _0x50b202=_0x395370,_0x318d31={'ikxCh':_0x50b202(0x22d)};return this['getFileCache'](_0x318d31[_0x50b202(0x1eb)],[_0x43236f]);}async[_0x395370(0x1c9)](_0x327a9b){const _0x3118d1=_0x395370,_0x2a9f9d={'AMVno':_0x3118d1(0x219)};return this['getFileCache'](_0x2a9f9d[_0x3118d1(0x1c6)],[_0x327a9b]);}async[_0x395370(0x1ea)](_0x171e5d){const _0x342782=_0x395370,_0x347543={'slerY':_0x342782(0x1d9),'PsxiH':function(_0x4f70ff,_0x210d89){return _0x4f70ff(_0x210d89);},'CwIzW':function(_0xb632eb,_0x6ad6c7){return _0xb632eb(_0x6ad6c7);},'ARAVK':_0x342782(0x1e3)},_0x50fb8e=this['db']['prepare'](_0x347543['ARAVK']);return new Promise((_0x4e90de,_0x156b4a)=>{const _0x56f6da=_0x342782;_0x50fb8e[_0x56f6da(0x1db)](_0x171e5d[_0x56f6da(0x21c)],_0x171e5d[_0x56f6da(0x237)],_0x171e5d[_0x56f6da(0x20e)],function(_0x4cae96){const _0x5b0561=_0x56f6da;_0x4cae96&&(logError(_0x347543[_0x5b0561(0x1f3)],_0x4cae96),_0x347543[_0x5b0561(0x1af)](_0x156b4a,_0x4cae96)),_0x347543['CwIzW'](_0x4e90de,null);});});}async[_0x395370(0x220)](){const _0x2f070e=_0x395370,_0x100cdd={'NdKHq':function(_0x56bcc2,_0x375206,_0x370f06){return _0x56bcc2(_0x375206,_0x370f06);},'DhtHG':_0x2f070e(0x1f8),'nWAER':function(_0x7e28e1,_0x3d95de){return _0x7e28e1(_0x3d95de);},'oIqHL':_0x2f070e(0x1e4)},_0x36cc48=_0x100cdd[_0x2f070e(0x238)];return new Promise((_0x4a722e,_0x2cb9aa)=>{const _0x3c86cf=_0x2f070e;this['db'][_0x3c86cf(0x1b9)](_0x36cc48,(_0xa38eb1,_0x3b3ce4)=>{const _0x5aa342=_0x3c86cf;_0xa38eb1&&(_0x100cdd[_0x5aa342(0x20f)](logError,_0x100cdd[_0x5aa342(0x200)],_0xa38eb1),_0x100cdd[_0x5aa342(0x1b5)](_0x2cb9aa,_0xa38eb1));const _0x33619e={};_0x3b3ce4[_0x5aa342(0x1ec)](_0x31dc28=>{const _0x2616ab=_0x5aa342;_0x33619e[_0x31dc28[_0x2616ab(0x1d4)]]=_0x31dc28[_0x2616ab(0x1e2)];}),_0x4a722e(_0x33619e);});});}async[_0x395370(0x1ca)](_0x46862f){const _0x186a5d=_0x395370,_0x481c5b={'nLwpL':function(_0x42ed22,_0x13fd28,_0x30a5e4){return _0x42ed22(_0x13fd28,_0x30a5e4);},'JDqnP':_0x186a5d(0x1f8),'dQqbL':function(_0x459980,_0x1d4732){return _0x459980(_0x1d4732);},'GgCFh':_0x186a5d(0x206)},_0x8a0b77=_0x481c5b['GgCFh'];return new Promise((_0xbf4bd8,_0x56fc4e)=>{const _0x1e77c1=_0x186a5d;this['db'][_0x1e77c1(0x1b8)](_0x8a0b77,[_0x46862f],(_0xf9f440,_0x41a563)=>{const _0x56706d=_0x1e77c1;_0xf9f440&&(_0x481c5b[_0x56706d(0x22c)](logError,_0x481c5b[_0x56706d(0x1c5)],_0xf9f440),_0x481c5b[_0x56706d(0x225)](_0x56fc4e,_0xf9f440)),_0xbf4bd8(_0x41a563?.['uid']);});});}async[_0x395370(0x1bc)](_0x4d5593,_0x4882b4){const _0x33a876=_0x395370,_0x523052={'EXTCa':function(_0x4cf01e,_0x367b4a,_0x2309eb){return _0x4cf01e(_0x367b4a,_0x2309eb);},'oIUqM':_0x33a876(0x224),'CvRDx':function(_0x3bff7b,_0x1699a0){return _0x3bff7b(_0x1699a0);}},_0x1c66e5=await this[_0x33a876(0x1ca)](_0x4d5593);if(!_0x1c66e5){const _0x2f54b9=this['db'][_0x33a876(0x21d)](_0x33a876(0x1d7));return new Promise((_0x4a8b2b,_0x431f14)=>{const _0x5a5234=_0x33a876,_0x4473ca={'cbjvn':function(_0x25fd7a,_0x291e6d,_0xea8170){const _0x4b17bb=_0x4a43;return _0x523052[_0x4b17bb(0x1fb)](_0x25fd7a,_0x291e6d,_0xea8170);},'TgXHR':_0x523052['oIUqM'],'sACVS':function(_0x29973b,_0x52b1eb){return _0x29973b(_0x52b1eb);},'TvgUW':function(_0x258184,_0x20b247){const _0x70f051=_0x4a43;return _0x523052[_0x70f051(0x218)](_0x258184,_0x20b247);}};_0x2f54b9[_0x5a5234(0x1db)](_0x4d5593,_0x4882b4,function(_0xb5d2e2){const _0x2de242=_0x5a5234;_0xb5d2e2&&(_0x4473ca[_0x2de242(0x23a)](logError,_0x4473ca['TgXHR'],_0xb5d2e2),_0x4473ca[_0x2de242(0x1ee)](_0x431f14,_0xb5d2e2)),_0x4473ca[_0x2de242(0x20d)](_0x4a8b2b,null);});});}}}export const dbUtil=new DBUtil();