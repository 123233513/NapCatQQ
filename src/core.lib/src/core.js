function _0x5e4d(_0x946e3f,_0x380a00){const _0x2eb576=_0x2eb5();return _0x5e4d=function(_0x5e4d77,_0x463cb4){_0x5e4d77=_0x5e4d77-0x1da;let _0x5c304c=_0x2eb576[_0x5e4d77];return _0x5c304c;},_0x5e4d(_0x946e3f,_0x380a00);}const _0x3e7068=_0x5e4d;(function(_0x178737,_0x375839){const _0x3e4351=_0x5e4d,_0x3d0988=_0x178737();while(!![]){try{const _0x1301e0=-parseInt(_0x3e4351(0x234))/0x1*(parseInt(_0x3e4351(0x22d))/0x2)+parseInt(_0x3e4351(0x1ff))/0x3+parseInt(_0x3e4351(0x222))/0x4+parseInt(_0x3e4351(0x25c))/0x5*(parseInt(_0x3e4351(0x28a))/0x6)+parseInt(_0x3e4351(0x1df))/0x7*(parseInt(_0x3e4351(0x242))/0x8)+parseInt(_0x3e4351(0x255))/0x9*(parseInt(_0x3e4351(0x266))/0xa)+-parseInt(_0x3e4351(0x22f))/0xb;if(_0x1301e0===_0x375839)break;else _0x3d0988['push'](_0x3d0988['shift']());}catch(_0x469e06){_0x3d0988['push'](_0x3d0988['shift']());}}}(_0x2eb5,0x80832));import _0x57b2d2 from'@/core/wrapper';import{BuddyListener,GroupListener,LoginListener,MsgListener,ProfileListener,SessionListener}from'@/core/listeners';import{DependsAdapter,DispatcherAdapter,GlobalAdapter}from'@/core/adapters';import _0x44700e from'node:path';import _0x3a63bb from'node:os';import _0x701074 from'node:fs';import{appid,qqVersionConfigInfo}from'@/common/utils/QQBasicInfo';function _0x2eb5(){const _0x13aacf=['md5','3542408gDTWur','140022013','updateMsg','addKernelLoginListener','-v2.db','woxvv','createMemberListScene','NsDHz','JLzcG','ilviG','initWithDeskTopConfig','2kwfBeg','fileLog','22187572ZUOClu','NodeIKernelSessionListener','quickLogin','LfiTZ','push','347375zNMmLE','TnLDi','HOlwt','UFsJA',')已登录,无法重复登录','EQNIv','groupCode','find','hEIcZ','fileLogLevel','groupMemberList_MainWindow','数据库初始化失败','eFYjr','constructor','2712zRvSUN','infos','initSession','NodeIGlobalAdapter','onQRCodeGetPicture','then','ZeLJI','onMemberListChange','getNTUserDataInfoConfig','udSVQ','jJrIW','update','forEach','stringify','passwordLogin','init','jjtzd','本账号数据/缓存目录：','onKickedOffLine','18yfvkkR','VAxld','QZWhG','buddyList','catch','YaFky','getQRCodePicture','1895vofBch','clientType','onBuddyListChange','digest','floor','onLoginFailed','dataPath','onLineDev','util','ProfileListener','503800SdUBox','consoleLog','qrcodeUrl','NodeIKernelMsgListener','addKernelMsgListener','getGroupService','GroupListener','NodeQQNTWrapperUtil','NodeIKernelLoginService','has','FxZBs','mkdirSync','loginService','qrLogin','homedir','session','base64','getNextMemberList','tipsTitle','addKernelProfileListener','当前账号(','replace','uQKNf','packet_received','没有可快速登录的QQ号','addMsg','CniIv','uin','xZGwj','engine','message_received','undefined','登录失败','last_message_time','JKOxS','bFsNk','15954TsQRsd','get','lTeaD','Mdeto','KFGKr','assign','gaRet','loginErrorInfo','onGroupListUpdate','tipsDesc','onSelfStatusChanged','BEZyw','hex','ehZHj','loginListener','onMsgInfoListUpdate','onProfileDetailInfoChanged','name','length','2065JSNQRS','Windows\x2010\x20Pro','initSession\x20failed','devUid','AZKAv','jVuJK','\x20has\x20no\x20method\x20','klKgt','NodeIKernelProfileListener','quickLoginWithUin','aLBFN','MMdbZ','set','getLoginList','NodeIDependsAdapter','delete','RoDLU','./nt_qq/global','onLoginSuccess','read','onQRCodeSessionFailed','IooOT','map','QFrud','onRecvSysMsg','errMsg','[KickedOffLine]\x20[','yQMfp','ajoNM','NodeIKernelLoginListener','NodeIDispatcherAdapter','ifOJR','2390055lHzdfg','dataPathGlobal','140022008','VfIKD','initConfig','getBuddyList','split','resolve','getMsgService','initDataListener','curVersion','GJQCZ','result','getMsgByLongId','onAddSendMsg','getBuddyService','addListener','BuddyListener','createHash','consoleLogLevel','korXF','pngBase64QrcodeData','PKifI','recallTime','JaIpt','isQuickLogin','fyYFs','NodeIKernelGroupListener','IypCf','_GW_B','onLoginSuccessFuncList','uid','sceneId','proxyHandler'];_0x2eb5=function(){return _0x13aacf;};return _0x2eb5();}import{hostname,systemVersion}from'@/common/utils/system';import{genSessionConfig}from'@/core/sessionConfig';import{dbUtil}from'@/core/utils/db';import{sleep}from'@/common/utils/helper';import _0x157d1f from'node:crypto';import{rawFriends,friends,groupMembers,groups,selfInfo,stat,uid2UinMap}from'@/core/data';import{enableConsoleLog,enableFileLog,log,logDebug,logError,setLogLevel,setLogSelfInfo}from'@/common/utils/log';import{napCatConfig}from'@/core/utils/config';export class NapCatCore{[_0x3e7068(0x275)];[_0x3e7068(0x264)];[_0x3e7068(0x283)];[_0x3e7068(0x1da)];[_0x3e7068(0x272)];[_0x3e7068(0x21d)]=[];[_0x3e7068(0x220)]={'get'(target,prop,receiver){const _0x495182=_0x3e7068,HzkQUZ={'IypCf':function(callee,param1){return callee(param1);},'iyVvB':function(x,y){return x===y;},'VfIKD':_0x495182(0x285)};if(HzkQUZ['iyVvB'](typeof target[prop],HzkQUZ[_0x495182(0x202)]))return(...args)=>{const _0x2f5d1f=_0x495182;HzkQUZ[_0x2f5d1f(0x21b)](logDebug,target[_0x2f5d1f(0x241)]['name']+_0x2f5d1f(0x1e5)+prop);};return Reflect[_0x495182(0x28b)](target,prop,receiver);}};constructor(){const _0x187154=_0x3e7068,_0xaab205={'ifOJR':function(_0x719038,_0x6a658a){return _0x719038+_0x6a658a;},'BEZyw':function(_0x489b74,_0x468077){return _0x489b74+_0x468077;},'JaIpt':_0x187154(0x27a),'ajoNM':_0x187154(0x238),'ilviG':function(_0x3464e6,_0x32cffc,_0x225b90){return _0x3464e6(_0x32cffc,_0x225b90);},'korXF':_0x187154(0x1e1),'DCLFH':_0x187154(0x23f),'pJeNQ':function(_0x3bb2c0,_0x518fe1){return _0x3bb2c0(_0x518fe1);},'PKifI':'./NapCat/data','yQMfp':_0x187154(0x253),'udSVQ':_0x187154(0x286),'JLzcG':function(_0x300bf7,_0x162beb){return _0x300bf7==_0x162beb;},'RHQJU':function(_0x44b737,_0x2f22e9){return _0x44b737==_0x2f22e9;}};this[_0x187154(0x283)]=new _0x57b2d2['NodeIQQNTWrapperEngine'](),this[_0x187154(0x264)]=new _0x57b2d2[(_0x187154(0x26d))](),this[_0x187154(0x272)]=new _0x57b2d2[(_0x187154(0x26e))](),this[_0x187154(0x275)]=new _0x57b2d2['NodeIQQNTWrapperSession'](),this[_0x187154(0x1da)]=new LoginListener(),this[_0x187154(0x1da)]['onUserLoggedIn']=_0x41d88e=>{const _0x54598e=_0x187154;logError(_0xaab205[_0x54598e(0x1fe)](_0xaab205[_0x54598e(0x295)](_0xaab205[_0x54598e(0x217)],_0x41d88e),_0xaab205[_0x54598e(0x1fb)]));},this[_0x187154(0x1da)]['onQRCodeLoginSucceed']=_0x4f34e1=>{const _0x11d554=_0x187154,_0x30d9a6={'fyYFs':function(_0x52f1b3,_0x325e81,_0x547347){const _0x721bc=_0x5e4d;return _0xaab205[_0x721bc(0x22b)](_0x52f1b3,_0x325e81,_0x547347);},'Mdeto':function(_0x2c59d1,_0x67066c){return _0x2c59d1 instanceof _0x67066c;},'QaEVm':function(_0x4d91c4,_0xa423a5,_0x134533){return _0x4d91c4(_0xa423a5,_0x134533);},'AZKAv':_0xaab205['DCLFH'],'DwLOe':function(_0x40c6a9,_0x52a2fe){return _0xaab205['pJeNQ'](_0x40c6a9,_0x52a2fe);},'lTeaD':_0xaab205[_0x11d554(0x215)],'CniIv':function(_0x1d7057,_0x4f4a83,_0x139479){return _0xaab205['ilviG'](_0x1d7057,_0x4f4a83,_0x139479);},'VAxld':_0xaab205[_0x11d554(0x1fa)]};this[_0x11d554(0x244)](_0x4f34e1[_0x11d554(0x281)],_0x4f34e1[_0x11d554(0x21e)])['then'](_0x22212f=>{const _0x578b76=_0x11d554,_0x4fc762={'YaFky':function(_0x112ec3,_0x527a58,_0x5d3d1b){return _0x30d9a6['QaEVm'](_0x112ec3,_0x527a58,_0x5d3d1b);},'hEIcZ':_0x30d9a6[_0x578b76(0x1e3)]};selfInfo[_0x578b76(0x281)]=_0x4f34e1[_0x578b76(0x281)],selfInfo[_0x578b76(0x21e)]=_0x4f34e1[_0x578b76(0x21e)],napCatConfig[_0x578b76(0x1f2)](),setLogLevel(napCatConfig[_0x578b76(0x23d)],napCatConfig[_0x578b76(0x212)]),enableFileLog(napCatConfig[_0x578b76(0x22e)]),enableConsoleLog(napCatConfig[_0x578b76(0x267)]),_0x30d9a6['DwLOe'](setLogSelfInfo,selfInfo);const _0x56036d=_0x44700e[_0x578b76(0x206)](this['dataPath'],_0x30d9a6[_0x578b76(0x28c)]);_0x701074['mkdirSync'](_0x56036d,{'recursive':!![]}),_0x30d9a6[_0x578b76(0x280)](logDebug,_0x30d9a6[_0x578b76(0x256)],_0x56036d),dbUtil[_0x578b76(0x251)](_0x44700e[_0x578b76(0x206)](_0x56036d,'./'+_0x4f34e1[_0x578b76(0x281)]+_0x578b76(0x226)))[_0x578b76(0x247)](()=>{const _0x16ada4=_0x578b76,_0x4335fb={'ehZHj':function(_0x1a812c,_0x2f7f86,_0x3202fe){const _0x566cc9=_0x5e4d;return _0x30d9a6[_0x566cc9(0x219)](_0x1a812c,_0x2f7f86,_0x3202fe);},'NsDHz':function(_0x3b989f,_0xb6039d){const _0x232030=_0x5e4d;return _0x30d9a6[_0x232030(0x28d)](_0x3b989f,_0xb6039d);}};this[_0x16ada4(0x208)](),this[_0x16ada4(0x21d)][_0x16ada4(0x1f5)](_0x59ec48=>{const _0x1a755a=_0x16ada4;new Promise((_0x4e018e,_0x1b1504)=>{const _0x5e8f16=_0x5e4d,_0x1e7523=_0x4335fb[_0x5e8f16(0x297)](_0x59ec48,_0x4f34e1[_0x5e8f16(0x281)],_0x4f34e1[_0x5e8f16(0x21e)]);_0x4335fb[_0x5e8f16(0x229)](_0x1e7523,Promise)&&_0x1e7523['then'](_0x4e018e)['catch'](_0x1b1504);})[_0x1a755a(0x247)]();});})[_0x578b76(0x259)](_0x286af5=>{const _0x2da01b=_0x578b76;_0x4fc762[_0x2da01b(0x25a)](logError,_0x4fc762[_0x2da01b(0x23c)],_0x286af5);});})[_0x11d554(0x259)](_0x395a3d=>{const _0x553426=_0x11d554;_0xaab205[_0x553426(0x22b)](logError,_0xaab205[_0x553426(0x213)],_0x395a3d);throw new Error('启动失败:\x20'+JSON[_0x553426(0x24f)](_0x395a3d));});},this['loginListener'][_0x187154(0x1f3)]=(_0x2354a7,_0x3497d2,_0xae8e10)=>{const _0x34b0d7=_0x187154;_0xaab205[_0x34b0d7(0x22b)](logError,_0xaab205[_0x34b0d7(0x24b)],_0xae8e10),_0xaab205[_0x34b0d7(0x22a)](_0x2354a7,0x1)&&_0xaab205['RHQJU'](_0x3497d2,0x3)&&this[_0x34b0d7(0x272)]['getQRCodePicture']();},this[_0x187154(0x1da)][_0x187154(0x261)]=_0x1a3888=>{logError(_0xaab205['udSVQ'],_0x1a3888);},this[_0x187154(0x1da)]=new Proxy(this['loginListener'],this[_0x187154(0x220)]),this[_0x187154(0x272)][_0x187154(0x225)](new _0x57b2d2[(_0x187154(0x1fc))](this[_0x187154(0x1da)])),this[_0x187154(0x203)]();}get[_0x3e7068(0x262)](){const _0x2c5d22=_0x3e7068,_0x2d90c6={'GJQCZ':'./.config/QQ'};let _0x5060cf=this[_0x2c5d22(0x264)][_0x2c5d22(0x24a)]();return!_0x5060cf&&(_0x5060cf=_0x44700e[_0x2c5d22(0x206)](_0x3a63bb[_0x2c5d22(0x274)](),_0x2d90c6[_0x2c5d22(0x20a)]),_0x701074[_0x2c5d22(0x271)](_0x5060cf,{'recursive':!![]})),_0x5060cf;}get[_0x3e7068(0x200)](){const _0x1e76a9=_0x3e7068;return _0x44700e[_0x1e76a9(0x206)](this[_0x1e76a9(0x262)],_0x1e76a9(0x1f0));}['initConfig'](){const _0x289dd7=_0x3e7068;this[_0x289dd7(0x283)][_0x289dd7(0x22c)]({'base_path_prefix':'','platform_type':0x3,'app_type':0x4,'app_version':qqVersionConfigInfo[_0x289dd7(0x209)],'os_version':_0x289dd7(0x1e0),'use_xlog':!![],'qua':'V1_WIN_NQ_'+qqVersionConfigInfo[_0x289dd7(0x209)][_0x289dd7(0x27b)]('-','_')+_0x289dd7(0x21c),'global_path_config':{'desktopGlobalPath':this['dataPathGlobal']},'thumb_config':{'maxSide':0x144,'minSide':0x30,'longLimit':0x6,'density':0x2}},new _0x57b2d2[(_0x289dd7(0x245))](new GlobalAdapter())),this[_0x289dd7(0x272)][_0x289dd7(0x203)]({'machineId':'','appid':appid,'platVer':systemVersion,'commonPath':this[_0x289dd7(0x200)],'clientVer':qqVersionConfigInfo['curVersion'],'hostName':hostname});}[_0x3e7068(0x244)](_0x97cf05,_0x12035f){const _0x5d7640={'FxZBs':function(_0x4ec49f,_0x230df6){return _0x4ec49f(_0x230df6);},'IooOT':function(_0x6085e8,_0x3d657b,_0x136528,_0x4b5651){return _0x6085e8(_0x3d657b,_0x136528,_0x4b5651);},'jjtzd':function(_0x5f166b,_0x32ddf3){return _0x5f166b+_0x32ddf3;},'JKOxS':'init\x20failed\x20'};return new Promise((_0xe0bb8e,_0xca7219)=>{const _0x1ce56f=_0x5e4d,_0x1c5131={'YmVXc':function(_0x4ce6e6,_0x518039){return _0x4ce6e6===_0x518039;},'ZeLJI':function(_0x4ef08b,_0x46be7a){const _0x230496=_0x5e4d;return _0x5d7640[_0x230496(0x270)](_0x4ef08b,_0x46be7a);}},_0x4a40be=_0x5d7640[_0x1ce56f(0x1f4)](genSessionConfig,_0x97cf05,_0x12035f,this[_0x1ce56f(0x262)]),_0x370e87=new SessionListener();_0x370e87['onSessionInitComplete']=_0x40c171=>{const _0x3987e5=_0x1ce56f;if(_0x1c5131['YmVXc'](_0x40c171,0x0))return _0xe0bb8e(0x0);_0x1c5131[_0x3987e5(0x248)](_0xca7219,_0x40c171);},this['session'][_0x1ce56f(0x251)](_0x4a40be,new _0x57b2d2[(_0x1ce56f(0x1ed))](new DependsAdapter()),new _0x57b2d2[(_0x1ce56f(0x1fd))](new DispatcherAdapter()),new _0x57b2d2[(_0x1ce56f(0x230))](_0x370e87));try{this[_0x1ce56f(0x275)]['startNT'](0x0);}catch(_0x33d6b3){try{this[_0x1ce56f(0x275)]['startNT']();}catch(_0x9a0440){_0x5d7640[_0x1ce56f(0x270)](_0xca7219,_0x5d7640[_0x1ce56f(0x252)](_0x5d7640[_0x1ce56f(0x288)],_0x9a0440));}}});}[_0x3e7068(0x208)](){const _0x300dd5=_0x3e7068,_0x5b71a0={'RoDLU':function(_0x45afca,_0x17b6c2){return _0x45afca===_0x17b6c2;},'WhUeb':'账号设备(','bFsNk':')\x20在线状态变更','UFsJA':function(_0x4954d7,_0x2f4a38){return _0x4954d7(_0x2f4a38);},'eFYjr':function(_0x5bfabb,_0x669019){return _0x5bfabb+_0x669019;},'spIEv':_0x300dd5(0x1f9),'MMdbZ':function(_0xb69dfe,_0x309d02){return _0xb69dfe===_0x309d02;},'QFrud':function(_0x5384f3,_0x3f3d77){return _0x5384f3/_0x3f3d77;},'ccwsK':function(_0x10c56c,_0x4e4a46){return _0x10c56c===_0x4e4a46;},'YXysS':_0x300dd5(0x23e),'TnLDi':function(_0x2810d1,_0x41703c,_0x3fc312){return _0x2810d1(_0x41703c,_0x3fc312);}},_0x3982d1=new MsgListener();_0x3982d1[_0x300dd5(0x263)]=_0x5a4660=>{const _0x539cf3=_0x300dd5,_0x1a5b42={'yxHiO':function(_0x2175b0,_0x25e8e8){const _0x51aec9=_0x5e4d;return _0x5b71a0[_0x51aec9(0x1ef)](_0x2175b0,_0x25e8e8);},'HOlwt':function(_0xfbac7e,_0x25e1a2){return _0xfbac7e+_0x25e1a2;},'EQNIv':_0x5b71a0['WhUeb'],'LfiTZ':_0x5b71a0[_0x539cf3(0x289)]};_0x5a4660[_0x539cf3(0x1f5)](_0x58fae6=>{const _0xeaaf18=_0x539cf3;_0x1a5b42['yxHiO'](_0x58fae6[_0xeaaf18(0x25d)],0x2)&&log(_0x1a5b42[_0xeaaf18(0x236)](_0x1a5b42[_0xeaaf18(0x239)],_0x58fae6[_0xeaaf18(0x1e2)])+_0x1a5b42[_0xeaaf18(0x232)]);});},_0x3982d1[_0x300dd5(0x254)]=_0x4b772b=>{const _0x227a38=_0x300dd5;_0x5b71a0[_0x227a38(0x237)](log,_0x5b71a0[_0x227a38(0x240)](_0x5b71a0['eFYjr'](_0x5b71a0[_0x227a38(0x240)](_0x5b71a0['spIEv'],_0x4b772b[_0x227a38(0x278)]),']\x20'),_0x4b772b[_0x227a38(0x293)]));},_0x3982d1[_0x300dd5(0x1db)]=_0x5f249c=>{const _0x5c49a7=_0x300dd5;stat[_0x5c49a7(0x27d)]+=0x1,_0x5f249c['map'](_0x34dcc0=>{const _0x135e0e=_0x5c49a7;_0x5b71a0[_0x135e0e(0x1ea)](_0x34dcc0[_0x135e0e(0x216)],'0')?dbUtil[_0x135e0e(0x27f)](_0x34dcc0)['then']()['catch']():dbUtil[_0x135e0e(0x20c)](_0x34dcc0['msgId'])[_0x135e0e(0x247)](_0x1d6141=>{const _0x2210c5=_0x135e0e;_0x1d6141&&(_0x1d6141[_0x2210c5(0x216)]=_0x34dcc0[_0x2210c5(0x216)],dbUtil[_0x2210c5(0x224)](_0x1d6141)[_0x2210c5(0x247)]());});});},_0x3982d1[_0x300dd5(0x20d)]=_0x3fed63=>{const _0x5197cd=_0x300dd5;stat['packet_sent']+=0x1,stat['message_sent']+=0x1,stat[_0x5197cd(0x287)]=Math[_0x5197cd(0x260)](_0x5b71a0[_0x5197cd(0x1f6)](Date['now'](),0x3e8));},_0x3982d1['onRecvMsg']=_0x575340=>{const _0x120e1d=_0x300dd5;stat['packet_received']+=0x1,stat[_0x120e1d(0x284)]+=_0x575340['length'],stat[_0x120e1d(0x287)]=Math[_0x120e1d(0x260)](Date['now']()/0x3e8);},_0x3982d1[_0x300dd5(0x1f7)]=(..._0x13ee04)=>{const _0x56e9ea=_0x300dd5;stat[_0x56e9ea(0x27d)]+=0x1;},this[_0x300dd5(0x20f)](_0x3982d1);const _0x4120fe=new BuddyListener();_0x4120fe[_0x300dd5(0x25e)]=_0x3e0fb2=>{const _0x511009=_0x300dd5;rawFriends[_0x511009(0x1de)]=0x0,rawFriends[_0x511009(0x233)](..._0x3e0fb2);for(const _0x52c355 of _0x3e0fb2){for(const _0x5442e0 of _0x52c355[_0x511009(0x258)]){const _0x431208=friends[_0x511009(0x28b)](_0x5442e0[_0x511009(0x21e)]);uid2UinMap[_0x5442e0[_0x511009(0x21e)]]=_0x5442e0['uin'],_0x431208?Object[_0x511009(0x28f)](_0x431208,_0x5442e0):friends[_0x511009(0x1eb)](_0x5442e0[_0x511009(0x21e)],_0x5442e0);}}},this[_0x300dd5(0x20f)](_0x4120fe),this[_0x300dd5(0x275)][_0x300dd5(0x20e)]()[_0x300dd5(0x204)](!![])[_0x300dd5(0x247)](_0x59566b=>{});const _0x34e739=new ProfileListener();_0x34e739[_0x300dd5(0x1dc)]=_0x33080e=>{const _0x295d21=_0x300dd5;_0x5b71a0['ccwsK'](_0x33080e['uid'],selfInfo[_0x295d21(0x21e)])&&Object['assign'](selfInfo,_0x33080e);},_0x34e739[_0x300dd5(0x294)]=_0x1edf74=>{},this[_0x300dd5(0x20f)](_0x34e739);const _0x5a2a9c=new GroupListener();_0x5a2a9c[_0x300dd5(0x292)]=(_0x1cc804,_0xd60555)=>{const _0x5e4ce5=_0x300dd5;_0xd60555[_0x5e4ce5(0x1f5)](_0x55e378=>{const _0x2312a4=_0x5e4ce5,_0x5419f3=groups[_0x2312a4(0x28b)](_0x55e378[_0x2312a4(0x23a)]);if(_0x5419f3)Object[_0x2312a4(0x28f)](_0x5419f3,_0x55e378);else{groups['set'](_0x55e378[_0x2312a4(0x23a)],_0x55e378);const _0x1d9e24=this[_0x2312a4(0x275)][_0x2312a4(0x26b)]()[_0x2312a4(0x228)](_0x55e378[_0x2312a4(0x23a)],_0x5b71a0['YXysS']);this[_0x2312a4(0x275)]['getGroupService']()[_0x2312a4(0x277)](_0x1d9e24,undefined,0xbb8)['then'](_0x2b8523=>{});}});},_0x5a2a9c[_0x300dd5(0x249)]=_0x26d09d=>{const _0x5eb2a0=_0x300dd5,_0x31923a=_0x26d09d[_0x5eb2a0(0x21f)][_0x5eb2a0(0x205)]('_')[0x0];if(groupMembers[_0x5eb2a0(0x26f)](_0x31923a)){const _0x50237b=groupMembers['get'](_0x31923a);_0x26d09d['infos'][_0x5eb2a0(0x24e)]((_0x478ed0,_0x26eddb)=>{const _0x470f54=_0x5eb2a0,_0x26bd01=_0x50237b['get'](_0x26eddb);_0x26bd01?Object[_0x470f54(0x28f)](_0x26bd01,_0x478ed0):_0x50237b[_0x470f54(0x1eb)](_0x26eddb,_0x478ed0);});}else groupMembers['set'](_0x31923a,_0x26d09d[_0x5eb2a0(0x243)]);},_0x5a2a9c['onMemberInfoChange']=(_0x21f77f,_0x215a47,_0x5cf4a9)=>{const _0x2e115b=_0x300dd5;_0x5b71a0['MMdbZ'](_0x215a47,0x0)&&_0x5cf4a9[_0x2e115b(0x28b)](selfInfo[_0x2e115b(0x21e)])&&_0x5cf4a9[_0x2e115b(0x28b)](selfInfo[_0x2e115b(0x21e)])?.['isDelete']&&_0x5b71a0[_0x2e115b(0x235)](setTimeout,()=>{const _0x14d6ef=_0x2e115b;groups[_0x14d6ef(0x1ee)](_0x21f77f);},0x1388);_0x5cf4a9[_0x2e115b(0x24e)]((_0x47d374,_0x554bf9)=>{const _0x21cc8d=_0x2e115b;uid2UinMap[_0x554bf9]=_0x47d374[_0x21cc8d(0x281)];});const _0x1db759=groupMembers['get'](_0x21f77f);_0x1db759?_0x5cf4a9[_0x2e115b(0x24e)]((_0x131cce,_0xbe6260)=>{const _0xee03c6=_0x2e115b,_0x4bcead=_0x1db759[_0xee03c6(0x28b)](_0xbe6260);_0x4bcead?Object['assign'](_0x4bcead,_0x131cce):_0x1db759[_0xee03c6(0x1eb)](_0xbe6260,_0x131cce);}):groupMembers['set'](_0x21f77f,_0x5cf4a9);},this[_0x300dd5(0x20f)](_0x5a2a9c);}['addListener'](_0x12d175){const _0x389676=_0x3e7068,_0x496f51={'uDnyR':_0x389676(0x210),'woxvv':'MsgListener','klKgt':_0x389676(0x265)};_0x12d175=new Proxy(_0x12d175,this['proxyHandler']);switch(_0x12d175[_0x389676(0x241)][_0x389676(0x1dd)]){case _0x496f51['uDnyR']:{return this['session'][_0x389676(0x20e)]()['addKernelBuddyListener'](new _0x57b2d2['NodeIKernelBuddyListener'](_0x12d175));}case _0x389676(0x26c):{return this[_0x389676(0x275)][_0x389676(0x26b)]()['addKernelGroupListener'](new _0x57b2d2[(_0x389676(0x21a))](_0x12d175));}case _0x496f51[_0x389676(0x227)]:{return this[_0x389676(0x275)][_0x389676(0x207)]()[_0x389676(0x26a)](new _0x57b2d2[(_0x389676(0x269))](_0x12d175));}case _0x496f51[_0x389676(0x1e6)]:{return this[_0x389676(0x275)]['getProfileService']()[_0x389676(0x279)](new _0x57b2d2[(_0x389676(0x1e7))](_0x12d175));}default:return-0x1;}}[_0x3e7068(0x1f1)](_0x1c965b){const _0x252e89=_0x3e7068;this[_0x252e89(0x21d)][_0x252e89(0x233)](_0x1c965b);}async[_0x3e7068(0x231)](_0x341e7d){const _0x273b27=_0x3e7068,_0x48c510={'QZWhG':function(_0xb5cc80,_0x4e9361){return _0xb5cc80!==_0x4e9361;},'xZGwj':_0x273b27(0x27e),'KFGKr':function(_0x582dd1,_0x4179c2){return _0x582dd1(_0x4179c2);},'jVuJK':function(_0x5db3e3,_0x338538){return _0x5db3e3+_0x338538;}},_0x101dd6=await this[_0x273b27(0x272)][_0x273b27(0x1ec)]();if(_0x48c510[_0x273b27(0x257)](_0x101dd6[_0x273b27(0x20b)],0x0))throw new Error(_0x48c510[_0x273b27(0x282)]);const _0x578926=_0x101dd6['LocalLoginInfoList'][_0x273b27(0x23b)](_0x583958=>_0x583958['uin']===_0x341e7d);if(!_0x578926||!_0x578926?.[_0x273b27(0x218)])throw new Error(_0x341e7d+'快速登录不可用');await _0x48c510[_0x273b27(0x28e)](sleep,0x3e8);const _0x366970=await this[_0x273b27(0x272)][_0x273b27(0x1e8)](_0x341e7d);if(!_0x366970[_0x273b27(0x20b)])throw new Error(_0x48c510[_0x273b27(0x1e4)]('快速登录失败\x20',_0x366970[_0x273b27(0x291)][_0x273b27(0x1f8)]));return _0x366970;}async[_0x3e7068(0x273)](_0x2c6638){const _0x59fce6=_0x3e7068,_0x309951={'jJrIW':'data:image/png;base64,','gaRet':_0x59fce6(0x276),'aLBFN':function(_0x43c18c,_0x160575,_0x375985,_0x2d266c){return _0x43c18c(_0x160575,_0x375985,_0x2d266c);}};return new Promise((_0x2a5946,_0x422b05)=>{const _0xcda2fa=_0x59fce6;this[_0xcda2fa(0x1da)][_0xcda2fa(0x246)]=_0x4e0946=>{const _0x191cda=_0xcda2fa,_0x48f2a9=_0x4e0946[_0x191cda(0x214)][_0x191cda(0x205)](_0x309951[_0x191cda(0x24c)])[0x1],_0x32bddc=Buffer['from'](_0x48f2a9,_0x309951[_0x191cda(0x290)]);_0x309951[_0x191cda(0x1e9)](_0x2c6638,_0x4e0946[_0x191cda(0x268)],_0x4e0946['pngBase64QrcodeData'],_0x32bddc);},this[_0xcda2fa(0x272)][_0xcda2fa(0x25b)]();});}async[_0x3e7068(0x250)](_0x9d870b,_0xce14e4,_0x397297,_0x20b64c,_0x50f5da){const _0x3e2b21=_0x3e7068,_0x3f0191={'sFnRC':_0x3e2b21(0x221),'XXJit':function(_0x19266a,_0x318dd6){return _0x19266a||_0x318dd6;},'uQKNf':function(_0x6b4f38,_0x362aba){return _0x6b4f38||_0x362aba;},'DoNeF':function(_0x273451,_0x54e025){return _0x273451(_0x54e025);},'joQSe':_0x3e2b21(0x223)},_0x47d36c=_0x157d1f[_0x3e2b21(0x211)](_0x3f0191['sFnRC'])[_0x3e2b21(0x24d)](_0xce14e4)[_0x3e2b21(0x25f)](_0x3e2b21(0x296)),_0x34e568={'uin':_0x9d870b,'passwordMd5':_0x47d36c,'step':_0x397297&&_0x20b64c&&_0x50f5da?0x1:0x0,'newDeviceLoginSig':'','proofWaterSig':_0x3f0191['XXJit'](_0x397297,''),'proofWaterRand':_0x3f0191['uQKNf'](_0x20b64c,''),'proofWaterSid':_0x3f0191[_0x3e2b21(0x27c)](_0x50f5da,'')};await this['loginService'][_0x3e2b21(0x1ec)](),await _0x3f0191['DoNeF'](sleep,0x3e8);const _0x5aa59f=await this[_0x3e2b21(0x272)][_0x3e2b21(0x250)](_0x34e568);switch(_0x5aa59f[_0x3e2b21(0x20b)]){case'0':{break;}case _0x3e2b21(0x201):{break;}case'4':case _0x3f0191['joQSe']:default:}}async['getQuickLoginList'](){const _0x2d84e0=_0x3e7068,_0x5314a9=await this[_0x2d84e0(0x272)]['getLoginList']();return _0x5314a9;}}export const napCatCore=new NapCatCore();