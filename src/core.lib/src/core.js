const _0x4bfa7e=_0x136f;(function(_0x1bfaea,_0x48091b){const _0x3f9717=_0x136f,_0x3463ab=_0x1bfaea();while(!![]){try{const _0x5b69f7=-parseInt(_0x3f9717(0x22c))/0x1+-parseInt(_0x3f9717(0x1f5))/0x2*(parseInt(_0x3f9717(0x1d2))/0x3)+parseInt(_0x3f9717(0x19a))/0x4*(-parseInt(_0x3f9717(0x229))/0x5)+-parseInt(_0x3f9717(0x21e))/0x6+-parseInt(_0x3f9717(0x1d3))/0x7*(-parseInt(_0x3f9717(0x1bc))/0x8)+-parseInt(_0x3f9717(0x1c1))/0x9+parseInt(_0x3f9717(0x21f))/0xa*(parseInt(_0x3f9717(0x180))/0xb);if(_0x5b69f7===_0x48091b)break;else _0x3463ab['push'](_0x3463ab['shift']());}catch(_0x23dd72){_0x3463ab['push'](_0x3463ab['shift']());}}}(_0x18ad,0x61db3));import _0x4f1f4d from'@/core/wrapper';import{BuddyListener,GroupListener,LoginListener,MsgListener,ProfileListener,SessionListener}from'@/core/listeners';import{DependsAdapter,DispatcherAdapter,GlobalAdapter}from'@/core/adapters';import _0x55ffbb from'node:path';import _0x269004 from'node:os';import _0x21a7c4 from'node:fs';import{appid,qqVersionConfigInfo}from'@/common/utils/QQBasicInfo';import{hostname,systemVersion}from'@/common/utils/system';import{genSessionConfig}from'@/core/sessionConfig';import{dbUtil}from'@/common/utils/db';function _0x136f(_0x584933,_0x3608b2){const _0x18ad47=_0x18ad();return _0x136f=function(_0x136ff3,_0x10e6f5){_0x136ff3=_0x136ff3-0x178;let _0x4163e5=_0x18ad47[_0x136ff3];return _0x4163e5;},_0x136f(_0x584933,_0x3608b2);}import{sleep}from'@/common/utils/helper';import _0x2b526e from'node:crypto';import{rawFriends,friends,groupMembers,groups,selfInfo,stat,uid2UinMap}from'@/core/data';import{NTEventDispatch}from'@/common/utils/EventTask';import{enableConsoleLog,enableFileLog,log,logDebug,logError,setLogLevel,setLogSelfInfo}from'@/common/utils/log';import{napCatConfig}from'@/core/utils/config';export class NapCatCore{[_0x4bfa7e(0x191)];[_0x4bfa7e(0x213)];[_0x4bfa7e(0x190)];['loginListener'];[_0x4bfa7e(0x1e9)];[_0x4bfa7e(0x20b)]=[];[_0x4bfa7e(0x20c)]={'get'(target,prop,receiver){const _0x2727c9=_0x4bfa7e,yjpmWs={'HybrR':function(callee,param1){return callee(param1);},'THMGa':function(x,y){return x===y;},'gANlG':_0x2727c9(0x1db)};if(yjpmWs[_0x2727c9(0x1f3)](typeof target[prop],yjpmWs[_0x2727c9(0x20a)]))return(...args)=>{const _0x2b8c27=_0x2727c9;yjpmWs[_0x2b8c27(0x1ba)](logDebug,target[_0x2b8c27(0x195)]['name']+'\x20has\x20no\x20method\x20'+prop);};return Reflect[_0x2727c9(0x1e4)](target,prop,receiver);}};constructor(){const _0x309518=_0x4bfa7e,_0x1ae7d7={'PAdNp':function(_0x13eb7e,_0x158ae6){return _0x13eb7e(_0x158ae6);},'qoPwy':function(_0x1ce670,_0x4769c3){return _0x1ce670+_0x4769c3;},'ZuNtd':function(_0x131deb,_0x5a9b66){return _0x131deb+_0x5a9b66;},'ljDBu':_0x309518(0x228),'qxAZE':function(_0x26cc5e,_0x228f6e,_0xc78791){return _0x26cc5e(_0x228f6e,_0xc78791);},'QILoU':function(_0x723138,_0x4dde56){return _0x723138(_0x4dde56);},'SUqoX':_0x309518(0x1fe),'MMTGl':function(_0x4fa5bc,_0x22ffb2,_0x318e26){return _0x4fa5bc(_0x22ffb2,_0x318e26);},'zXAkl':_0x309518(0x22b),'mCTHj':_0x309518(0x231),'jZKZE':function(_0x5e0f87,_0x5a5788){return _0x5e0f87==_0x5a5788;},'qiQSd':'登录失败'};this[_0x309518(0x190)]=new _0x4f1f4d[(_0x309518(0x1f0))](),this[_0x309518(0x213)]=new _0x4f1f4d[(_0x309518(0x1a5))](),this[_0x309518(0x1e9)]=new _0x4f1f4d[(_0x309518(0x1d7))](),this[_0x309518(0x191)]=new _0x4f1f4d['NodeIQQNTWrapperSession'](),this[_0x309518(0x1ab)]=new LoginListener(),this[_0x309518(0x1ab)][_0x309518(0x1e5)]=_0x4415f0=>{const _0xf080ea=_0x309518;_0x1ae7d7['PAdNp'](logError,_0x1ae7d7['qoPwy'](_0x1ae7d7[_0xf080ea(0x1b9)](_0x1ae7d7['ljDBu'],_0x4415f0),_0xf080ea(0x1cb)));},this[_0x309518(0x1ab)]['onQRCodeLoginSucceed']=_0x3b089c=>{const _0x1ba277=_0x309518,_0x3ca676={'DHSMc':_0x1ae7d7[_0x1ba277(0x1e6)]};this[_0x1ba277(0x206)](_0x3b089c[_0x1ba277(0x1ed)],_0x3b089c[_0x1ba277(0x226)])['then'](_0x457bba=>{const _0x55cd9d=_0x1ba277,_0x371674={'OMCDY':function(_0x1fce9e,_0x43ccf5,_0xfa49a4){const _0x36da23=_0x136f;return _0x1ae7d7[_0x36da23(0x225)](_0x1fce9e,_0x43ccf5,_0xfa49a4);}};selfInfo['uin']=_0x3b089c[_0x55cd9d(0x1ed)],selfInfo[_0x55cd9d(0x226)]=_0x3b089c[_0x55cd9d(0x226)],napCatConfig['read'](),_0x1ae7d7[_0x55cd9d(0x225)](setLogLevel,napCatConfig['fileLogLevel'],napCatConfig['consoleLogLevel']),enableFileLog(napCatConfig[_0x55cd9d(0x184)]),_0x1ae7d7['QILoU'](enableConsoleLog,napCatConfig[_0x55cd9d(0x1c6)]),setLogSelfInfo(selfInfo);const _0x139eca=_0x55ffbb[_0x55cd9d(0x1c3)](this[_0x55cd9d(0x1ea)],_0x1ae7d7[_0x55cd9d(0x19d)]);_0x21a7c4[_0x55cd9d(0x1e8)](_0x139eca,{'recursive':!![]}),_0x1ae7d7['MMTGl'](logDebug,_0x1ae7d7[_0x55cd9d(0x1c7)],_0x139eca),dbUtil[_0x55cd9d(0x17a)](_0x55ffbb[_0x55cd9d(0x1c3)](_0x139eca,'./'+_0x3b089c[_0x55cd9d(0x1ed)]+_0x55cd9d(0x1ce)))[_0x55cd9d(0x215)](()=>{const _0x4a4d15=_0x55cd9d;this[_0x4a4d15(0x1b0)](),this[_0x4a4d15(0x20b)][_0x4a4d15(0x1f1)](_0x5a71e5=>{const _0x3e9769=_0x4a4d15,_0x3920ad={'ouaPB':function(_0xf42a0c,_0x4b75db,_0x25f215){return _0x371674['OMCDY'](_0xf42a0c,_0x4b75db,_0x25f215);},'zsPjP':function(_0x3787d6,_0x29593d){return _0x3787d6 instanceof _0x29593d;}};new Promise((_0x38cab9,_0x3a88ec)=>{const _0x3ae44b=_0x136f,_0x1fe520=_0x3920ad[_0x3ae44b(0x18d)](_0x5a71e5,_0x3b089c[_0x3ae44b(0x1ed)],_0x3b089c[_0x3ae44b(0x226)]);_0x3920ad[_0x3ae44b(0x1fa)](_0x1fe520,Promise)&&_0x1fe520[_0x3ae44b(0x215)](_0x38cab9)[_0x3ae44b(0x189)](_0x3a88ec);})[_0x3e9769(0x215)]();});})[_0x55cd9d(0x189)](_0x2176f8=>{const _0x6f68a5=_0x55cd9d;logError(_0x3ca676[_0x6f68a5(0x1de)],_0x2176f8);});})[_0x1ba277(0x189)](_0xcbc36d=>{const _0xcf807e=_0x1ba277;logError(_0xcf807e(0x1b7),_0xcbc36d);throw new Error('启动失败:\x20'+JSON[_0xcf807e(0x1bf)](_0xcbc36d));});},this[_0x309518(0x1ab)][_0x309518(0x212)]=(_0x55108e,_0x59233c,_0x3f3cce)=>{const _0x30bf4c=_0x309518;_0x1ae7d7[_0x30bf4c(0x204)](logError,_0x30bf4c(0x21a),_0x3f3cce),_0x55108e==0x1&&_0x1ae7d7['jZKZE'](_0x59233c,0x3)&&this[_0x30bf4c(0x1e9)][_0x30bf4c(0x19e)]();},this[_0x309518(0x1ab)][_0x309518(0x1fc)]=_0x16d9a9=>{const _0x2662f=_0x309518;_0x1ae7d7[_0x2662f(0x225)](logError,_0x1ae7d7[_0x2662f(0x20e)],_0x16d9a9);},this[_0x309518(0x1ab)]=new Proxy(this[_0x309518(0x1ab)],this[_0x309518(0x20c)]),this[_0x309518(0x1e9)][_0x309518(0x1d0)](new _0x4f1f4d[(_0x309518(0x21d))](this[_0x309518(0x1ab)])),this[_0x309518(0x223)]();}get[_0x4bfa7e(0x1ea)](){const _0x147c55=_0x4bfa7e,_0x624c90={'cyfgq':_0x147c55(0x220)};let _0x1a04aa=this[_0x147c55(0x213)][_0x147c55(0x221)]();return!_0x1a04aa&&(_0x1a04aa=_0x55ffbb[_0x147c55(0x1c3)](_0x269004['homedir'](),_0x624c90[_0x147c55(0x1ef)]),_0x21a7c4[_0x147c55(0x1e8)](_0x1a04aa,{'recursive':!![]})),_0x1a04aa;}get[_0x4bfa7e(0x1a1)](){const _0x36edfc=_0x4bfa7e;return _0x55ffbb[_0x36edfc(0x1c3)](this[_0x36edfc(0x1ea)],_0x36edfc(0x198));}[_0x4bfa7e(0x223)](){const _0x3378e9=_0x4bfa7e,_0x289e18={'hCzQb':_0x3378e9(0x1cc)};this['engine'][_0x3378e9(0x200)]({'base_path_prefix':'','platform_type':0x3,'app_type':0x4,'app_version':qqVersionConfigInfo[_0x3378e9(0x1a3)],'os_version':_0x289e18[_0x3378e9(0x1ec)],'use_xlog':!![],'qua':_0x3378e9(0x1f7)+qqVersionConfigInfo[_0x3378e9(0x1a3)][_0x3378e9(0x1cf)]('-','_')+'_GW_B','global_path_config':{'desktopGlobalPath':this[_0x3378e9(0x1a1)]},'thumb_config':{'maxSide':0x144,'minSide':0x30,'longLimit':0x6,'density':0x2}},new _0x4f1f4d[(_0x3378e9(0x1c5))](new GlobalAdapter())),this[_0x3378e9(0x1e9)][_0x3378e9(0x223)]({'machineId':'','appid':appid,'platVer':systemVersion,'commonPath':this[_0x3378e9(0x1a1)],'clientVer':qqVersionConfigInfo[_0x3378e9(0x1a3)],'hostName':hostname});}[_0x4bfa7e(0x206)](_0x4e9c73,_0x435f97){const _0x31434f={'tHAwU':function(_0x69bf5d,_0x3b09e4){return _0x69bf5d===_0x3b09e4;},'MrQTJ':function(_0x3be44f,_0x2425a4){return _0x3be44f(_0x2425a4);},'nqIIc':function(_0x1a4655,_0x127e22,_0x3b4e95,_0x2ea914){return _0x1a4655(_0x127e22,_0x3b4e95,_0x2ea914);}};return new Promise((_0x1d392e,_0x5426fa)=>{const _0x30470f=_0x136f,_0x232bc0={'LgIqk':function(_0xd6f0dc,_0x2517c0){const _0x5e3980=_0x136f;return _0x31434f[_0x5e3980(0x202)](_0xd6f0dc,_0x2517c0);},'IOIby':function(_0x511d27,_0x21eed0){const _0x5793b2=_0x136f;return _0x31434f[_0x5793b2(0x1f4)](_0x511d27,_0x21eed0);}},_0xd2d446=_0x31434f[_0x30470f(0x18b)](genSessionConfig,_0x4e9c73,_0x435f97,this[_0x30470f(0x1ea)]),_0x3e7c73=new SessionListener();_0x3e7c73[_0x30470f(0x19c)]=_0x207612=>{if(_0x232bc0['LgIqk'](_0x207612,0x0))return _0x232bc0['IOIby'](_0x1d392e,0x0);_0x232bc0['IOIby'](_0x5426fa,_0x207612);},this['session'][_0x30470f(0x17a)](_0xd2d446,new _0x4f1f4d[(_0x30470f(0x21c))](new DependsAdapter()),new _0x4f1f4d[(_0x30470f(0x17f))](new DispatcherAdapter()),new _0x4f1f4d[(_0x30470f(0x1eb))](_0x3e7c73));try{this[_0x30470f(0x191)][_0x30470f(0x210)](0x0);}catch(_0x3be038){try{this[_0x30470f(0x191)][_0x30470f(0x210)]();}catch(_0x41eab5){_0x31434f['MrQTJ'](_0x5426fa,_0x30470f(0x201)+_0x41eab5);}}});}[_0x4bfa7e(0x1b0)](){const _0x2f472f=_0x4bfa7e,_0x18de7b={'TORpS':function(_0x1c5d46,_0x4e6693){return _0x1c5d46===_0x4e6693;},'mArtC':function(_0x583aeb,_0x2001f1){return _0x583aeb(_0x2001f1);},'eZSjC':function(_0x212d64,_0x6decdb){return _0x212d64+_0x6decdb;},'gScZX':'账号设备(','xpmKy':function(_0x431dda,_0x243819){return _0x431dda+_0x243819;},'FYUDA':function(_0x402e7c,_0x2488f6){return _0x402e7c+_0x2488f6;},'XZmbr':_0x2f472f(0x183),'LvmXk':function(_0x16552f,_0x32abc0){return _0x16552f===_0x32abc0;},'XOKVp':function(_0x5b53bd,_0x12c9f0){return _0x5b53bd/_0x12c9f0;},'ERbSo':function(_0x2bd0fb,_0x30a306){return _0x2bd0fb===_0x30a306;},'nTorV':function(_0x2c8a5e,_0x370f43,_0x40ecb1){return _0x2c8a5e(_0x370f43,_0x40ecb1);}},_0x3bdc48=new MsgListener();_0x3bdc48['onLineDev']=_0x51c700=>{const _0x3778c6=_0x2f472f;_0x51c700[_0x3778c6(0x1f1)](_0x5515d8=>{const _0x2ff96a=_0x3778c6;_0x18de7b['TORpS'](_0x5515d8[_0x2ff96a(0x17d)],0x2)&&_0x18de7b[_0x2ff96a(0x186)](log,_0x18de7b[_0x2ff96a(0x192)](_0x18de7b[_0x2ff96a(0x192)](_0x18de7b['gScZX'],_0x5515d8[_0x2ff96a(0x1d4)]),_0x2ff96a(0x1d8)));});},_0x3bdc48[_0x2f472f(0x1a9)]=_0x24c342=>{const _0x3c6861=_0x2f472f;log(_0x18de7b[_0x3c6861(0x21b)](_0x18de7b[_0x3c6861(0x233)](_0x18de7b[_0x3c6861(0x1b8)],_0x24c342[_0x3c6861(0x185)]),']\x20')+_0x24c342[_0x3c6861(0x1ac)]);},_0x3bdc48[_0x2f472f(0x214)]=_0x8024b7=>{const _0x4533c1=_0x2f472f,_0x5ba42f={'LBXHI':function(_0x111f9a,_0xcd4119){const _0x5a9975=_0x136f;return _0x18de7b[_0x5a9975(0x1ae)](_0x111f9a,_0xcd4119);}};stat[_0x4533c1(0x1dc)]+=0x1,_0x8024b7['map'](_0x5b8f96=>{const _0x4afa67=_0x4533c1;_0x5ba42f[_0x4afa67(0x1ca)](_0x5b8f96[_0x4afa67(0x1d5)],'0')?dbUtil[_0x4afa67(0x199)](_0x5b8f96)['then']()[_0x4afa67(0x189)]():dbUtil[_0x4afa67(0x216)](_0x5b8f96[_0x4afa67(0x224)])[_0x4afa67(0x215)](_0x802205=>{const _0x1aa42f=_0x4afa67;_0x802205&&(_0x802205[_0x1aa42f(0x1d5)]=_0x5b8f96[_0x1aa42f(0x1d5)],dbUtil[_0x1aa42f(0x1f6)](_0x802205)[_0x1aa42f(0x215)]());});});},_0x3bdc48[_0x2f472f(0x178)]=_0x3b6fb6=>{const _0xd25b04=_0x2f472f;stat[_0xd25b04(0x1a0)]+=0x1,stat['message_sent']+=0x1,stat[_0xd25b04(0x1f9)]=Math['floor'](_0x18de7b[_0xd25b04(0x207)](Date[_0xd25b04(0x235)](),0x3e8));},_0x3bdc48[_0x2f472f(0x1b2)]=_0x437682=>{const _0x522b96=_0x2f472f;stat[_0x522b96(0x1dc)]+=0x1,stat['message_received']+=_0x437682[_0x522b96(0x203)],stat[_0x522b96(0x1f9)]=Math[_0x522b96(0x1e0)](Date[_0x522b96(0x235)]()/0x3e8);},_0x3bdc48['onRecvSysMsg']=(..._0xb6064c)=>{const _0x5719c2=_0x2f472f;stat[_0x5719c2(0x1dc)]+=0x1;},this[_0x2f472f(0x1a2)](_0x3bdc48);const _0x2b9e33=new BuddyListener();_0x2b9e33[_0x2f472f(0x188)]=_0x58e5a0=>{const _0x603c6c=_0x2f472f;rawFriends[_0x603c6c(0x203)]=0x0,rawFriends['push'](..._0x58e5a0);for(const _0x49bf9c of _0x58e5a0){for(const _0x2b1852 of _0x49bf9c['buddyList']){const _0x2dea64=friends[_0x603c6c(0x1e4)](_0x2b1852['uid']);uid2UinMap[_0x2b1852['uid']]=_0x2b1852[_0x603c6c(0x1ed)],_0x2dea64?Object[_0x603c6c(0x194)](_0x2dea64,_0x2b1852):friends[_0x603c6c(0x1c2)](_0x2b1852['uid'],_0x2b1852);}}},this[_0x2f472f(0x1a2)](_0x2b9e33),this[_0x2f472f(0x191)][_0x2f472f(0x1df)]()[_0x2f472f(0x22e)](!![])[_0x2f472f(0x215)](_0x146ea0=>{});const _0x28c90b=new ProfileListener();_0x28c90b[_0x2f472f(0x18e)]=_0x44f01d=>{const _0x5de4f8=_0x2f472f;_0x18de7b['ERbSo'](_0x44f01d[_0x5de4f8(0x226)],selfInfo[_0x5de4f8(0x226)])&&Object['assign'](selfInfo,_0x44f01d);},_0x28c90b['onSelfStatusChanged']=_0x3b9fba=>{},this['addListener'](_0x28c90b);const _0x5adb45=new GroupListener();_0x5adb45[_0x2f472f(0x1cd)]=(_0x3b77c4,_0x5edcce)=>{const _0xe167e6=_0x2f472f,_0x491a34={'rZkpz':function(_0x2907f4,_0x20f095){const _0x26f3f9=_0x136f;return _0x18de7b[_0x26f3f9(0x1f2)](_0x2907f4,_0x20f095);}};_0x5edcce[_0xe167e6(0x1f1)](_0xe7fe6a=>{const _0x463e1d=_0xe167e6,_0x559d8f=groups[_0x463e1d(0x1e4)](_0xe7fe6a['groupCode']);_0x559d8f&&_0x491a34[_0x463e1d(0x1b5)](_0xe7fe6a[_0x463e1d(0x193)],_0x559d8f['memberCount'])?Object[_0x463e1d(0x194)](_0x559d8f,_0xe7fe6a):groups[_0x463e1d(0x1c2)](_0xe7fe6a['groupCode'],_0xe7fe6a);const _0x2a1647=this[_0x463e1d(0x191)][_0x463e1d(0x236)]()[_0x463e1d(0x18c)](_0xe7fe6a[_0x463e1d(0x17b)],_0x463e1d(0x1aa));this['session'][_0x463e1d(0x236)]()[_0x463e1d(0x217)](_0x2a1647,undefined,0xbb8)[_0x463e1d(0x215)](_0x3c3f0c=>{});});},_0x5adb45[_0x2f472f(0x205)]=_0x516857=>{const _0x4d1262=_0x2f472f,_0x388e76=_0x516857[_0x4d1262(0x1dd)]['split']('_')[0x0];if(groupMembers[_0x4d1262(0x209)](_0x388e76)){const _0x20e9da=groupMembers[_0x4d1262(0x1e4)](_0x388e76);_0x516857[_0x4d1262(0x1da)][_0x4d1262(0x1ff)]((_0x59c041,_0x5e3b75)=>{const _0x17707e=_0x4d1262,_0x42fa69=_0x20e9da[_0x17707e(0x1e4)](_0x5e3b75);_0x42fa69?Object['assign'](_0x42fa69,_0x59c041):_0x20e9da['set'](_0x5e3b75,_0x59c041);});}else groupMembers[_0x4d1262(0x1c2)](_0x388e76,_0x516857[_0x4d1262(0x1da)]);},_0x5adb45[_0x2f472f(0x1e7)]=(_0x228937,_0x401d33,_0x268d3b)=>{const _0x424d9f=_0x2f472f;_0x18de7b[_0x424d9f(0x211)](_0x401d33,0x0)&&_0x268d3b[_0x424d9f(0x1e4)](selfInfo[_0x424d9f(0x226)])&&_0x268d3b[_0x424d9f(0x1e4)](selfInfo[_0x424d9f(0x226)])?.[_0x424d9f(0x1b4)]&&_0x18de7b['nTorV'](setTimeout,()=>{const _0x53caf=_0x424d9f;groups[_0x53caf(0x1b3)](_0x228937);},0x1388);_0x268d3b['forEach']((_0x4e5c29,_0x1cf43d)=>{const _0x220a0c=_0x424d9f;uid2UinMap[_0x1cf43d]=_0x4e5c29[_0x220a0c(0x1ed)];});const _0x4dbfd1=groupMembers['get'](_0x228937);_0x4dbfd1?_0x268d3b['forEach']((_0x172ecf,_0x238bf5)=>{const _0x3e2ad2=_0x424d9f,_0xb12adc=_0x4dbfd1[_0x3e2ad2(0x1e4)](_0x238bf5);_0xb12adc?Object['assign'](_0xb12adc,_0x172ecf):_0x4dbfd1[_0x3e2ad2(0x1c2)](_0x238bf5,_0x172ecf);}):groupMembers[_0x424d9f(0x1c2)](_0x228937,_0x268d3b);},this[_0x2f472f(0x1a2)](_0x5adb45);}[_0x4bfa7e(0x1a2)](_0x1684e6){const _0x27aa03=_0x4bfa7e,_0x356bcf={'nbPRu':_0x27aa03(0x187),'BNfOL':'GroupListener','Staqf':_0x27aa03(0x1e2),'qbZze':_0x27aa03(0x1f8)};_0x1684e6=new Proxy(_0x1684e6,this[_0x27aa03(0x20c)]);switch(_0x1684e6[_0x27aa03(0x195)]['name']){case _0x356bcf[_0x27aa03(0x1bb)]:{return this[_0x27aa03(0x191)]['getBuddyService']()['addKernelBuddyListener'](new _0x4f1f4d[(_0x27aa03(0x219))](_0x1684e6));}case _0x356bcf[_0x27aa03(0x1b1)]:{return this[_0x27aa03(0x191)][_0x27aa03(0x236)]()['addKernelGroupListener'](new _0x4f1f4d['NodeIKernelGroupListener'](_0x1684e6));}case _0x356bcf[_0x27aa03(0x1d6)]:{return this['session'][_0x27aa03(0x1af)]()['addKernelMsgListener'](new _0x4f1f4d[(_0x27aa03(0x1ad))](_0x1684e6));}case _0x356bcf[_0x27aa03(0x19b)]:{return this[_0x27aa03(0x191)][_0x27aa03(0x1a6)]()[_0x27aa03(0x1c9)](new _0x4f1f4d['NodeIKernelProfileListener'](_0x1684e6));}default:return-0x1;}}[_0x4bfa7e(0x197)](_0x20b255){const _0x537f2e=_0x4bfa7e;NTEventDispatch[_0x537f2e(0x17a)]({'ListenerMap':_0x4f1f4d,'WrapperSession':this[_0x537f2e(0x191)]}),this[_0x537f2e(0x20b)][_0x537f2e(0x1fd)](_0x20b255);}async[_0x4bfa7e(0x222)](_0x43adef){const _0x58736a=_0x4bfa7e,_0x31f335={'KcWhF':function(_0x31ef4a,_0xf524fd){return _0x31ef4a!==_0xf524fd;},'PxKhb':_0x58736a(0x218),'pQqJa':function(_0x5fc85f,_0x585db2){return _0x5fc85f(_0x585db2);},'ELyaV':function(_0x57a316,_0x4b1b9b){return _0x57a316+_0x4b1b9b;},'nYwUd':_0x58736a(0x227)},_0x33bba4=await this[_0x58736a(0x1e9)]['getLoginList']();if(_0x31f335['KcWhF'](_0x33bba4['result'],0x0))throw new Error(_0x31f335[_0x58736a(0x1fb)]);const _0x5370ca=_0x33bba4['LocalLoginInfoList'][_0x58736a(0x18f)](_0xd75bfc=>_0xd75bfc['uin']===_0x43adef);if(!_0x5370ca||!_0x5370ca?.[_0x58736a(0x1bd)])throw new Error(_0x43adef+_0x58736a(0x17e));await _0x31f335[_0x58736a(0x1c0)](sleep,0x3e8);const _0x3d57c0=await this[_0x58736a(0x1e9)][_0x58736a(0x230)](_0x43adef);if(!_0x3d57c0[_0x58736a(0x181)])throw new Error(_0x31f335[_0x58736a(0x1c4)](_0x31f335[_0x58736a(0x22a)],_0x3d57c0[_0x58736a(0x1a7)][_0x58736a(0x1d1)]));return _0x3d57c0;}async[_0x4bfa7e(0x22d)](_0x7afbbc){const _0x219282=_0x4bfa7e,_0x30358e={'DWIjw':_0x219282(0x1ee),'HyMRF':function(_0x1eb19a,_0x49ce17,_0x11ebb9,_0x5cea53){return _0x1eb19a(_0x49ce17,_0x11ebb9,_0x5cea53);}};return new Promise((_0xd90170,_0x362ce9)=>{const _0x17159c=_0x219282;this[_0x17159c(0x1ab)][_0x17159c(0x237)]=_0x2525a7=>{const _0x21eba8=_0x17159c,_0x2941f2=_0x2525a7[_0x21eba8(0x1c8)][_0x21eba8(0x234)]('data:image/png;base64,')[0x1],_0x140d4f=Buffer[_0x21eba8(0x1d9)](_0x2941f2,_0x30358e[_0x21eba8(0x19f)]);_0x30358e[_0x21eba8(0x208)](_0x7afbbc,_0x2525a7[_0x21eba8(0x20d)],_0x2525a7[_0x21eba8(0x1c8)],_0x140d4f);},this['loginService'][_0x17159c(0x19e)]();});}async['passwordLogin'](_0x4512e0,_0x6bfa7d,_0x782fe2,_0x53a545,_0x459d74){const _0x167cad=_0x4bfa7e,_0x30ec5e={'gocqS':_0x167cad(0x232),'MqznA':function(_0x1d21d0,_0x4508b3){return _0x1d21d0&&_0x4508b3;},'VjCVz':function(_0x584541,_0xe352b8){return _0x584541||_0xe352b8;},'tNrZy':function(_0xd8a794,_0x4a04a2){return _0xd8a794||_0x4a04a2;},'ifZzk':function(_0x5e633b,_0x4915da){return _0x5e633b(_0x4915da);},'oCYuZ':_0x167cad(0x17c),'qOanl':_0x167cad(0x179)},_0x28744e=_0x2b526e[_0x167cad(0x1a8)](_0x30ec5e[_0x167cad(0x1e3)])[_0x167cad(0x18a)](_0x6bfa7d)[_0x167cad(0x182)](_0x167cad(0x1a4)),_0x21366d={'uin':_0x4512e0,'passwordMd5':_0x28744e,'step':_0x30ec5e[_0x167cad(0x1e1)](_0x782fe2,_0x53a545)&&_0x459d74?0x1:0x0,'newDeviceLoginSig':'','proofWaterSig':_0x782fe2||'','proofWaterRand':_0x30ec5e['VjCVz'](_0x53a545,''),'proofWaterSid':_0x30ec5e[_0x167cad(0x1be)](_0x459d74,'')};await this['loginService'][_0x167cad(0x22f)](),await _0x30ec5e[_0x167cad(0x196)](sleep,0x3e8);const _0x1671f4=await this['loginService']['passwordLogin'](_0x21366d);switch(_0x1671f4[_0x167cad(0x181)]){case'0':{break;}case _0x30ec5e[_0x167cad(0x1b6)]:{break;}case'4':case _0x30ec5e['qOanl']:default:}}async[_0x4bfa7e(0x20f)](){const _0x11e8d9=await this['loginService']['getLoginList']();return _0x11e8d9;}}function _0x18ad(){const _0x276e48=['HyMRF','has','gANlG','onLoginSuccessFuncList','proxyHandler','qrcodeUrl','qiQSd','getQuickLoginList','startNT','TORpS','onQRCodeSessionFailed','util','onMsgInfoListUpdate','then','getMsgByLongId','getNextMemberList','没有可快速登录的QQ号','NodeIKernelBuddyListener','登录失败','xpmKy','NodeIDependsAdapter','NodeIKernelLoginListener','1120626vMHDyc','35510PhmVxw','./.config/QQ','getNTUserDataInfoConfig','quickLogin','initConfig','msgId','qxAZE','uid','快速登录失败\x20','当前账号(','70bYiYrG','nYwUd','本账号数据/缓存目录：','523073uOBxJR','qrLogin','getBuddyList','getLoginList','quickLoginWithUin','数据库初始化失败','md5','FYUDA','split','now','getGroupService','onQRCodeGetPicture','onAddSendMsg','140022013','init','groupCode','140022008','clientType','快速登录不可用','NodeIDispatcherAdapter','6655IwHzkp','result','digest','[KickedOffLine]\x20[','fileLog','tipsTitle','mArtC','BuddyListener','onBuddyListChange','catch','update','nqIIc','createMemberListScene','ouaPB','onProfileDetailInfoChanged','find','engine','session','eZSjC','memberCount','assign','constructor','ifZzk','onLoginSuccess','./nt_qq/global','addMsg','129724APBety','qbZze','onSessionInitComplete','SUqoX','getQRCodePicture','DWIjw','packet_sent','dataPathGlobal','addListener','curVersion','hex','NodeQQNTWrapperUtil','getProfileService','loginErrorInfo','createHash','onKickedOffLine','groupMemberList_MainWindow','loginListener','tipsDesc','NodeIKernelMsgListener','LvmXk','getMsgService','initDataListener','BNfOL','onRecvMsg','delete','isDelete','rZkpz','oCYuZ','initSession\x20failed','XZmbr','ZuNtd','HybrR','nbPRu','192YFTJBT','isQuickLogin','tNrZy','stringify','pQqJa','6109128QFGOku','set','resolve','ELyaV','NodeIGlobalAdapter','consoleLog','zXAkl','pngBase64QrcodeData','addKernelProfileListener','LBXHI',')已登录,无法重复登录','Windows\x2010\x20Pro','onGroupListUpdate','-v2.db','replace','addKernelLoginListener','errMsg','3qpGkpy','77749mjleEs','devUid','recallTime','Staqf','NodeIKernelLoginService',')\x20在线状态变更','from','infos','undefined','packet_received','sceneId','DHSMc','getBuddyService','floor','MqznA','MsgListener','gocqS','get','onUserLoggedIn','mCTHj','onMemberInfoChange','mkdirSync','loginService','dataPath','NodeIKernelSessionListener','hCzQb','uin','base64','cyfgq','NodeIQQNTWrapperEngine','map','ERbSo','THMGa','MrQTJ','342868eEudQF','updateMsg','V1_WIN_NQ_','ProfileListener','last_message_time','zsPjP','PxKhb','onLoginFailed','push','./NapCat/data','forEach','initWithDeskTopConfig','init\x20failed\x20','tHAwU','length','MMTGl','onMemberListChange','initSession','XOKVp'];_0x18ad=function(){return _0x276e48;};return _0x18ad();}export const napCatCore=new NapCatCore();