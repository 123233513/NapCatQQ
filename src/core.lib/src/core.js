const _0x4b3abe=_0x2449;(function(_0x20b741,_0x2a67cf){const _0x48b6b4=_0x2449,_0x1e988c=_0x20b741();while(!![]){try{const _0x443249=-parseInt(_0x48b6b4(0x24e))/0x1+parseInt(_0x48b6b4(0x1d6))/0x2*(parseInt(_0x48b6b4(0x207))/0x3)+parseInt(_0x48b6b4(0x22e))/0x4+parseInt(_0x48b6b4(0x212))/0x5+parseInt(_0x48b6b4(0x213))/0x6+parseInt(_0x48b6b4(0x263))/0x7*(-parseInt(_0x48b6b4(0x23f))/0x8)+-parseInt(_0x48b6b4(0x24a))/0x9;if(_0x443249===_0x2a67cf)break;else _0x1e988c['push'](_0x1e988c['shift']());}catch(_0x36beab){_0x1e988c['push'](_0x1e988c['shift']());}}}(_0xaa47,0xf1793));import _0x36b2a8 from'@/core/wrapper';import{BuddyListener,GroupListener,LoginListener,MsgListener,ProfileListener,SessionListener}from'@/core/listeners';import{DependsAdapter,DispatcherAdapter,GlobalAdapter}from'@/core/adapters';import _0x54f808 from'node:path';import _0x177217 from'node:os';import _0x570f9c from'node:fs';import{appid,qqVersionConfigInfo}from'@/common/utils/QQBasicInfo';import{hostname,systemVersion}from'@/common/utils/system';function _0xaa47(){const _0x12b733=['140022008','onRecvSysMsg','VlFde','没有可快速登录的QQ号','initDataListener','MsgListener','NodeIQQNTWrapperSession','./.config/QQ','mkdirSync','wiVUI','session','NodeIKernelBuddyListener','NodeIKernelLoginService','NodeIDependsAdapter','onMemberListChange','sLcKs','./nt_qq/global','onBuddyListChange','JhYRm','pzeNr','VNvEl','数据库初始化失败','initWithDeskTopConfig','\x20has\x20no\x20method\x20','isQuickLogin','loginErrorInfo','6695560lQkhGr','util','NEKeC','assign','EGXnX','replace','initSession\x20failed','getNTUserDataInfoConfig','onProfileDetailInfoChanged','VdpuG',')已登录,无法重复登录','dataPath','onSessionInitComplete','Windows\x2010\x20Pro','NodeIDispatcherAdapter','result','uHaZA','27856gNzVjA','tipsTitle','addKernelProfileListener','name','EXmaE','gCvyU','getLoginList','base64','uid','onLoginSuccessFuncList','recallTime','21576159bNTqDF','getQuickLoginList','XDbeU','proxyHandler','877250onNyIR','resolve','message_sent','infos','hHXDZ','loginService','md5','UQpBN','createMemberListScene','catch','xovOf','yiXjS','getBuddyList','map','PsLdf','qrcodeUrl','consoleLog','data:image/png;base64,','onRecvMsg','has','now','2191ttyFWv','digest','onQRCodeSessionFailed','nHzvA','tkwpT','homedir','addMsg','TrAXU','curVersion','addKernelBuddyListener','LJUzs','lOvXE','UuZTF','TMsvg','undefined','split','LocalLoginInfoList','update','VSLfA','UNnCS','fileLog','uin','ZHoZV','quickLoginWithUin','tipsDesc','clientType','NodeIKernelSessionListener','init','UILzd','QVsIf','from','启动失败:\x20','aFaWj','getQRCodePicture','errMsg','getGroupService','groupMemberList_MainWindow','loginListener','NodeIGlobalAdapter','startNT','addKernelMsgListener','delete','EfYXR','set','onGroupListUpdate','pngBase64QrcodeData','passwordLogin','length','609150wpVQWA','addListener','dataPathGlobal','ySfth','onQRCodeGetPicture','isDelete','本账号数据/缓存目录：','当前账号(','sceneId','packet_received','WjITR','IBvjO','message_received','updateMsg','aFfYY','floor','hNnNt','onAddSendMsg','pWbBS','hWFMH','[KickedOffLine]\x20[','then','qrLogin','onSelfStatusChanged','msgId','EGXtG','ULjda','onQRCodeLoginSucceed','lFktd','engine','登录失败','onUserLoggedIn','forEach','快速登录失败\x20','VaIHk','constructor','getMsgService','getBuddyService','hex','addKernelLoginListener','NodeIQQNTWrapperEngine','initConfig','getNextMemberList','get','DVTRp','groupCode','onMemberInfoChange','NodeIKernelGroupListener','140022013','12iwEkOV','onLoginFailed','OCcpr','addKernelGroupListener','push','eLseI','devUid','last_message_time','NodeIKernelLoginListener','onMsgInfoListUpdate','BuddyListener','7804180HWsWKy','5403096AivvPC'];_0xaa47=function(){return _0x12b733;};return _0xaa47();}function _0x2449(_0x220191,_0x7c8178){const _0xaa47be=_0xaa47();return _0x2449=function(_0x2449d5,_0x475e08){_0x2449d5=_0x2449d5-0x1cd;let _0x177026=_0xaa47be[_0x2449d5];return _0x177026;},_0x2449(_0x220191,_0x7c8178);}import{genSessionConfig}from'@/core/sessionConfig';import{dbUtil}from'@/common/utils/db';import{sleep}from'@/common/utils/helper';import _0xb997e7 from'node:crypto';import{rawFriends,friends,groupMembers,groups,selfInfo,stat,uid2UinMap}from'@/core/data';import{NTEventDispatch}from'@/common/utils/EventTask';import{enableConsoleLog,enableFileLog,log,logDebug,logError,setLogLevel,setLogSelfInfo}from'@/common/utils/log';import{napCatConfig}from'@/core/utils/config';export class NapCatCore{['session'];['util'];[_0x4b3abe(0x1f3)];['loginListener'];[_0x4b3abe(0x253)];[_0x4b3abe(0x248)]=[];['proxyHandler']={'get'(target,prop,receiver){const _0x1cb94c=_0x4b3abe,zCYLdf={'EGXnX':function(x,y){return x===y;},'AaeTf':_0x1cb94c(0x271)};if(zCYLdf[_0x1cb94c(0x232)](typeof target[prop],zCYLdf['AaeTf']))return(...args)=>{const _0x5bf368=_0x1cb94c;logDebug(target[_0x5bf368(0x1f9)][_0x5bf368(0x242)]+_0x5bf368(0x22b)+prop);};return Reflect[_0x1cb94c(0x201)](target,prop,receiver);}};constructor(){const _0x41df3d=_0x4b3abe,_0x5c87eb={'OCcpr':function(_0x2ed48e,_0x4fa783){return _0x2ed48e+_0x4fa783;},'mwggg':_0x41df3d(0x1dd),'EGXtG':_0x41df3d(0x238),'JhYRm':function(_0x5b9331,_0x19d50a,_0x4e0004){return _0x5b9331(_0x19d50a,_0x4e0004);},'gCvyU':'./NapCat/data','wiVUI':function(_0x5dae58,_0x21487a,_0x48db7b){return _0x5dae58(_0x21487a,_0x48db7b);},'aFaWj':_0x41df3d(0x1dc),'NEKeC':function(_0x4cbc56,_0xc45b3,_0x54c19b){return _0x4cbc56(_0xc45b3,_0x54c19b);},'fKjvo':_0x41df3d(0x234),'QVsIf':function(_0x5e6287,_0x4549b4,_0x44bd41){return _0x5e6287(_0x4549b4,_0x44bd41);},'LJUzs':_0x41df3d(0x1f4),'yiXjS':function(_0x3be11f,_0x415d75){return _0x3be11f==_0x415d75;}};this[_0x41df3d(0x1f3)]=new _0x36b2a8[(_0x41df3d(0x1fe))](),this[_0x41df3d(0x22f)]=new _0x36b2a8['NodeQQNTWrapperUtil'](),this[_0x41df3d(0x253)]=new _0x36b2a8[(_0x41df3d(0x220))](),this[_0x41df3d(0x21e)]=new _0x36b2a8[(_0x41df3d(0x21a))](),this[_0x41df3d(0x288)]=new LoginListener(),this['loginListener'][_0x41df3d(0x1f5)]=_0x163668=>{const _0x5dba88=_0x41df3d;logError(_0x5c87eb[_0x5dba88(0x209)](_0x5c87eb['mwggg'],_0x163668)+_0x5c87eb[_0x5dba88(0x1ef)]);},this['loginListener'][_0x41df3d(0x1f1)]=_0x10cfeb=>{const _0x35a38b=_0x41df3d,_0x257fc0={'eLseI':function(_0x45129e,_0xda28f8,_0x4c9c38){const _0x2a2866=_0x2449;return _0x5c87eb[_0x2a2866(0x280)](_0x45129e,_0xda28f8,_0x4c9c38);}};this['initSession'](_0x10cfeb['uin'],_0x10cfeb[_0x35a38b(0x247)])['then'](_0x4a126a=>{const _0x2c9658=_0x35a38b,_0x2eb12e={'bBFeE':function(_0x37bd7a,_0x319f1b){return _0x37bd7a instanceof _0x319f1b;}};selfInfo['uin']=_0x10cfeb['uin'],selfInfo[_0x2c9658(0x247)]=_0x10cfeb[_0x2c9658(0x247)],napCatConfig['read'](),_0x5c87eb[_0x2c9658(0x226)](setLogLevel,napCatConfig['fileLogLevel'],napCatConfig['consoleLogLevel']),enableFileLog(napCatConfig[_0x2c9658(0x277)]),enableConsoleLog(napCatConfig[_0x2c9658(0x25e)]),setLogSelfInfo(selfInfo);const _0x56358d=_0x54f808['resolve'](this[_0x2c9658(0x239)],_0x5c87eb[_0x2c9658(0x244)]);_0x570f9c[_0x2c9658(0x21c)](_0x56358d,{'recursive':!![]}),_0x5c87eb[_0x2c9658(0x21d)](logDebug,_0x5c87eb[_0x2c9658(0x283)],_0x56358d),dbUtil[_0x2c9658(0x27e)](_0x54f808['resolve'](_0x56358d,'./'+_0x10cfeb[_0x2c9658(0x278)]+'-v2.db'))[_0x2c9658(0x1eb)](()=>{const _0x38be4c=_0x2c9658;this[_0x38be4c(0x218)](),this[_0x38be4c(0x248)][_0x38be4c(0x25b)](_0x4a0b72=>{const _0x1f60bd=_0x38be4c,_0xfbf69f={'lOvXE':function(_0x23ca6f,_0x41c6ac){return _0x2eb12e['bBFeE'](_0x23ca6f,_0x41c6ac);}};new Promise((_0x3338f6,_0x210e7d)=>{const _0x510f7f=_0x2449,_0x2c641c=_0x4a0b72(_0x10cfeb['uin'],_0x10cfeb[_0x510f7f(0x247)]);_0xfbf69f[_0x510f7f(0x26e)](_0x2c641c,Promise)&&_0x2c641c[_0x510f7f(0x1eb)](_0x3338f6)[_0x510f7f(0x257)](_0x210e7d);})[_0x1f60bd(0x1eb)]();});})['catch'](_0x413171=>{const _0x21c89e=_0x2c9658;_0x257fc0[_0x21c89e(0x20c)](logError,_0x21c89e(0x229),_0x413171);});})[_0x35a38b(0x257)](_0x4c934d=>{const _0x17cc3f=_0x35a38b;_0x5c87eb[_0x17cc3f(0x230)](logError,_0x5c87eb['fKjvo'],_0x4c934d);throw new Error(_0x17cc3f(0x282)+JSON['stringify'](_0x4c934d));});},this['loginListener'][_0x41df3d(0x265)]=(_0x7347c7,_0x585d8d,_0x3e8d09)=>{const _0x326124=_0x41df3d;_0x5c87eb[_0x326124(0x226)](logError,_0x5c87eb[_0x326124(0x26d)],_0x3e8d09),_0x5c87eb[_0x326124(0x259)](_0x7347c7,0x1)&&_0x5c87eb[_0x326124(0x259)](_0x585d8d,0x3)&&this['loginService'][_0x326124(0x284)]();},this['loginListener'][_0x41df3d(0x208)]=_0x4d2ec6=>{const _0x330609=_0x41df3d;logError(_0x5c87eb[_0x330609(0x26d)],_0x4d2ec6);},this[_0x41df3d(0x288)]=new Proxy(this[_0x41df3d(0x288)],this['proxyHandler']),this[_0x41df3d(0x253)][_0x41df3d(0x1fd)](new _0x36b2a8[(_0x41df3d(0x20f))](this['loginListener'])),this[_0x41df3d(0x1ff)]();}get['dataPath'](){const _0x3daf35=_0x4b3abe,_0x19af8f={'VdpuG':_0x3daf35(0x21b)};let _0x5054f3=this[_0x3daf35(0x22f)][_0x3daf35(0x235)]();return!_0x5054f3&&(_0x5054f3=_0x54f808[_0x3daf35(0x24f)](_0x177217[_0x3daf35(0x268)](),_0x19af8f[_0x3daf35(0x237)]),_0x570f9c[_0x3daf35(0x21c)](_0x5054f3,{'recursive':!![]})),_0x5054f3;}get[_0x4b3abe(0x1d8)](){const _0x31c310=_0x4b3abe,_0xfda0a={'sLcKs':_0x31c310(0x224)};return _0x54f808[_0x31c310(0x24f)](this[_0x31c310(0x239)],_0xfda0a[_0x31c310(0x223)]);}[_0x4b3abe(0x1ff)](){const _0x9ad99a=_0x4b3abe,_0x50be82={'uHaZA':_0x9ad99a(0x23b)};this[_0x9ad99a(0x1f3)][_0x9ad99a(0x22a)]({'base_path_prefix':'','platform_type':0x3,'app_type':0x4,'app_version':qqVersionConfigInfo['curVersion'],'os_version':_0x50be82[_0x9ad99a(0x23e)],'use_xlog':!![],'qua':'V1_WIN_NQ_'+qqVersionConfigInfo['curVersion'][_0x9ad99a(0x233)]('-','_')+'_GW_B','global_path_config':{'desktopGlobalPath':this['dataPathGlobal']},'thumb_config':{'maxSide':0x144,'minSide':0x30,'longLimit':0x6,'density':0x2}},new _0x36b2a8[(_0x9ad99a(0x289))](new GlobalAdapter())),this['loginService']['initConfig']({'machineId':'','appid':appid,'platVer':systemVersion,'commonPath':this[_0x9ad99a(0x1d8)],'clientVer':qqVersionConfigInfo[_0x9ad99a(0x26b)],'hostName':hostname});}['initSession'](_0x1e57ea,_0xdd4f9e){const _0x21f389={'VlFde':function(_0x24fb59,_0x38c7aa){return _0x24fb59===_0x38c7aa;},'UNnCS':function(_0x5e2f5a,_0x47f7e9){return _0x5e2f5a(_0x47f7e9);},'KQhkW':function(_0xe4ea5d,_0x52ee0f,_0x2f640c,_0x307013){return _0xe4ea5d(_0x52ee0f,_0x2f640c,_0x307013);},'xovOf':function(_0x4015ec,_0x40d385){return _0x4015ec(_0x40d385);},'DVTRp':function(_0x4f1e99,_0x191339){return _0x4f1e99+_0x191339;},'PsLdf':'init\x20failed\x20'};return new Promise((_0x58ee3c,_0x1d9899)=>{const _0x1a6ed5=_0x2449,_0x4cb5b4=_0x21f389['KQhkW'](genSessionConfig,_0x1e57ea,_0xdd4f9e,this[_0x1a6ed5(0x239)]),_0x573d15=new SessionListener();_0x573d15[_0x1a6ed5(0x23a)]=_0x4ca479=>{const _0x50e42a=_0x1a6ed5;if(_0x21f389[_0x50e42a(0x216)](_0x4ca479,0x0))return _0x21f389[_0x50e42a(0x276)](_0x58ee3c,0x0);_0x1d9899(_0x4ca479);},this[_0x1a6ed5(0x21e)][_0x1a6ed5(0x27e)](_0x4cb5b4,new _0x36b2a8[(_0x1a6ed5(0x221))](new DependsAdapter()),new _0x36b2a8[(_0x1a6ed5(0x23c))](new DispatcherAdapter()),new _0x36b2a8[(_0x1a6ed5(0x27d))](_0x573d15));try{this[_0x1a6ed5(0x21e)][_0x1a6ed5(0x1cd)](0x0);}catch(_0x543375){try{this[_0x1a6ed5(0x21e)][_0x1a6ed5(0x1cd)]();}catch(_0x31df94){_0x21f389[_0x1a6ed5(0x258)](_0x1d9899,_0x21f389[_0x1a6ed5(0x202)](_0x21f389[_0x1a6ed5(0x25c)],_0x31df94));}}});}[_0x4b3abe(0x218)](){const _0xc3c355=_0x4b3abe,_0x3d9937={'GrzLx':function(_0x33848,_0x252799){return _0x33848===_0x252799;},'VSLfA':function(_0x56e7bc,_0x4ebb39){return _0x56e7bc(_0x4ebb39);},'ULjda':function(_0x234d6d,_0x5d9218){return _0x234d6d+_0x5d9218;},'VaIHk':function(_0x5e0fae,_0x29b864){return _0x5e0fae(_0x29b864);},'VNvEl':_0xc3c355(0x1ea),'hWFMH':function(_0x1fc1b2,_0x32905c){return _0x1fc1b2===_0x32905c;},'EXmaE':function(_0x1b42d9,_0x27caba){return _0x1b42d9/_0x27caba;},'UuZTF':function(_0x283893,_0x4e9fcb){return _0x283893===_0x4e9fcb;},'ZHoZV':_0xc3c355(0x287),'lFktd':function(_0x347642,_0x261c9e,_0x1b3eef){return _0x347642(_0x261c9e,_0x1b3eef);}},_0x396a3a=new MsgListener();_0x396a3a['onLineDev']=_0x5301e9=>{const _0xafcd31=_0xc3c355;_0x5301e9[_0xafcd31(0x25b)](_0xf78d15=>{const _0x37c49c=_0xafcd31;_0x3d9937['GrzLx'](_0xf78d15[_0x37c49c(0x27c)],0x2)&&_0x3d9937[_0x37c49c(0x275)](log,_0x3d9937[_0x37c49c(0x1f0)](_0x3d9937[_0x37c49c(0x1f0)]('账号设备(',_0xf78d15[_0x37c49c(0x20d)]),')\x20在线状态变更'));});},_0x396a3a['onKickedOffLine']=_0x51176a=>{const _0x3660cf=_0xc3c355;_0x3d9937[_0x3660cf(0x1f8)](log,_0x3d9937[_0x3660cf(0x1f0)](_0x3d9937[_0x3660cf(0x1f0)](_0x3d9937[_0x3660cf(0x1f0)](_0x3d9937[_0x3660cf(0x228)],_0x51176a[_0x3660cf(0x240)]),']\x20'),_0x51176a[_0x3660cf(0x27b)]));},_0x396a3a[_0xc3c355(0x210)]=_0x3dfbab=>{const _0x5a4beb=_0xc3c355;stat[_0x5a4beb(0x1df)]+=0x1,_0x3dfbab['map'](_0x318567=>{const _0x2b7ee9=_0x5a4beb;_0x3d9937[_0x2b7ee9(0x1e9)](_0x318567[_0x2b7ee9(0x249)],'0')?dbUtil[_0x2b7ee9(0x269)](_0x318567)[_0x2b7ee9(0x1eb)]()[_0x2b7ee9(0x257)]():dbUtil['getMsgByLongId'](_0x318567[_0x2b7ee9(0x1ee)])[_0x2b7ee9(0x1eb)](_0x465e66=>{const _0x590383=_0x2b7ee9;_0x465e66&&(_0x465e66[_0x590383(0x249)]=_0x318567[_0x590383(0x249)],dbUtil[_0x590383(0x1e3)](_0x465e66)[_0x590383(0x1eb)]());});});},_0x396a3a[_0xc3c355(0x1e7)]=_0x377cd2=>{const _0x30436c=_0xc3c355;stat['packet_sent']+=0x1,stat[_0x30436c(0x250)]+=0x1,stat[_0x30436c(0x20e)]=Math[_0x30436c(0x1e5)](_0x3d9937['EXmaE'](Date[_0x30436c(0x262)](),0x3e8));},_0x396a3a[_0xc3c355(0x260)]=_0x8f3294=>{const _0x42711c=_0xc3c355;stat[_0x42711c(0x1df)]+=0x1,stat[_0x42711c(0x1e2)]+=_0x8f3294[_0x42711c(0x1d5)],stat[_0x42711c(0x20e)]=Math['floor'](_0x3d9937[_0x42711c(0x243)](Date['now'](),0x3e8));},_0x396a3a[_0xc3c355(0x215)]=(..._0x6936f1)=>{const _0xe2e7bc=_0xc3c355;stat[_0xe2e7bc(0x1df)]+=0x1;},this[_0xc3c355(0x1d7)](_0x396a3a);const _0x3f6494=new BuddyListener();_0x3f6494[_0xc3c355(0x225)]=_0x572742=>{const _0x54ab26=_0xc3c355;rawFriends['length']=0x0,rawFriends[_0x54ab26(0x20b)](..._0x572742);for(const _0x3a89ec of _0x572742){for(const _0x2734e2 of _0x3a89ec['buddyList']){const _0x416fd7=friends[_0x54ab26(0x201)](_0x2734e2[_0x54ab26(0x247)]);uid2UinMap[_0x2734e2[_0x54ab26(0x247)]]=_0x2734e2[_0x54ab26(0x278)],_0x416fd7?Object[_0x54ab26(0x231)](_0x416fd7,_0x2734e2):friends[_0x54ab26(0x1d1)](_0x2734e2['uid'],_0x2734e2);}}},this[_0xc3c355(0x1d7)](_0x3f6494),this[_0xc3c355(0x21e)]['getBuddyService']()[_0xc3c355(0x25a)](!![])[_0xc3c355(0x1eb)](_0xa2e2b1=>{});const _0x30de06=new ProfileListener();_0x30de06[_0xc3c355(0x236)]=_0x209f21=>{const _0x1d8014=_0xc3c355;_0x3d9937[_0x1d8014(0x26f)](_0x209f21[_0x1d8014(0x247)],selfInfo[_0x1d8014(0x247)])&&Object[_0x1d8014(0x231)](selfInfo,_0x209f21);},_0x30de06[_0xc3c355(0x1ed)]=_0x5d4c6c=>{},this[_0xc3c355(0x1d7)](_0x30de06);const _0x4ea9ad=new GroupListener();_0x4ea9ad[_0xc3c355(0x1d2)]=(_0xecf07e,_0x545f3d)=>{_0x545f3d['map'](_0x41defe=>{const _0x5b894e=_0x2449,_0x4460c8=groups[_0x5b894e(0x201)](_0x41defe[_0x5b894e(0x203)]);_0x4460c8&&_0x41defe['memberCount']===_0x4460c8['memberCount']?Object[_0x5b894e(0x231)](_0x4460c8,_0x41defe):groups[_0x5b894e(0x1d1)](_0x41defe[_0x5b894e(0x203)],_0x41defe);const _0x42fd71=this[_0x5b894e(0x21e)]['getGroupService']()[_0x5b894e(0x256)](_0x41defe[_0x5b894e(0x203)],_0x3d9937[_0x5b894e(0x279)]);this['session'][_0x5b894e(0x286)]()[_0x5b894e(0x200)](_0x42fd71,undefined,0xbb8)['then'](_0x47a476=>{});});},_0x4ea9ad[_0xc3c355(0x222)]=_0x986a7c=>{const _0x2d943e=_0xc3c355,_0x3f3079=_0x986a7c[_0x2d943e(0x1de)]['split']('_')[0x0];if(groupMembers[_0x2d943e(0x261)](_0x3f3079)){const _0x27e567=groupMembers[_0x2d943e(0x201)](_0x3f3079);_0x986a7c[_0x2d943e(0x251)][_0x2d943e(0x1f6)]((_0x415b76,_0x568c06)=>{const _0x568d58=_0x2d943e,_0x3ce3c6=_0x27e567[_0x568d58(0x201)](_0x568c06);_0x3ce3c6?Object[_0x568d58(0x231)](_0x3ce3c6,_0x415b76):_0x27e567['set'](_0x568c06,_0x415b76);});}else groupMembers[_0x2d943e(0x1d1)](_0x3f3079,_0x986a7c[_0x2d943e(0x251)]);},_0x4ea9ad[_0xc3c355(0x204)]=(_0x141ad6,_0x166a4d,_0x2deb21)=>{const _0x113916=_0xc3c355;_0x166a4d===0x0&&_0x2deb21[_0x113916(0x201)](selfInfo[_0x113916(0x247)])&&_0x2deb21[_0x113916(0x201)](selfInfo[_0x113916(0x247)])?.[_0x113916(0x1db)]&&_0x3d9937[_0x113916(0x1f2)](setTimeout,()=>{const _0x5b5c09=_0x113916;groups[_0x5b5c09(0x1cf)](_0x141ad6);},0x1388);_0x2deb21[_0x113916(0x1f6)]((_0xcc7f02,_0x3d7f34)=>{uid2UinMap[_0x3d7f34]=_0xcc7f02['uin'];});const _0x260f85=groupMembers['get'](_0x141ad6);_0x260f85?_0x2deb21[_0x113916(0x1f6)]((_0x164a8f,_0x11496d)=>{const _0x597c2f=_0x113916,_0x57f9bb=_0x260f85['get'](_0x11496d);_0x57f9bb?Object[_0x597c2f(0x231)](_0x57f9bb,_0x164a8f):_0x260f85[_0x597c2f(0x1d1)](_0x11496d,_0x164a8f);}):groupMembers[_0x113916(0x1d1)](_0x141ad6,_0x2deb21);},this[_0xc3c355(0x1d7)](_0x4ea9ad);}['addListener'](_0x248a89){const _0x2c28ff=_0x4b3abe,_0x42b2f2={'hHXDZ':_0x2c28ff(0x211)};_0x248a89=new Proxy(_0x248a89,this[_0x2c28ff(0x24d)]);switch(_0x248a89[_0x2c28ff(0x1f9)][_0x2c28ff(0x242)]){case _0x42b2f2[_0x2c28ff(0x252)]:{return this[_0x2c28ff(0x21e)][_0x2c28ff(0x1fb)]()[_0x2c28ff(0x26c)](new _0x36b2a8[(_0x2c28ff(0x21f))](_0x248a89));}case'GroupListener':{return this[_0x2c28ff(0x21e)][_0x2c28ff(0x286)]()[_0x2c28ff(0x20a)](new _0x36b2a8[(_0x2c28ff(0x205))](_0x248a89));}case _0x2c28ff(0x219):{return this['session'][_0x2c28ff(0x1fa)]()[_0x2c28ff(0x1ce)](new _0x36b2a8['NodeIKernelMsgListener'](_0x248a89));}case'ProfileListener':{return this['session']['getProfileService']()[_0x2c28ff(0x241)](new _0x36b2a8['NodeIKernelProfileListener'](_0x248a89));}default:return-0x1;}}['onLoginSuccess'](_0x2282f2){const _0x1b5746=_0x4b3abe;NTEventDispatch[_0x1b5746(0x27e)]({'ListenerMap':_0x36b2a8,'WrapperSession':this[_0x1b5746(0x21e)]}),this[_0x1b5746(0x248)][_0x1b5746(0x20b)](_0x2282f2);}async['quickLogin'](_0x4fd428){const _0x3a9161=_0x4b3abe,_0x45f1fe={'UQpBN':function(_0x290bb2,_0x1e0d10){return _0x290bb2!==_0x1e0d10;},'TrAXU':_0x3a9161(0x217),'HGvgG':function(_0x113cf2,_0x3d57ce){return _0x113cf2(_0x3d57ce);},'XDbeU':_0x3a9161(0x1f7)},_0x2c8a40=await this['loginService'][_0x3a9161(0x245)]();if(_0x45f1fe[_0x3a9161(0x255)](_0x2c8a40[_0x3a9161(0x23d)],0x0))throw new Error(_0x45f1fe[_0x3a9161(0x26a)]);const _0x47acf3=_0x2c8a40[_0x3a9161(0x273)]['find'](_0x4b0e2a=>_0x4b0e2a[_0x3a9161(0x278)]===_0x4fd428);if(!_0x47acf3||!_0x47acf3?.[_0x3a9161(0x22c)])throw new Error(_0x4fd428+'快速登录不可用');await _0x45f1fe['HGvgG'](sleep,0x3e8);const _0x125c65=await this['loginService'][_0x3a9161(0x27a)](_0x4fd428);if(!_0x125c65[_0x3a9161(0x23d)])throw new Error(_0x45f1fe[_0x3a9161(0x24c)]+_0x125c65[_0x3a9161(0x22d)][_0x3a9161(0x285)]);return _0x125c65;}async[_0x4b3abe(0x1ec)](_0x30fab5){const _0x228eb1=_0x4b3abe,_0x45e19c={'TMsvg':_0x228eb1(0x25f),'pWbBS':_0x228eb1(0x246),'UILzd':function(_0x16794f,_0x423c8e,_0x55b4df,_0x3b27f9){return _0x16794f(_0x423c8e,_0x55b4df,_0x3b27f9);}};return new Promise((_0x181b68,_0x54c049)=>{const _0x918afe=_0x228eb1,_0x2667f1={'ySfth':_0x45e19c[_0x918afe(0x270)],'aFfYY':_0x45e19c[_0x918afe(0x1e8)],'nHzvA':function(_0x1b4e14,_0x8ad89e,_0x5d0110,_0x1d3e66){const _0x187081=_0x918afe;return _0x45e19c[_0x187081(0x27f)](_0x1b4e14,_0x8ad89e,_0x5d0110,_0x1d3e66);}};this[_0x918afe(0x288)][_0x918afe(0x1da)]=_0x461a0c=>{const _0x454721=_0x918afe,_0x538b3f=_0x461a0c[_0x454721(0x1d3)][_0x454721(0x272)](_0x2667f1[_0x454721(0x1d9)])[0x1],_0x34e15f=Buffer[_0x454721(0x281)](_0x538b3f,_0x2667f1[_0x454721(0x1e4)]);_0x2667f1[_0x454721(0x266)](_0x30fab5,_0x461a0c[_0x454721(0x25d)],_0x461a0c['pngBase64QrcodeData'],_0x34e15f);},this['loginService'][_0x918afe(0x284)]();});}async[_0x4b3abe(0x1d4)](_0x34ec60,_0x13d762,_0x2cd7bc,_0x2f5956,_0x4f906c){const _0x16ab9d=_0x4b3abe,_0x14e915={'pzeNr':_0x16ab9d(0x254),'tadVk':_0x16ab9d(0x1fc),'hNnNt':function(_0x288d17,_0xde85de){return _0x288d17&&_0xde85de;},'WjITR':function(_0x2cf42d,_0x20ce4f){return _0x2cf42d||_0x20ce4f;},'EfYXR':function(_0x33aa0f,_0x1ffdc5){return _0x33aa0f||_0x1ffdc5;},'IBvjO':_0x16ab9d(0x214),'tkwpT':_0x16ab9d(0x206)},_0x446c6c=_0xb997e7['createHash'](_0x14e915[_0x16ab9d(0x227)])[_0x16ab9d(0x274)](_0x13d762)[_0x16ab9d(0x264)](_0x14e915['tadVk']),_0x54a782={'uin':_0x34ec60,'passwordMd5':_0x446c6c,'step':_0x14e915[_0x16ab9d(0x1e6)](_0x2cd7bc,_0x2f5956)&&_0x4f906c?0x1:0x0,'newDeviceLoginSig':'','proofWaterSig':_0x14e915[_0x16ab9d(0x1e0)](_0x2cd7bc,''),'proofWaterRand':_0x14e915[_0x16ab9d(0x1e0)](_0x2f5956,''),'proofWaterSid':_0x14e915[_0x16ab9d(0x1d0)](_0x4f906c,'')};await this[_0x16ab9d(0x253)][_0x16ab9d(0x245)](),await sleep(0x3e8);const _0x58dcb1=await this[_0x16ab9d(0x253)]['passwordLogin'](_0x54a782);switch(_0x58dcb1[_0x16ab9d(0x23d)]){case'0':{break;}case _0x14e915[_0x16ab9d(0x1e1)]:{break;}case'4':case _0x14e915[_0x16ab9d(0x267)]:default:}}async[_0x4b3abe(0x24b)](){const _0x5e4fd0=_0x4b3abe,_0x331d63=await this[_0x5e4fd0(0x253)][_0x5e4fd0(0x245)]();return _0x331d63;}}export const napCatCore=new NapCatCore();