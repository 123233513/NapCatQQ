const _0x156443=_0xd320;(function(_0x2613dc,_0x5942e2){const _0x7f38bb=_0xd320,_0x21c862=_0x2613dc();while(!![]){try{const _0x55332b=parseInt(_0x7f38bb(0x23d))/0x1*(parseInt(_0x7f38bb(0x192))/0x2)+parseInt(_0x7f38bb(0x1c1))/0x3+parseInt(_0x7f38bb(0x1db))/0x4*(parseInt(_0x7f38bb(0x1a0))/0x5)+-parseInt(_0x7f38bb(0x242))/0x6+parseInt(_0x7f38bb(0x234))/0x7*(parseInt(_0x7f38bb(0x202))/0x8)+parseInt(_0x7f38bb(0x20b))/0x9+parseInt(_0x7f38bb(0x211))/0xa*(parseInt(_0x7f38bb(0x20d))/0xb);if(_0x55332b===_0x5942e2)break;else _0x21c862['push'](_0x21c862['shift']());}catch(_0x58fb2b){_0x21c862['push'](_0x21c862['shift']());}}}(_0x242d,0x4c9c7));import _0x5d58f4 from'@/core/wrapper';import{BuddyListener,GroupListener,LoginListener,MsgListener,ProfileListener,SessionListener}from'@/core/listeners';import{DependsAdapter,DispatcherAdapter,GlobalAdapter}from'@/core/adapters';import _0x5b445e from'node:path';import _0x4a8d1f from'node:os';import _0x2f70a6 from'node:fs';function _0xd320(_0x544e10,_0x1e0914){const _0x242df8=_0x242d();return _0xd320=function(_0xd3202d,_0x1b966a){_0xd3202d=_0xd3202d-0x183;let _0x20f8b6=_0x242df8[_0xd3202d];return _0x20f8b6;},_0xd320(_0x544e10,_0x1e0914);}import{appid,qqVersionConfigInfo}from'@/common/utils/QQBasicInfo';import{hostname,systemVersion}from'@/common/utils/system';import{genSessionConfig}from'@/core/sessionConfig';import{dbUtil}from'@/common/utils/db';import{sleep}from'@/common/utils/helper';import _0x1c3c92 from'node:crypto';import{rawFriends,friends,groupMembers,groups,selfInfo,stat,uid2UinMap}from'@/core/data';import{enableConsoleLog,enableFileLog,log,logDebug,logError,setLogLevel,setLogSelfInfo}from'@/common/utils/log';import{napCatConfig}from'@/core/utils/config';export class NapCatCore{[_0x156443(0x19d)];[_0x156443(0x1fb)];[_0x156443(0x1d9)];[_0x156443(0x1e6)];['loginService'];[_0x156443(0x21e)]=[];[_0x156443(0x19c)]={'get'(target,prop,receiver){const _0x593c1f=_0x156443,JaYGrc={'uHjCQ':function(callee,param1){return callee(param1);},'TqnVz':function(x,y){return x===y;}};if(JaYGrc[_0x593c1f(0x1ac)](typeof target[prop],_0x593c1f(0x1a6)))return(...args)=>{const _0x5f9fb1=_0x593c1f;JaYGrc[_0x5f9fb1(0x189)](logDebug,target[_0x5f9fb1(0x18a)]['name']+_0x5f9fb1(0x1d3)+prop);};return Reflect[_0x593c1f(0x208)](target,prop,receiver);}};constructor(){const _0x3f5b73=_0x156443,_0x17fbbb={'fJctO':function(_0x1016a9,_0x593527){return _0x1016a9+_0x593527;},'FAVVp':_0x3f5b73(0x23e),'jQDJR':_0x3f5b73(0x237),'aKGTj':function(_0x30e04e,_0x595d54,_0x203e99){return _0x30e04e(_0x595d54,_0x203e99);},'BDzyJ':function(_0x499b5c,_0x3a5ed2){return _0x499b5c instanceof _0x3a5ed2;},'ndPik':_0x3f5b73(0x1f1),'hmubS':function(_0x3eb785,_0x59af2c,_0x537841){return _0x3eb785(_0x59af2c,_0x537841);},'ONxhv':function(_0x5cef77,_0xb89ce3){return _0x5cef77==_0xb89ce3;},'ugYfC':function(_0x56a6fe,_0x6870ba,_0x2082c3){return _0x56a6fe(_0x6870ba,_0x2082c3);}};this['engine']=new _0x5d58f4[(_0x3f5b73(0x241))](),this[_0x3f5b73(0x1fb)]=new _0x5d58f4['NodeQQNTWrapperUtil'](),this['loginService']=new _0x5d58f4[(_0x3f5b73(0x20e))](),this[_0x3f5b73(0x19d)]=new _0x5d58f4['NodeIQQNTWrapperSession'](),this['loginListener']=new LoginListener(),this[_0x3f5b73(0x1e6)][_0x3f5b73(0x233)]=_0x1ece2d=>{const _0x459b25=_0x3f5b73;logError(_0x17fbbb[_0x459b25(0x240)](_0x17fbbb[_0x459b25(0x20c)]+_0x1ece2d,_0x17fbbb[_0x459b25(0x216)]));},this['loginListener']['onQRCodeLoginSucceed']=_0xf9c284=>{const _0x376c56=_0x3f5b73,_0x523a3e={'xHLUz':function(_0x207313,_0x5196d1,_0x670848){return _0x207313(_0x5196d1,_0x670848);},'ZNjys':'数据库初始化失败','eDfup':function(_0x4fa940,_0xf274ab){return _0x17fbbb['BDzyJ'](_0x4fa940,_0xf274ab);},'VaRMQ':function(_0x27042a,_0x36f09a,_0x534631){return _0x27042a(_0x36f09a,_0x534631);},'OpDYC':function(_0x18bbc0,_0x28aec0){return _0x18bbc0(_0x28aec0);},'cDnRq':_0x17fbbb[_0x376c56(0x1cf)]};this[_0x376c56(0x1ed)](_0xf9c284[_0x376c56(0x206)],_0xf9c284[_0x376c56(0x215)])[_0x376c56(0x23f)](_0x5b7124=>{const _0x53a1cb=_0x376c56,_0x422f06={'AqHuB':function(_0x149bcb,_0x359184,_0x3f3aed){return _0x149bcb(_0x359184,_0x3f3aed);},'QVYIj':function(_0x2cf939,_0x1fb288){const _0x1761d2=_0xd320;return _0x523a3e[_0x1761d2(0x1c6)](_0x2cf939,_0x1fb288);}};selfInfo[_0x53a1cb(0x206)]=_0xf9c284[_0x53a1cb(0x206)],selfInfo[_0x53a1cb(0x215)]=_0xf9c284[_0x53a1cb(0x215)],napCatConfig[_0x53a1cb(0x19a)](),_0x523a3e['VaRMQ'](setLogLevel,napCatConfig[_0x53a1cb(0x1bb)],napCatConfig[_0x53a1cb(0x22a)]),_0x523a3e['OpDYC'](enableFileLog,napCatConfig[_0x53a1cb(0x184)]),_0x523a3e[_0x53a1cb(0x1f4)](enableConsoleLog,napCatConfig[_0x53a1cb(0x1f8)]),setLogSelfInfo(selfInfo);const _0x2428da=_0x5b445e[_0x53a1cb(0x1a5)](this[_0x53a1cb(0x1fd)],_0x53a1cb(0x188));_0x2f70a6['mkdirSync'](_0x2428da,{'recursive':!![]}),logDebug(_0x523a3e[_0x53a1cb(0x198)],_0x2428da),dbUtil[_0x53a1cb(0x217)](_0x5b445e[_0x53a1cb(0x1a5)](_0x2428da,'./'+_0xf9c284[_0x53a1cb(0x206)]+_0x53a1cb(0x1ca)))['then'](()=>{const _0x50e3e2=_0x53a1cb,_0x118ef3={'rgNTJ':function(_0x2ab78c,_0x5709e0,_0x190964){const _0x1a4f9c=_0xd320;return _0x422f06[_0x1a4f9c(0x1af)](_0x2ab78c,_0x5709e0,_0x190964);},'cUnOV':function(_0x3a71af,_0x2ae618){const _0x2e3ad8=_0xd320;return _0x422f06[_0x2e3ad8(0x201)](_0x3a71af,_0x2ae618);}};this[_0x50e3e2(0x1d7)](),this[_0x50e3e2(0x21e)][_0x50e3e2(0x1b2)](_0x348515=>{const _0x4e2d23=_0x50e3e2;new Promise((_0x2952b8,_0xfeb2de)=>{const _0x52d4f5=_0xd320,_0x3209bf=_0x118ef3[_0x52d4f5(0x1e4)](_0x348515,_0xf9c284[_0x52d4f5(0x206)],_0xf9c284['uid']);_0x118ef3[_0x52d4f5(0x1eb)](_0x3209bf,Promise)&&_0x3209bf['then'](_0x2952b8)[_0x52d4f5(0x1b5)](_0xfeb2de);})[_0x4e2d23(0x23f)]();});})[_0x53a1cb(0x1b5)](_0xe1ef0a=>{const _0x287c32=_0x53a1cb;_0x523a3e[_0x287c32(0x1e3)](logError,_0x523a3e[_0x287c32(0x1c7)],_0xe1ef0a);});})[_0x376c56(0x1b5)](_0x2da2d6=>{const _0xcb08b7=_0x376c56;_0x17fbbb[_0xcb08b7(0x204)](logError,'initSession\x20failed',_0x2da2d6);throw new Error(_0xcb08b7(0x1ec)+JSON[_0xcb08b7(0x21c)](_0x2da2d6));});},this['loginListener']['onQRCodeSessionFailed']=(_0x28bf20,_0x15cdb7,_0x552b47)=>{const _0x133b07=_0x3f5b73;_0x17fbbb[_0x133b07(0x1f2)](logError,_0x133b07(0x22e),_0x552b47),_0x17fbbb[_0x133b07(0x1f3)](_0x28bf20,0x1)&&_0x15cdb7==0x3&&this[_0x133b07(0x1f5)][_0x133b07(0x1c9)]();},this[_0x3f5b73(0x1e6)][_0x3f5b73(0x248)]=_0x263661=>{const _0x117fff=_0x3f5b73;_0x17fbbb['ugYfC'](logError,_0x117fff(0x22e),_0x263661);},this['loginListener']=new Proxy(this[_0x3f5b73(0x1e6)],this[_0x3f5b73(0x19c)]),this[_0x3f5b73(0x1f5)][_0x3f5b73(0x245)](new _0x5d58f4[(_0x3f5b73(0x239))](this['loginListener'])),this['initConfig']();}get[_0x156443(0x1fd)](){const _0x45f1b3=_0x156443,_0x490c66={'nZEXm':_0x45f1b3(0x19e)};let _0x39e657=this[_0x45f1b3(0x1fb)]['getNTUserDataInfoConfig']();return!_0x39e657&&(_0x39e657=_0x5b445e[_0x45f1b3(0x1a5)](_0x4a8d1f['homedir'](),_0x490c66[_0x45f1b3(0x23b)]),_0x2f70a6[_0x45f1b3(0x210)](_0x39e657,{'recursive':!![]})),_0x39e657;}get[_0x156443(0x221)](){const _0x316123=_0x156443,_0xd1cef0={'bmVQT':_0x316123(0x230)};return _0x5b445e['resolve'](this['dataPath'],_0xd1cef0[_0x316123(0x1f0)]);}[_0x156443(0x1bd)](){const _0x41c71b=_0x156443,_0x1b6b42={'pdrGr':_0x41c71b(0x227)};this[_0x41c71b(0x1d9)]['initWithDeskTopConfig']({'base_path_prefix':'','platform_type':0x3,'app_type':0x4,'app_version':qqVersionConfigInfo[_0x41c71b(0x222)],'os_version':_0x1b6b42[_0x41c71b(0x236)],'use_xlog':!![],'qua':_0x41c71b(0x19b)+qqVersionConfigInfo[_0x41c71b(0x222)][_0x41c71b(0x191)]('-','_')+_0x41c71b(0x22f),'global_path_config':{'desktopGlobalPath':this[_0x41c71b(0x221)]},'thumb_config':{'maxSide':0x144,'minSide':0x30,'longLimit':0x6,'density':0x2}},new _0x5d58f4[(_0x41c71b(0x212))](new GlobalAdapter())),this[_0x41c71b(0x1f5)]['initConfig']({'machineId':'','appid':appid,'platVer':systemVersion,'commonPath':this[_0x41c71b(0x221)],'clientVer':qqVersionConfigInfo[_0x41c71b(0x222)],'hostName':hostname});}[_0x156443(0x1ed)](_0x913e2,_0x44ce61){const _0x2add6f={'EEqZc':function(_0x12bc51,_0x523d63){return _0x12bc51===_0x523d63;},'FDQZC':function(_0x26b0b3,_0x4f06cc,_0x7a53ed,_0x351ba1){return _0x26b0b3(_0x4f06cc,_0x7a53ed,_0x351ba1);}};return new Promise((_0x2be04c,_0x59cb56)=>{const _0x225777=_0xd320,_0x2a9982={'eEtie':function(_0x558b1f,_0x500d59){const _0x1d1f54=_0xd320;return _0x2add6f[_0x1d1f54(0x23a)](_0x558b1f,_0x500d59);}},_0x6e4ef6=_0x2add6f[_0x225777(0x1b3)](genSessionConfig,_0x913e2,_0x44ce61,this[_0x225777(0x1fd)]),_0x13800f=new SessionListener();_0x13800f[_0x225777(0x1c0)]=_0x1049de=>{if(_0x2a9982['eEtie'](_0x1049de,0x0))return _0x2be04c(0x0);_0x59cb56(_0x1049de);},this[_0x225777(0x19d)][_0x225777(0x217)](_0x6e4ef6,new _0x5d58f4[(_0x225777(0x1ee))](new DependsAdapter()),new _0x5d58f4[(_0x225777(0x18b))](new DispatcherAdapter()),new _0x5d58f4[(_0x225777(0x1b4))](_0x13800f));try{this[_0x225777(0x19d)][_0x225777(0x1e1)](0x0);}catch(_0x37f273){try{this[_0x225777(0x19d)][_0x225777(0x1e1)]();}catch(_0x30b2a3){_0x59cb56(_0x225777(0x1aa)+_0x30b2a3);}}});}[_0x156443(0x1d7)](){const _0x38e021=_0x156443,_0x17180b={'qZsVB':function(_0x56b433,_0x534580){return _0x56b433+_0x534580;},'jXRBv':_0x38e021(0x1bf),'wAhAk':function(_0x17ee7e,_0x2ab114){return _0x17ee7e(_0x2ab114);},'EBxTT':function(_0x566bc8,_0x3c7cf6){return _0x566bc8+_0x3c7cf6;},'QgjaZ':'[KickedOffLine]\x20[','tsqoZ':function(_0x519008,_0x559048){return _0x519008===_0x559048;},'kVELz':function(_0x570aed,_0x58934e){return _0x570aed/_0x58934e;},'EOLjh':function(_0x2cf024,_0x12f68b){return _0x2cf024/_0x12f68b;},'wpvFX':function(_0xe79206,_0x3abaf3){return _0xe79206===_0x3abaf3;},'hwfjj':function(_0x4cc743,_0x212901){return _0x4cc743===_0x212901;}},_0x8770f1=new MsgListener();_0x8770f1[_0x38e021(0x247)]=_0x901183=>{const _0x45f635=_0x38e021,_0x3b75ea={'svuEQ':function(_0x372bf8,_0x21a073){return _0x372bf8===_0x21a073;},'xygAQ':function(_0x181ec5,_0x4baf17){return _0x17180b['qZsVB'](_0x181ec5,_0x4baf17);},'iGWVX':_0x17180b[_0x45f635(0x1ea)]};_0x901183[_0x45f635(0x1b2)](_0xc83b6a=>{const _0x566b12=_0x45f635;_0x3b75ea['svuEQ'](_0xc83b6a[_0x566b12(0x205)],0x2)&&log(_0x3b75ea['xygAQ'](_0x566b12(0x243)+_0xc83b6a[_0x566b12(0x18d)],_0x3b75ea['iGWVX']));});},_0x8770f1['onKickedOffLine']=_0x1cbf6a=>{const _0x4888ce=_0x38e021;_0x17180b[_0x4888ce(0x1ab)](log,_0x17180b['EBxTT'](_0x17180b[_0x4888ce(0x1c4)]+_0x1cbf6a[_0x4888ce(0x1d2)],']\x20')+_0x1cbf6a[_0x4888ce(0x1fc)]);},_0x8770f1['onMsgInfoListUpdate']=_0x17f3ce=>{const _0x1a53f0=_0x38e021,_0x4ac3ae={'NYaue':function(_0x43baeb,_0x5029d1){const _0x3b7c04=_0xd320;return _0x17180b[_0x3b7c04(0x200)](_0x43baeb,_0x5029d1);}};stat['packet_received']+=0x1,_0x17f3ce[_0x1a53f0(0x1b2)](_0x566848=>{const _0x5526f1=_0x1a53f0;_0x4ac3ae[_0x5526f1(0x1d1)](_0x566848[_0x5526f1(0x190)],'0')?dbUtil['addMsg'](_0x566848)['then']()[_0x5526f1(0x1b5)]():dbUtil[_0x5526f1(0x1c2)](_0x566848[_0x5526f1(0x229)])['then'](_0x3b8959=>{const _0x4d46c5=_0x5526f1;_0x3b8959&&(_0x3b8959[_0x4d46c5(0x190)]=_0x566848[_0x4d46c5(0x190)],dbUtil[_0x4d46c5(0x1c5)](_0x3b8959)[_0x4d46c5(0x23f)]());});});},_0x8770f1['onAddSendMsg']=_0x39030e=>{const _0x378c54=_0x38e021;stat[_0x378c54(0x1b9)]+=0x1,stat[_0x378c54(0x1f6)]+=0x1,stat[_0x378c54(0x22d)]=Math['floor'](_0x17180b[_0x378c54(0x195)](Date[_0x378c54(0x213)](),0x3e8));},_0x8770f1[_0x38e021(0x1cc)]=_0xc4c555=>{const _0x147a10=_0x38e021;stat['packet_received']+=0x1,stat[_0x147a10(0x1bc)]+=_0xc4c555[_0x147a10(0x197)],stat[_0x147a10(0x22d)]=Math[_0x147a10(0x199)](_0x17180b[_0x147a10(0x1fe)](Date[_0x147a10(0x213)](),0x3e8));},_0x8770f1[_0x38e021(0x185)]=(..._0x5e844e)=>{const _0x2887cb=_0x38e021;stat[_0x2887cb(0x1e7)]+=0x1;},this[_0x38e021(0x23c)](_0x8770f1);const _0xae2427=new BuddyListener();_0xae2427['onBuddyListChange']=_0x2214a2=>{const _0xa14cbd=_0x38e021;rawFriends[_0xa14cbd(0x197)]=0x0,rawFriends['push'](..._0x2214a2);for(const _0x16a69a of _0x2214a2){for(const _0x36029a of _0x16a69a[_0xa14cbd(0x1f7)]){const _0x2916ac=friends[_0xa14cbd(0x208)](_0x36029a[_0xa14cbd(0x215)]);uid2UinMap[_0x36029a[_0xa14cbd(0x215)]]=_0x36029a['uin'],_0x2916ac?Object['assign'](_0x2916ac,_0x36029a):friends['set'](_0x36029a[_0xa14cbd(0x215)],_0x36029a);}}},this['addListener'](_0xae2427),this[_0x38e021(0x19d)][_0x38e021(0x226)]()['getBuddyList'](!![])['then'](_0x57ba6f=>{});const _0x3bd980=new ProfileListener();_0x3bd980[_0x38e021(0x1b1)]=_0x1fe401=>{const _0xc04e80=_0x38e021;_0x17180b[_0xc04e80(0x200)](_0x1fe401['uid'],selfInfo[_0xc04e80(0x215)])&&Object[_0xc04e80(0x209)](selfInfo,_0x1fe401);},_0x3bd980[_0x38e021(0x1d0)]=_0x40170f=>{},this[_0x38e021(0x23c)](_0x3bd980);const _0x87c25=new GroupListener();_0x87c25[_0x38e021(0x1ce)]=(_0x1506b9,_0xa0f4f4)=>{const _0xb5b5f9=_0x38e021,_0xc8b6d4={'zIICc':function(_0x384683,_0x7aa0b5){const _0x1f2e06=_0xd320;return _0x17180b[_0x1f2e06(0x1a1)](_0x384683,_0x7aa0b5);}};_0xa0f4f4[_0xb5b5f9(0x1b2)](_0x4e71cd=>{const _0x3395c0=_0xb5b5f9,_0x10ec8c=groups['get'](_0x4e71cd[_0x3395c0(0x1a8)]);_0x10ec8c&&_0xc8b6d4[_0x3395c0(0x194)](_0x4e71cd['memberCount'],_0x10ec8c[_0x3395c0(0x20a)])?Object[_0x3395c0(0x209)](_0x10ec8c,_0x4e71cd):groups['set'](_0x4e71cd[_0x3395c0(0x1a8)],_0x4e71cd);const _0x56796a=this[_0x3395c0(0x19d)]['getGroupService']()[_0x3395c0(0x1b8)](_0x4e71cd[_0x3395c0(0x1a8)],_0x3395c0(0x1cb));this['session'][_0x3395c0(0x1c8)]()[_0x3395c0(0x207)](_0x56796a,undefined,0xbb8)[_0x3395c0(0x23f)](_0x4c514c=>{});});},_0x87c25[_0x38e021(0x1a2)]=_0x15a52d=>{const _0x1cb36d=_0x38e021,_0x57fc33=_0x15a52d[_0x1cb36d(0x235)][_0x1cb36d(0x1e5)]('_')[0x0];if(groupMembers[_0x1cb36d(0x1b7)](_0x57fc33)){const _0x119a73=groupMembers[_0x1cb36d(0x208)](_0x57fc33);_0x15a52d[_0x1cb36d(0x228)][_0x1cb36d(0x21b)]((_0x492a44,_0x35e30f)=>{const _0xb39b50=_0x1cb36d,_0x2ecc4e=_0x119a73[_0xb39b50(0x208)](_0x35e30f);_0x2ecc4e?Object[_0xb39b50(0x209)](_0x2ecc4e,_0x492a44):_0x119a73[_0xb39b50(0x18e)](_0x35e30f,_0x492a44);});}else groupMembers[_0x1cb36d(0x18e)](_0x57fc33,_0x15a52d['infos']);},_0x87c25[_0x38e021(0x1d6)]=(_0x46cfa7,_0x5849a4,_0x344bb8)=>{const _0x26dcd0=_0x38e021;_0x17180b['hwfjj'](_0x5849a4,0x0)&&_0x344bb8[_0x26dcd0(0x208)](selfInfo[_0x26dcd0(0x215)])&&_0x344bb8[_0x26dcd0(0x208)](selfInfo[_0x26dcd0(0x215)])?.[_0x26dcd0(0x1ef)]&&setTimeout(()=>{const _0x57074a=_0x26dcd0;groups[_0x57074a(0x196)](_0x46cfa7);},0x1388);_0x344bb8[_0x26dcd0(0x21b)]((_0x564760,_0x41e425)=>{uid2UinMap[_0x41e425]=_0x564760['uin'];});const _0x3f0089=groupMembers[_0x26dcd0(0x208)](_0x46cfa7);_0x3f0089?_0x344bb8[_0x26dcd0(0x21b)]((_0x468b30,_0x26bf72)=>{const _0x4a5aca=_0x26dcd0,_0x205a0d=_0x3f0089['get'](_0x26bf72);_0x205a0d?Object['assign'](_0x205a0d,_0x468b30):_0x3f0089[_0x4a5aca(0x18e)](_0x26bf72,_0x468b30);}):groupMembers['set'](_0x46cfa7,_0x344bb8);},this[_0x38e021(0x23c)](_0x87c25);}[_0x156443(0x23c)](_0x155f34){const _0x56c02f=_0x156443,_0x6c2561={'GMjSc':_0x56c02f(0x218),'DXZqM':_0x56c02f(0x1cd),'SLSfc':'MsgListener','eCltQ':_0x56c02f(0x1df)};_0x155f34=new Proxy(_0x155f34,this[_0x56c02f(0x19c)]);switch(_0x155f34[_0x56c02f(0x18a)][_0x56c02f(0x1dd)]){case _0x6c2561[_0x56c02f(0x1ff)]:{return this[_0x56c02f(0x19d)][_0x56c02f(0x226)]()[_0x56c02f(0x1e9)](new _0x5d58f4[(_0x56c02f(0x1d8))](_0x155f34));}case _0x6c2561[_0x56c02f(0x1da)]:{return this[_0x56c02f(0x19d)][_0x56c02f(0x1c8)]()[_0x56c02f(0x225)](new _0x5d58f4[(_0x56c02f(0x244))](_0x155f34));}case _0x6c2561[_0x56c02f(0x203)]:{return this[_0x56c02f(0x19d)][_0x56c02f(0x1dc)]()[_0x56c02f(0x21f)](new _0x5d58f4[(_0x56c02f(0x1b6))](_0x155f34));}case _0x6c2561[_0x56c02f(0x183)]:{return this[_0x56c02f(0x19d)]['getProfileService']()[_0x56c02f(0x223)](new _0x5d58f4['NodeIKernelProfileListener'](_0x155f34));}default:return-0x1;}}[_0x156443(0x1de)](_0x598893){const _0x1c3c5e=_0x156443;this[_0x1c3c5e(0x21e)]['push'](_0x598893);}async[_0x156443(0x1d4)](_0x291306){const _0x5369a8=_0x156443,_0x43209a={'SdzxD':_0x5369a8(0x1a7),'xVsCv':function(_0x4b77ec,_0x40b7ce){return _0x4b77ec+_0x40b7ce;},'ZvszE':_0x5369a8(0x224)},_0x49b55f=await this[_0x5369a8(0x1f5)]['getLoginList']();if(_0x49b55f['result']!==0x0)throw new Error(_0x43209a['SdzxD']);const _0x26ed8e=_0x49b55f['LocalLoginInfoList'][_0x5369a8(0x187)](_0x1526a2=>_0x1526a2[_0x5369a8(0x206)]===_0x291306);if(!_0x26ed8e||!_0x26ed8e?.[_0x5369a8(0x20f)])throw new Error(_0x291306+_0x5369a8(0x18c));await sleep(0x3e8);const _0x468ef2=await this[_0x5369a8(0x1f5)][_0x5369a8(0x1ba)](_0x291306);if(!_0x468ef2[_0x5369a8(0x193)])throw new Error(_0x43209a[_0x5369a8(0x1d5)](_0x43209a['ZvszE'],_0x468ef2[_0x5369a8(0x1a9)][_0x5369a8(0x18f)]));return _0x468ef2;}async[_0x156443(0x186)](_0x99d54c){const _0x157139={'bNUwv':function(_0x58ad5a,_0x2ea2b1,_0xb8e8dc,_0x44bea2){return _0x58ad5a(_0x2ea2b1,_0xb8e8dc,_0x44bea2);}};return new Promise((_0x1b753f,_0x2a05d4)=>{const _0x2f666e=_0xd320,_0x35ce3a={'NKPnc':_0x2f666e(0x21d),'PoMtb':function(_0x35b9de,_0x10a830,_0x4f691a,_0x1930cd){return _0x157139['bNUwv'](_0x35b9de,_0x10a830,_0x4f691a,_0x1930cd);}};this[_0x2f666e(0x1e6)][_0x2f666e(0x1e8)]=_0x331f00=>{const _0x4645fc=_0x2f666e,_0x298651=_0x331f00[_0x4645fc(0x1f9)][_0x4645fc(0x1e5)](_0x35ce3a[_0x4645fc(0x22c)])[0x1],_0x178570=Buffer['from'](_0x298651,_0x4645fc(0x214));_0x35ce3a[_0x4645fc(0x1a4)](_0x99d54c,_0x331f00[_0x4645fc(0x1e2)],_0x331f00[_0x4645fc(0x1f9)],_0x178570);},this['loginService'][_0x2f666e(0x1c9)]();});}async[_0x156443(0x1c3)](_0x4f0c01,_0x5de7d2,_0x309b6a,_0x1b3ce3,_0x594da4){const _0x59f128=_0x156443,_0xfad901={'tMPPu':_0x59f128(0x1a3),'oFxuV':_0x59f128(0x231),'HKXgz':function(_0x4e5067,_0x4ecf95){return _0x4e5067&&_0x4ecf95;},'ZydJJ':function(_0x250082,_0x4c6912){return _0x250082||_0x4c6912;},'BddEu':function(_0x4db07e,_0x43b975){return _0x4db07e||_0x43b975;},'RKMML':function(_0x55c60a,_0x41dfae){return _0x55c60a||_0x41dfae;},'QCnWV':_0x59f128(0x1fa),'FAQBa':_0x59f128(0x22b)},_0x4e479b=_0x1c3c92[_0x59f128(0x1b0)](_0xfad901[_0x59f128(0x219)])[_0x59f128(0x232)](_0x5de7d2)[_0x59f128(0x19f)](_0xfad901[_0x59f128(0x246)]),_0x4c8301={'uin':_0x4f0c01,'passwordMd5':_0x4e479b,'step':_0xfad901[_0x59f128(0x1e0)](_0x309b6a,_0x1b3ce3)&&_0x594da4?0x1:0x0,'newDeviceLoginSig':'','proofWaterSig':_0xfad901[_0x59f128(0x1ad)](_0x309b6a,''),'proofWaterRand':_0xfad901[_0x59f128(0x238)](_0x1b3ce3,''),'proofWaterSid':_0xfad901['RKMML'](_0x594da4,'')};await this[_0x59f128(0x1f5)]['getLoginList'](),await sleep(0x3e8);const _0x32e90c=await this[_0x59f128(0x1f5)][_0x59f128(0x1c3)](_0x4c8301);switch(_0x32e90c[_0x59f128(0x193)]){case'0':{break;}case _0xfad901[_0x59f128(0x21a)]:{break;}case'4':case _0xfad901[_0x59f128(0x1ae)]:default:}}async[_0x156443(0x1be)](){const _0x16c393=_0x156443,_0x332eb4=await this[_0x16c393(0x1f5)][_0x16c393(0x220)]();return _0x332eb4;}}function _0x242d(){const _0x582a1e=['NodeIGlobalAdapter','now','base64','uid','jQDJR','init','BuddyListener','tMPPu','QCnWV','forEach','stringify','data:image/png;base64,','onLoginSuccessFuncList','addKernelMsgListener','getLoginList','dataPathGlobal','curVersion','addKernelProfileListener','快速登录失败\x20','addKernelGroupListener','getBuddyService','Windows\x2010\x20Pro','infos','msgId','consoleLogLevel','140022013','NKPnc','last_message_time','登录失败','_GW_B','./nt_qq/global','hex','update','onUserLoggedIn','21EBfnwr','sceneId','pdrGr',')已登录,无法重复登录','BddEu','NodeIKernelLoginListener','EEqZc','nZEXm','addListener','1ENYLAd','当前账号(','then','fJctO','NodeIQQNTWrapperEngine','2722008vkuwWf','账号设备(','NodeIKernelGroupListener','addKernelLoginListener','oFxuV','onLineDev','onLoginFailed','eCltQ','fileLog','onRecvSysMsg','qrLogin','find','./NapCat/data','uHjCQ','constructor','NodeIDispatcherAdapter','快速登录不可用','devUid','set','errMsg','recallTime','replace','239924sNIMDD','result','zIICc','kVELz','delete','length','cDnRq','floor','read','V1_WIN_NQ_','proxyHandler','session','./.config/QQ','digest','1415GCahDK','wpvFX','onMemberListChange','md5','PoMtb','resolve','undefined','没有可快速登录的QQ号','groupCode','loginErrorInfo','init\x20failed\x20','wAhAk','TqnVz','ZydJJ','FAQBa','AqHuB','createHash','onProfileDetailInfoChanged','map','FDQZC','NodeIKernelSessionListener','catch','NodeIKernelMsgListener','has','createMemberListScene','packet_sent','quickLoginWithUin','fileLogLevel','message_received','initConfig','getQuickLoginList',')\x20在线状态变更','onSessionInitComplete','541473GSskND','getMsgByLongId','passwordLogin','QgjaZ','updateMsg','eDfup','ZNjys','getGroupService','getQRCodePicture','-v2.db','groupMemberList_MainWindow','onRecvMsg','GroupListener','onGroupListUpdate','ndPik','onSelfStatusChanged','NYaue','tipsTitle','\x20has\x20no\x20method\x20','quickLogin','xVsCv','onMemberInfoChange','initDataListener','NodeIKernelBuddyListener','engine','DXZqM','676iERIVk','getMsgService','name','onLoginSuccess','ProfileListener','HKXgz','startNT','qrcodeUrl','xHLUz','rgNTJ','split','loginListener','packet_received','onQRCodeGetPicture','addKernelBuddyListener','jXRBv','cUnOV','启动失败:\x20','initSession','NodeIDependsAdapter','isDelete','bmVQT','本账号数据/缓存目录：','hmubS','ONxhv','OpDYC','loginService','message_sent','buddyList','consoleLog','pngBase64QrcodeData','140022008','util','tipsDesc','dataPath','EOLjh','GMjSc','tsqoZ','QVYIj','215432nTTxzq','SLSfc','aKGTj','clientType','uin','getNextMemberList','get','assign','memberCount','454770UOReac','FAVVp','28787MbqCJn','NodeIKernelLoginService','isQuickLogin','mkdirSync','1100DzgNEq'];_0x242d=function(){return _0x582a1e;};return _0x242d();}export const napCatCore=new NapCatCore();